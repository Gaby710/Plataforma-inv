{"version":3,"sources":["components/assets/Logo_Xira-2.png","robot.jpg","components/assets/loading.gif","components/assets/Logo_Xira.png","components/LoginComponent.js","components/NodosComponent.js","routing/routes.js","components/VerNodoComponent.js","components/NuevoNodoComponent.js","components/ModificacionArista/AristaFormComponent.js","components/NuevaAristaComponent.js","components/ModificacionArista/EditarAristaComponent.js","components/EntrenamientoComponent.js","components/IntentFormComponent.js","components/NuevoIntentComponent.js","components/EditarIntentComponent.js","components/EntityFormComponent.js","components/NuevoEntityComponent.js","components/EditarEntityComponent.js","components/ReporteriaV2/ReportesComponent.js","components/Pruebas/PruebasComponent.js","components/ScriptsNoFlujo/ScriptsNoFlujoComponent.js","components/ScriptsNoFlujo/ModifyScriptsNoFlujoComponent.js","components/ScriptsNoFlujo/RemindersComponent.js","components/ScriptsNoFlujo/ModifyRemindersComponent.js","components/ScriptsNoFlujo/CreateRemindersComponent.js","components/Gramaticas/GramaticasComponent.js","components/Gramaticas/GramaticaFormComponent.js","components/Gramaticas/EditGramaticaComponent.js","components/Gramaticas/CreateGramaticaComponent.js","components/Usuarios/UsersComponent.js","components/Usuarios/UsersNewComponent.js","components/Usuarios/UsersFrameComponent.js","components/Usuarios/UsersEditComponent.js","components/NotificationComponent.js","App.js","serviceWorker.js","index.js","components/assets/LogoCliente.png","components/assets/download.png"],"names":["module","exports","Login","user","login","useState","username","setUsername","password","setPassword","style","width","margin","className","textAlign","marginTop","src","Logo_Xira_Color","alt","logo","onChange","e","target","value","onKeyPress","keyCode","which","type","align","display","color","marginRight","disabled","length","onClick","options","layout","hierarchical","enabled","levelSeparation","nodeSpacing","treeSpacing","blockShifting","edgeMinimization","parentCentralization","direction","sortMethod","edges","nodes","shape","scaling","min","max","label","physics","Nodo","nodo","history","permisos","modificarNodo","push","_id","backgroundColor","getColor","nombre","aristas","Nodos","nodos","graphMode","setMode","graph","map","index","id","flatMap","arista","from","to","nodoDestino","events","doubleClick","event","find","x","useHistory","marginLeft","filter","nodoInicial","height","key","crearNodo","padding","LogoCliente","nodoFinal","putArista","data","fetch","base_url","method","body","JSON","stringify","headers","then","res","json","getConversaciones","fbPage","channel","download","dataurl","filename","url","window","URL","createObjectURL","a","document","createElement","href","appendChild","click","remove","getTemas","dates","split","getAllConversationsData","startDate","Date","endDate","toISOString","match","getAllNotUnderstandedMessagesStats","toggle_variable","parametro","slice","refreshData","functionesChatbot","setNotification","nodoNuevo","nuevoNodoChanged","useEffect","eliminarNodo","DeleteNodo","marginBottom","cambiaTipoNodo","borrar","confirm","borrarArista","crearArista","FunctionNodo","SaveDelete","cambio","Arista","nombreNodoConectado","minWidth","modificarAristas","eliminarArista","VerNodo","useParams","funcionDefault","nombreFuncion","guardarEn","parametros","justifyContent","flexWrap","ejecutaFuncion","funcion","temp","index2","wordWrap","aristaTemp","functionsValidation","every","catch","fontSize","alignItems","mode","cache","deleteNodo","NuevoNodo","undefined","nuevoNodo","nodoValidation","nombreValidation","create","insertedId","error","console","Number","dataTypes","AristaForm","archivos","guardarArista","editing","nuevaArista","nuevaAristaChanged","DestSelection","Scripts","Buttons","Conditions","Functions","scripts","script","tipo","MultimediaScript","imagenes","audios","videos","documentos","TextScript","valor","externo","newScripts","resize","position","file","checked","botones","boton","condicionesDefaultObj","esIntent","nombreIE","condicional","variable","creandoCondicion","setCreandoCondicion","condiciones","placeholder","operacion","condicion","addCondicion","nuevaCond","borderWidth","operationValidation","nodoDestinoValidation","scriptValidation","scriptEmptyValidation","condicionalValidation","NuevaArista","setTimeout","EditarArista","TrainingBody","crearIntenciones","intent","crearEntidades","entity","Intent","modificarIntenciones","examples","example","phrase","eliminarIntenciones","Entity","modificarEntidades","subentities","subentity","eliminarEntidades","Entrenamiento","intents","entities","training","trainingChanged","train","n","sent","err","entrenar","chatbotImage","paddingTop","paddingBottom","defaultFrase","trained","IntentForm","guardarIntent","nuevoIntent","nuevoIntentChanged","intentLengthValidation","intentValidation","NuevoIntent","EditarIntent","putIntent","defaultSubentity","EntityForm","guardarEntity","nuevoEntity","setNuevoEntity","entityLengthValidation","entityDuplicateValidation","border","NuevoEntity","EditarEntity","putEntity","Reporteria","fetched","setFetched","activeTab","setActiveTab","conversationsStats","setConversationsStats","notUnderMessagesStats","setNotUnderMessagesStats","subjectStats","setSubjectStats","subjects","setSubjects","getTimezoneOffset","Promise","all","resultado","PanelPrincipal","PanelConversaciones","PanelMensajesNoEntendidos","PanelTemas","opcionesMenu","LoadingGIF","Menu","item","setStartDate","setEndDate","language","enableRangeSelection","roundRangeLimits","onRangeSelected","stats","dataSource","enableContextMenu","LeyendasConversaciones","currentDate","toLongDateString","complementaryString","conversacionesTotales","transferenciasTotales","conversacionesPeriodo","transferenciasPeriodo","descargarReportes","getFullYear","getMonth","getDate","blob","downloadConversaciones","Descargar","LeyendasMensajesNoEntendidos","mensajesTotales","mensajesNoEntendidos","mensajesRango","mensajesNoEntendidosRango","downloadNoEntendidos","Object","keys","Canal","ContenedorComparativas","COLORS","setData","bars","i","subject","barObject","name","canal","hasOwnProperty","datosCanal","Total","top","right","left","bottom","strokeDasharray","dataKey","verticalAlign","wrapperStyle","lineHeight","iconType","y","stroke","fill","ContenedorTemas","activeRecipient","setActiveRecipient","recipientes","unshift","entries","entradas","menuClassName","findIndex","element","Indicador","Grafica","setIndex","activeIndex","activeShape","renderActiveShape","cx","cy","innerRadius","outerRadius","onMouseEnter","entry","props","RADIAN","Math","PI","midAngle","startAngle","endAngle","payload","percent","sin","cos","sx","sy","mx","my","ex","ey","textAnchor","dy","d","r","toFixed","meses","AnalysisComponent","UtteranceAnalysisComponent","utterance","setUtterance","results","setResults","analizarExpresion","analyzeExpression","result","NoFlujo","scriptsNoFlujo","recordatorios","tabSelected","setTabSelected","MenuScriptsNoFlujo","MenuRecordatorios","MenuSeguimientos","modificarScripts","tipoScript","recordatoriosLocal","setRecordatoriosLocal","global","genericos","crearRecordatorios","modificarRecordatorios","recordatorio","eliminarRecordatorios","ModifyScript","setScript","ScriptNF","nuevoScript","setNuevoScript","flagFunctions","setFlagFunctions","flag","includes","Reminders","nuevoRecordatorio","setNuevoRecordatorio","listNodos","setListNodos","infoNodo","some","indice","list","concat","NodoAsociado","tmp","habilitado","numeroRecordatorios","tiempoEspera","nodoAsociadoValidation","nodoAsociadoValidation2","recordatorioValidation","recordatorioEmptyValidation","ModifyReminders","setRecordatorio","putRecordatorio","CreateReminders","GramaticasDebilesTable","gramaticas","crearGramaticasDebiles","grama","modificarGramaticasDebiles","eliminarGramaticasDebiles","GramaticasFuertesTable","crearGramaticasFuertes","modificarGramaticasFuertes","eliminarGramaticaFuertes","Gramaticas","fuertes","debiles","GramaticaForm","gramatica","guardaGramatica","editableGramatica","setEditableGramatica","title","setTitle","Title","titleValidation","EditGramatica","notify","putGramaticaFuerte","putGramaticaDebil","gramaticaDefault","CreateGramatica","postGramaticaFuerte","postGramaticaDebil","UserVisualizer","user_data","modificarUsuarios","eliminarUsuarios","ListUsers","users","localUsers","setLocalUsers","crearUsuarios","NewUserFrame","Users","roles","cpassword","rol","UserParams","setUserParams","Save","NewUser","EditUserFrame","ModifiedUser","Modify","EditUser","Notification","notificationType","this","message","React","Component","App","state","notification","reportsData","conversaciones","noEntendido","temas","bind","refreshReportsData","setState","setTemas","signIn","parse","sessionStorage","getItem","logged_user","setItem","substring","vistas","exact","path","vistaScripts","vistaGramaticas","entrenamiento","vistaEntrenamiento","reporteria","vistaReporteria","pruebas","vistaPruebas","usuarios","vistaUsuarios","manejoNodos","vistaMDN","Navigation","location","useLocation","activeRoute","setActiveRoute","allTrained","setAllTrained","e2","e3","pathname","LogoXira","opacity","fontWeight","clear","reload","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2FAAAA,EAAOC,QAAU,8vR,oBCAjBD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,kBCA3CD,EAAOC,QAAU,04E,iUC6DFC,EArDD,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAAY,EACFC,mBAAS,IADP,mBAC3BC,EAD2B,KACjBC,EADiB,OAEFF,mBAAS,IAFP,mBAE3BG,EAF2B,KAEjBC,EAFiB,KAGlC,OACC,yBAAKC,MAAO,CAAEC,MAAO,MAAOC,OAAQ,eACnC,yBAAKC,UAAU,kBACd,yBAAKH,MAAO,CAAEI,UAAW,SAAUC,UAAW,UAC7C,yBAAKC,IAAKC,IAAiBC,IAAI,kBAAkBL,UAAU,oBAC3D,yBAAKG,IAAKG,IAAMN,UAAU,uBAAuBK,IAAI,eAEtD,6BACC,wBAAIL,UAAU,yBAAd,0BACA,wBAAIA,UAAU,gCAGf,yBAAKA,UAAU,mCACd,yBAAKA,UAAU,mCACd,sCACA,6BACA,2BACCO,SAAU,SAACC,GAAD,OAAOd,EAAYc,EAAEC,OAAOC,QACtCC,WAAY,SAACH,GAAD,OAAkC,MAA1BA,EAAEI,SAAWJ,EAAEK,QAAiBtB,EAAM,CAAEE,SAAUA,EAAUE,SAAUA,KAC1Fe,MAAOjB,EACPI,MAAO,CAAEC,MAAO,SAEjB,6BACA,4CACA,6BACA,2BACCS,SAAU,SAACC,GAAD,OAAOZ,EAAYY,EAAEC,OAAOC,QACtCC,WAAY,SAACH,GAAD,OAAkC,MAA1BA,EAAEI,SAAWJ,EAAEK,QAAiBtB,EAAM,CAAEE,SAAUA,EAAUE,SAAUA,KAC1Fe,MAAOf,EACPE,MAAO,CAAEC,MAAO,OAChBgB,KAAK,eAIR,yBAAKd,UAAU,yBAAyBe,MAAM,UACnC,IAATzB,GACA,yBAAKO,MAAO,CAAEmB,QAAS,SAAUC,MAAO,MAAOC,YAAa,KAA5D,uCAED,4BACCC,SAA8B,IAApB1B,EAAS2B,QAAoC,IAApBzB,EAASyB,OAC5CC,QAAS,kBAAM9B,EAAM,CAAEE,SAAUA,EAAUE,SAAUA,KACrDK,UAAU,8BAHX,yB,kBC5CCsB,EAAU,CACdC,OAAQ,CACNC,aAAc,CACZC,SAAS,EACTC,gBAAiB,IACjBC,YAAa,IACbC,YAAa,IACbC,eAAe,EACfC,kBAAkB,EAClBC,sBAAsB,EACtBC,UAAW,KACXC,WAAY,aAGhBC,MAAO,CACLjB,MAAO,UACPG,OAAQ,KAEVe,MAAO,CACLC,MAAO,MACPC,QAAS,CACPC,IAAK,GACLC,IAAK,GACLC,MAAO,CACLF,IAAK,GACLC,IAAK,KAGTE,SAAS,IAuGPC,EAAO,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAC7B,OACE,wBACE7C,UAAW,OACXqB,QAAS,kBACPwB,EAASC,eAAiBF,EAAQG,KAAK,SAAWJ,EAAKK,MAEzDnD,MAAO,CAAEoD,gBAAiBC,EAASP,KAEnC,4BAAKA,EAAKA,MACV,4BAAKA,EAAKQ,QACV,4BAAKR,EAAKS,QAAQhC,UAITiC,EAnHD,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOT,EAAe,EAAfA,SAAe,EACRrD,oBAAS,GADD,mBAC9B+D,EAD8B,KACnBC,EADmB,KAE/BC,EAAQ,CACZtB,MAAOmB,EAAMI,KAAI,SAACf,EAAMgB,GACtB,MAAO,CACLC,GAAIjB,EAAKA,KACTH,MAAOG,EAAKQ,OACZlC,MAAOiC,EAASP,GAChBjC,MAAO,OAGXwB,MAAOoB,EAAMO,SAAQ,SAAClB,GACpB,OAAOA,EAAKS,QAAQM,KAAI,SAACI,GACvB,MAAO,CACLC,KAAMpB,EAAKA,KACXqB,GAAIF,EAAOG,oBAMbC,EAAS,CACbC,YAAa,SAAUC,GAAQ,IACvBjC,EAAUiC,EAAVjC,MACAQ,EAAOW,EAAMe,MAAK,SAACC,GAAD,OAAOA,EAAE3B,OAASR,EAAM,MAC5CQ,GAAME,EAASC,eAAiBF,EAAQG,KAAK,SAAWJ,EAAKK,OAI/DJ,EAAU2B,cAChB,OACE,oCACE,wBAAI1E,MAAO,CAAEI,UAAW,WAAxB,QAEE,2BAAOD,UAAU,SAASH,MAAO,CAAE2E,WAAY,KAC7C,2BAAO1D,KAAK,WAAWO,QAAS,kBAAMmC,GAASD,MAC/C,0BAAMvD,UAAU,YAEjBsD,EAAMmB,QAAO,SAACH,GAAD,OAAOA,EAAEI,eAAatD,OAAS,GAC3C,uBAAGvB,MAAO,CAAEoB,MAAO,QAAnB,gCAGHsC,EACC,kBAAC,IAAD,CACEE,MAAOA,EACPnC,QAASA,EACT4C,OAAQA,EACRrE,MAAO,CAAE8E,OAAQ,UAGnB,2BAAO3E,UAAU,eACf,+BACE,4BACE,kDACA,+CACA,sDAGJ,+BACGsD,EAAMI,KAAI,SAACf,GAAD,OACT,kBAAC,EAAD,CACEiC,IAAKjC,EAAKK,IACVL,KAAMA,EACNC,QAASA,EACTC,SAAUA,SAMnBA,EAASgC,WACR,yBAAKhF,MAAO,CAAEI,UAAW,WACvB,kBAAC,IAAD,CAAM+D,GAAG,QACP,4BAAQhE,UAAU,kBAAlB,OAKLuD,GACC,yBAAKvD,UAAU,oBACb,0BACEH,MAAO,CAAEiF,QAAS,gBAAiB7B,gBAAiB,aAEtD,8CACA,6BACA,0BACEpD,MAAO,CAAEiF,QAAS,gBAAiB7B,gBAAiB,aAEtD,6CACA,6BACA,8BAGJ,6BACE,yBAAK9C,IAAK4E,IAAa1E,IAAI,cAAcL,UAAU,mBAuB3D,SAASkD,EAASP,GAChB,OAAIA,EAAK+B,YACA,UACE/B,EAAKqC,UACP,UAEA,U,WCvGJ,SAASC,EAAUrB,EAAIsB,GAC7B,OAAOC,MAAMC,aAAsBxB,EAAI,CACtCyB,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAsKf,SAASC,EAAkBC,EAAQC,GACzC,OAAOZ,MAAMC,8BAAuCU,EAAS,IAAMC,GAASL,MAAK,SAACC,GAAD,OAASA,EAAIC,UA+F/F,SAASI,EAASC,EAASC,GAC1B,IAAMC,EAAMC,OAAOC,IAAIC,gBAAgBL,GACjCM,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAOP,EACTI,EAAEP,SAAWE,EACbM,SAASlB,KAAKqB,YAAYJ,GAC1BA,EAAEK,QACFL,EAAEM,SAeI,SAASC,IAAsB,IAAbC,EAAY,uDAAJ,GAC5BhD,EAAOgD,EAAMC,MAAM,KAAK,GACxBhD,EAAK+C,EAAMC,MAAM,KAAK,GACtBlB,EAASiB,EAAMC,MAAM,KAAK,IAAM,QAEpC,OAAO7B,MAAMC,aAAqB,CACjCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEzB,KAAMA,EAAMC,GAAIA,EAAI8B,OAAQA,IACnDL,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAuEf,SAASqB,IAAuE,IAA/CC,EAA8C,uDAAlC,IAAIC,KAAQC,EAAsB,uDAAZ,IAAID,KACvEpD,EAAOmD,EAAUG,cAAcC,MAAM,kCAAkC,GACvEtD,EAAKoD,EAAQC,cAAcC,MAAM,kCAAkC,GACzE,OAAOnC,MA9aiD,OA8anC,mCAA+BpB,EAA/B,eAA0CC,IAAM0B,MAAK,SAACC,GAAD,OAASA,EAAIC,UAGjF,SAAS2B,IAAkF,IAA/CL,EAA8C,uDAAlC,IAAIC,KAAQC,EAAsB,uDAAZ,IAAID,KAClFpD,EAAOmD,EAAUG,cAAcC,MAAM,kCAAkC,GACvEtD,EAAKoD,EAAQC,cAAcC,MAAM,kCAAkC,GACzE,OAAOnC,MApbiD,OAobnC,iCAA6BpB,EAA7B,eAAwCC,IAAM0B,MAAK,SAACC,GAAD,OAASA,EAAIC,UCtZtF,SAAS4B,EAAgBC,GAMvB,OAJEA,EADmB,MAAjBA,EAAU,GACAA,EAAUC,MAAM,GAAI,GAEpB,IAAMD,EAAY,IAKlC,IAAM/E,EAAO,SAAC,GAQP,IAPLkB,EAOI,EAPJA,GACAjB,EAMI,EANJA,KACAW,EAKI,EALJA,MACAqE,EAII,EAJJA,YACAC,EAGI,EAHJA,kBACAC,EAEI,EAFJA,gBACAhF,EACI,EADJA,SACI,EACkCrD,mBAASmD,GAD3C,mBACGmF,EADH,KACcC,EADd,KAEEnF,EAAU2B,cAMhB,OAJAyD,qBAAU,WACRD,EAAiBpF,KAChB,CAACA,IAGF,yBAAK9C,MAAO,CAAEI,UAAW,WACvB,yBAAKD,UAAU,gBAAgBH,MAAO,CAAEoD,gBAAiB,cACtDJ,EAASoF,cACR,kBAACC,EAAD,CACEtE,GAAIA,EACJiE,gBAAiBA,EACjBF,YAAaA,IAGjB,yBAAK3H,UAAW,kBACd,6BACE,oCAAU2C,EAAKA,MACf,2BAAIA,EAAKQ,QACT,yBAAKtD,MAAO,CAAEiF,QAAS,iBAAkBqD,aAAc,MACrD,4BACEnI,UACE,gBAAkB2C,EAAK+B,aAAe,qBAExCrD,QAAS,kBAAM+G,EAAezF,EAAM,aAJtC,WAQA,4BACE3C,UACE,iBACE2C,EAAK+B,cAAgB/B,EAAKqC,WAAa,sBAE3C3D,QAAS,kBAAM+G,EAAezF,EAAM,YALtC,UASA,4BACE3C,UACE,gBAAkB2C,EAAKqC,WAAa,mBAEtC3D,QAAS,kBAAM+G,EAAezF,EAAM,WAJtC,WAUJ,yBAAK9C,MAAO,CAAE2E,WAAY,KACxB,uCACC7B,EAAKS,QAAQM,KAAI,SAACI,EAAQH,GAAT,OAChB,kBAAC,EAAD,CACEiB,IAAKjB,EACLL,MAAOA,EACPQ,OAAQA,EACRF,GAAIjB,EAAKK,IACTW,MAAOA,EACPf,QAASA,EACTyF,OAAQ,kBA8CtB,SAAsB1F,EAAMgB,GAC1B,GACEyC,OAAOkC,QAAQ,uDAAmD3E,GAClE,CACAhB,EAAKS,QAAL,sBACKT,EAAKS,QAAQsE,MAAM,EAAG/D,IAD3B,YAEKhB,EAAKS,QAAQsE,MAAM/D,EAAQ,KAEhC,IAAMC,EAAKjB,EAAKK,WACTL,EAAKK,IACZiC,EAAUrB,EAAIjB,GAAM+C,MAAK,kBAAMiC,QAxDPY,CAAa5F,EAAMgB,IACjCd,SAAUA,OAGbA,EAAS2F,aACR,kBAAC,IAAD,CAAMxE,GAAI,mBAAqBrB,EAAKK,KAClC,4BAAQhD,UAAU,wBAAlB,SAMV,yBAAKA,UAAU,uBACb,kBAACyI,EAAD,CACEX,UAAWA,EACXC,iBAAkBA,EAClBH,kBAAmBA,IAErB,kBAACc,EAAD,CACEZ,UAAWA,EACXC,iBAAkBA,EAClBF,gBAAiBA,EACjBF,YAAaA,MAMrB,SAASS,EAAezF,EAAMgG,GAC5B,GAAIvC,OAAOkC,QAAQ,4DAAuD,CACzD,YAAXK,GACFhG,EAAK+B,aAAc,EACnB/B,EAAKqC,WAAY,GACG,UAAX2D,GACThG,EAAK+B,aAAc,EACnB/B,EAAKqC,WAAY,IAEjBrC,EAAK+B,aAAc,EACnB/B,EAAKqC,WAAY,GAEnB,IAAMpB,EAAKjB,EAAKK,WACTL,EAAKK,IACZiC,EAAUrB,EAAIjB,GAAM+C,MAAK,kBAAMiC,UAmB/BiB,EAAS,SAAC,GAA6D,IAA3D9E,EAA0D,EAA1DA,OAAQF,EAAkD,EAAlDA,GAAID,EAA8C,EAA9CA,MAAOf,EAAuC,EAAvCA,QAASU,EAA8B,EAA9BA,MAAO+E,EAAuB,EAAvBA,OAAQxF,EAAe,EAAfA,SACrDgG,EAAsBvF,EAAMe,MAChC,SAAC1B,GAAD,OAAUA,EAAKA,OAASmB,EAAOG,eAC/Bd,OACF,OACE,yBAAKtD,MAAO,CAAEiJ,SAAU,IAAK/I,OAAQ,KACnC,sDACoB+D,EAAOG,YAD3B,KAC0C4E,EAD1C,KAGA,yBAAKhJ,MAAO,CAAEmB,QAAS,UAAYD,MAAM,SACtC8B,EAASkG,kBACR,4BACE1H,QAAS,kBAAMuB,EAAQG,KAAK,oBAAsBa,EAAK,IAAMD,IAC7D3D,UAAU,cACVe,MAAM,SAHR,UASD8B,EAASmG,gBACR,4BAAQ3H,QAASgH,EAAQrI,UAAU,iBAAnC,QASKiJ,EAnMC,SAAC,GAMV,IALL3F,EAKI,EALJA,MACAqE,EAII,EAJJA,YACAC,EAGI,EAHJA,kBACAC,EAEI,EAFJA,gBACAhF,EACI,EADJA,SAEQe,EAAOsF,cAAPtF,GACFjB,EAAOW,EAAMe,MAAK,SAAC1B,GAAD,OAAUA,EAAKK,MAAQY,KAE/C,OAAIjB,EAEA,kBAAC,EAAD,CACEiB,GAAIA,EACJjB,KAAMA,EACNW,MAAOA,EACPqE,YAAaA,EACbE,gBAAiBA,EACjBD,kBAAmBA,EACnB/E,SAAUA,IAIP,0CAgLLsG,EAAiB,CAAEC,cAAe,GAAIC,UAAW,GAAIC,WAAY,IAEvE,SAASb,EAAT,GAA2E,IAAnDX,EAAkD,EAAlDA,UAAWC,EAAuC,EAAvCA,iBAAkBH,EAAqB,EAArBA,kBACnD,OACE,yBAAK/H,MAAO,CAAEI,UAAW,OAAQH,MAAO,OAAQI,UAAW,QACzD,6BACE,sDAEF,yBACEL,MAAO,CACLmB,QAAS,OACTuI,eAAgB,aAChBC,SAAU,SAGX1B,EAAU2B,gBACT3B,EAAU2B,eAAe/F,KAAI,SAACgG,EAAS/F,GACrC,OACE,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,SAChC,4BACEsB,QAAS,WACP,IAAMsI,EAAI,eAAQ7B,GAEiB,IAA/B6B,EAAKF,eAAerI,cACfuI,EAAKF,eAEZE,EAAKF,eAAL,sBACKE,EAAKF,eAAe/B,MAAM,EAAG/D,IADlC,YAEKgG,EAAKF,eAAe/B,MAAM/D,EAAQ,KAIzCoE,EAAiB4B,IAEnB3J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAhBvB,KAoBA,6BACA,0DACA,6BACA,4BACEjE,SAAU,SAACC,GAAD,OACRuH,EAAiB,2BACZD,GADW,IAEd2B,eAAe,GAAD,mBACT3B,EAAU2B,eAAe/B,MAAM,EAAG/D,IADzB,4BAGPmE,EAAU2B,eAAe9F,IAHlB,IAIVyF,cAAe5I,EAAEC,OAAOC,SAJd,YAMToH,EAAU2B,eAAe/B,MAAM/D,EAAQ,SAIhDjD,MAAOoH,EAAU2B,eAAe9F,GAAOyF,eAEvC,4BAAQxE,IAAI,GAAGlE,MAAM,IAArB,yBAGCkH,EAAkBlE,KAAI,SAACgG,GAAD,OACrB,4BAAQ9E,IAAK8E,EAAShJ,MAAOgJ,GAC1BA,OAIP,6BACA,gDACCA,EAAQJ,YACPI,EAAQJ,WAAW5F,KAAI,SAAC+D,EAAWmC,GACjC,OACE,yBAAKhF,IAAKgF,GACR,2BACErJ,SAAU,SAACC,GAAD,OACRuH,EAAiB,2BACZD,GADW,IAEd2B,eAAe,GAAD,mBACT3B,EAAU2B,eAAe/B,MAAM,EAAG/D,IADzB,4BAGPmE,EAAU2B,eAAe9F,IAHlB,IAIV2F,WAAW,GAAD,mBACLxB,EAAU2B,eACX9F,GACA2F,WAAW5B,MAAM,EAAGkC,IAHd,CAIRpJ,EAAEC,OAAOC,OAJD,YAKLoH,EAAU2B,eACX9F,GACA2F,WAAW5B,MAAMkC,EAAS,QAXpB,YAcT9B,EAAU2B,eAAe/B,MAAM/D,EAAQ,SAIhDjD,MACEoH,EAAU2B,eAAe9F,GAAO2F,WAAWM,KAI/C,4BACEvI,QAAS,kBACP0G,EAAiB,2BACZD,GADW,IAEd2B,eAAe,GAAD,mBACT3B,EAAU2B,eAAe/B,MAAM,EAAG/D,IADzB,4BAGPmE,EAAU2B,eAAe9F,IAHlB,IAIV2F,WAAW,GAAD,mBACLxB,EAAU2B,eACX9F,GACA2F,WAAW5B,MAAM,EAAGkC,IAHd,CAIRpC,EACEM,EAAU2B,eAAe9F,GACtB2F,WAAWM,KANR,YAQL9B,EAAU2B,eACX9F,GACA2F,WAAW5B,MAAMkC,EAAS,QAdpB,YAiBT9B,EAAU2B,eAAe/B,MAAM/D,EAAQ,SAIhD3D,UAAU,gBACVH,MAAO,CAAEgK,SAAU,UAED,MAAjBpC,EAAU,GACP,wBACA,wBAGN,4BACEpG,QAAS,WACP,IAAMyI,EAAU,eAAQhC,GAClB4B,EAAUI,EAAWL,eAAe9F,GAE1C+F,EAAQJ,WAAR,sBACKI,EAAQJ,WAAW5B,MAAM,EAAGkC,IADjC,YAEKF,EAAQJ,WAAW5B,MAAMkC,EAAS,KAGvCE,EAAWL,eAAe9F,GAAS+F,EAEnC3B,EAAiB+B,IAEnB9J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAfvB,SAsBR,4BACEnD,QAAS,kBACP0G,EAAiB,2BACZD,GADW,IAEd2B,eAAe,GAAD,mBACT3B,EAAU2B,eAAe/B,MAAM,EAAG/D,IADzB,4BAGPmE,EAAU2B,eAAe9F,IAHlB,IAIV2F,WAAYxB,EAAU2B,eAAe9F,GAAO2F,WAAhC,sBAEHxB,EAAU2B,eAAe9F,GAAO2F,YAF7B,CAGN,KAEF,CAAC,OATK,YAWTxB,EAAU2B,eAAe/B,MAAM/D,EAAQ,SAIhD3D,UAAU,wBAnBZ,SA0BR,4BACEqB,QAAS,kBACPyG,EAAU2B,eACN1B,EAAiB,2BACZD,GADW,IAEd2B,eAAe,GAAD,mBAAM3B,EAAU2B,gBAAhB,CAAgCN,OAEhDpB,EAAiB,2BACZD,GADW,IAEd2B,eAAgB,CAACN,OAGzBnJ,UAAU,qBAZZ,OAqBR,SAAS0I,EAAT,GAAkE,IAA5CZ,EAA2C,EAA3CA,UAAWH,EAAgC,EAAhCA,YAAaE,EAAmB,EAAnBA,gBACtCjF,EAAU2B,cAGVwF,IAAsBjC,EAAU2B,iBACjC3B,EAAU2B,eAAeO,OAAM,SAACN,GAAD,MAAuC,KAA1BA,EAAQN,iBAGzD,OACE,6BACE,yBAAKpJ,UAAU,eAAee,MAAM,SAClC,4BACEf,UAAU,+BACVqB,QAAS,kBAAMuB,EAAQG,KAAK,OAF9B,YAMA,4BACE5B,SAAU4I,EACV1I,QAAS,WACP,IAAMsI,EAAI,eAAQ7B,GACZlE,EAAK+F,EAAK3G,WACT2G,EAAK3G,IACZiC,EAAUrB,EAAI+F,GACXjE,MAAK,WACJiC,IACAE,EAAgB,8CAEjBoC,OAAM,WACLpC,EAAgB,oDAGtB7H,UAAU,8BAfZ,YAoBD+J,GACC,yBAAKhJ,MAAM,SACT,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCASV,SAASiH,EAAT,GAA2D,IAArCtE,EAAoC,EAApCA,GAAI+D,EAAgC,EAAhCA,YAAaE,EAAmB,EAAnBA,gBAC/BjF,EAAU2B,cAChB,OACE,yBAAK1E,MAAO,CAAEsK,WAAY,OAAQlK,UAAW,SAC3C,4BACEoB,QAAS,YDIV,SAAoBuC,GAC1B,OAAOuB,MAAM,GAAD,OA9c4C,OA8c5C,mBAAuBvB,GAAM,CACxCyB,OAAQ,SACR+E,KAAM,OACNC,MAAO,WACP5E,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WCXZ0E,CAAW1G,GACR8B,MAAK,WACJiC,IACAE,EAAgB,iCAChBjF,EAAQG,KAAR,QAEDkH,OAAM,WACLpC,EAAgB,gCAChBjF,EAAQG,KAAR,SAGN/C,UAAU,oBACVe,MAAM,QAdR,WCtcN,IAgEewJ,EAhEG,SAAC,GAAyC,IAAxCjH,EAAuC,EAAvCA,MAAMqE,EAAiC,EAAjCA,YAAYE,EAAqB,EAArBA,gBAC5BjF,EAAU2B,cADuC,EAElB/E,mBAAS,CAACmD,KAAK,GAAIQ,OAAO,GAAIC,QAAS,GAAIsB,iBAAa8F,EAAWxF,eAAWwF,IAF5D,mBAEhDC,EAFgD,KAEtC1C,EAFsC,KAGjD2C,OAAsEF,IAArDlH,EAAMe,MAAK,SAAA1B,GAAI,OAAIA,EAAKA,OAAS8H,EAAU9H,QAC5DgI,EAA+C,IAA5BF,EAAUtH,OAAO/B,OAC1C,SAASwJ,IFSN,IAAkB1F,KERRuF,EFSTtF,MAAMC,cAAsB,CAClCC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WEdbF,MAAK,SAACC,GACHgC,IACA/E,EAAQG,KAAK,SAAS4C,EAAIkF,YAC1BhD,EAAgB,kCAEnBoC,OAAM,SAAAa,GACHjD,EAAgB,yCAChBkD,QAAQD,MAAM,SAAUA,MAIhC,OACI,yBAAKjL,MAAO,CAACC,MAAM,MAAMC,OAAO,cAC5B,yBAAKgB,MAAM,SACP,yBAAKf,UAAU,QAAf,eAIJ,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,YACX,6BACI,4CAAqB,6BACnB0K,GACE,oCACI,2BAAO7K,MAAO,CAACoB,MAAM,QAArB,yCACJ,8BAEJ,2BAAOH,KAAK,SAASP,SAAU,SAACC,GAAD,OAAKuH,EAAiB,2BAAI0C,GAAL,IAAgB9H,KAAMqI,OAAOxK,EAAEC,OAAOC,WACtFA,MAAO+J,EAAU9H,QAGzB,6BACI,yCAAqB,6BACrB,2BAAOpC,SAAU,SAACC,GAAD,OAAKuH,EAAiB,2BAAI0C,GAAL,IAAgBtH,OAAQ3C,EAAEC,OAAOC,UACnEA,MAAO+J,EAAUtH,WAI7B,yBAAKtD,MAAO,CAACiF,QAAQ,iBAAkBqD,aAAa,UAC5C,4BAAQnI,UAAW,gBAAkByK,EAAU/F,aAAe,qBAAsBrD,QAAS,kBAAI0G,EAAiB,2BAAI0C,GAAL,IAAgB/F,aAAa,EAAMM,eAAWwF,OAA/J,WACA,4BAAQxK,UAAW,iBAAmByK,EAAU/F,cAAgB+F,EAAUzF,WAAa,sBAAuB3D,QAAS,kBAAI0G,EAAiB,2BAAI0C,GAAL,IAAgB/F,iBAAa8F,EAAWxF,eAAWwF,OAA9L,UACA,4BAAQxK,UAAW,gBAAkByK,EAAUzF,WAAa,mBAAoB3D,QAAS,kBAAI0G,EAAiB,2BAAI0C,GAAL,IAAgB/F,iBAAa8F,EAAWxF,WAAW,OAAhK,UAER,yBAAKhF,UAAU,eAAee,MAAM,SAChC,4BAAQf,UAAU,+BACdqB,QAAS,kBAAIuB,EAAQG,KAAK,OAD9B,YAGA,4BAAQ5B,SAAUuJ,GAAkBC,EAChCtJ,QAAS,kBAAIuJ,KAAU5K,UAAU,8BADrC,eCvDdmJ,EAAiB,CAAEC,cAAe,GAAIC,UAAW,GAAIC,WAAY,IACjE2B,EAAY,CAAC,QAAS,SAAU,QAAS,QAAS,aAsBzCC,EApBI,SAAC,GAAkF,IAAhFvI,EAA+E,EAA/EA,KAAMW,EAAyE,EAAzEA,MAAO6H,EAAkE,EAAlEA,SAAUC,EAAwD,EAAxDA,cAAetH,EAAyC,EAAzCA,OAAQuH,EAAiC,EAAjCA,QAASzD,EAAwB,EAAxBA,kBAAwB,EAC1DpI,mBAASsE,GADiD,mBAC7FwH,EAD6F,KAChFC,EADgF,KAGpG,OACC,yBAAK1L,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QAAQqL,EAAU,SAAW,QAA5C,YAED,yBAAKrL,UAAU,kBACd,kBAACwL,EAAD,CAAeF,YAAaA,EAAaC,mBAAoBA,EAAoBjI,MAAOA,EAAOX,KAAMA,IACrG,kBAAC8I,EAAD,CAASH,YAAaA,EAAaC,mBAAoBA,EAAoBJ,SAAUA,IACrF,kBAACO,GAAD,CAASJ,YAAaA,EAAaC,mBAAoBA,IACvD,kBAACI,GAAD,CAAYL,YAAaA,EAAaC,mBAAoBA,IAC1D,kBAACK,GAAD,CAAWN,YAAaA,EAAaC,mBAAoBA,EAAoB3D,kBAAmBA,IAChG,kBAAC,GAAD,CAAY0D,YAAaA,EAAa3I,KAAMA,EAAMyI,cAAeA,OAQrE,SAAS5D,EAAgBC,GAMxB,OAJCA,EADoB,MAAjBA,EAAU,GACDA,EAAUC,MAAM,GAAI,GAEpB,IAAMD,EAAY,IAOhC,SAAS+D,EAAT,GAA0E,IAAjDF,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,mBAAoBjI,EAAe,EAAfA,MAAOX,EAAQ,EAARA,KAChE,OACC,6BACC,uBAAG9C,MAAO,CAAEqB,YAAa,KAAzB,YAAyCyB,EAAKA,KAA9C,QACA,4BACCpC,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBrH,YAAa+G,OAAOxK,EAAEC,OAAOC,OAC7ByC,OAAaR,EAAKA,KAAO,IAAMnC,EAAEC,OAAOC,UAG1CA,MAAO4K,EAAYrH,aAEnB,4BAAQW,IAAI,UAAUlE,MAAO,GAA7B,yBAGC4C,EAAMI,KAAI,SAACf,GAAD,OACV,4BAAQiC,IAAKjC,EAAKA,KAAMjC,MAAOiC,EAAKA,MAApC,QACOA,EAAKA,KADZ,KACoBA,EAAKQ,OADzB,UAaL,SAASsI,EAAT,GAAiE,IAA9CH,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,mBAAoBJ,EAAY,EAAZA,SACnD,OACC,6BACEG,EAAYO,SACZP,EAAYO,QAAQnI,KAAI,SAACoI,EAAQnI,GAEhC,OAAQmI,EAAOC,MACd,IAAK,SACJ,OACC,kBAACC,EAAD,CACCpH,IAAKjB,EACLA,MAAOA,EACP2H,YAAaA,EACbC,mBAAoBA,EACpBJ,SAAUA,EAASc,WAGtB,IAAK,QACJ,OACC,kBAACD,EAAD,CACCpH,IAAKjB,EACLA,MAAOA,EACP2H,YAAaA,EACbC,mBAAoBA,EACpBJ,SAAUA,EAASe,SAGtB,IAAK,QACJ,OACC,kBAACF,EAAD,CACCpH,IAAKjB,EACLA,MAAOA,EACP2H,YAAaA,EACbC,mBAAoBA,EACpBJ,SAAUA,EAASgB,SAGtB,IAAK,YACJ,OACC,kBAACH,EAAD,CACCpH,IAAKjB,EACLA,MAAOA,EACP2H,YAAaA,EACbC,mBAAoBA,EACpBJ,SAAUA,EAASiB,aAGtB,QACC,OAAO,kBAACC,EAAD,CAAYzH,IAAKjB,EAAOA,MAAOA,EAAO2H,YAAaA,EAAaC,mBAAoBA,QAG/F,4BACCvL,UAAU,uBACVqB,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjBO,QAAQ,GAAD,mBAAMP,EAAYO,SAAlB,CAA2B,CAAEE,KAAM,QAASO,MAAO,GAAIC,SAAS,UAL1E,MAeH,SAASF,EAAT,GAAiE,IAA3C1I,EAA0C,EAA1CA,MAAO2H,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,mBACzC,OACC,6BACC,6BACA,qCAAW5H,EAAQ,GACnB,6BACA,6BACC,8BACCpD,SAAU,SAACC,GACV,IAAMgM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAS,CACnBoI,KAAM,QACNO,MAAO9L,EAAEC,OAAOC,MAChB6L,SAAS,GAEVhB,EAAmB,2BACfD,GADc,IAEjBO,QAASW,MAGX9L,MAAO4K,EAAYO,QAAQlI,GAAO2I,MAClCzM,MAAO,CAAEC,MAAO,MAAO6E,OAAQ,GAAI8H,OAAQ,UAG5C,4BACCpL,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjBO,QAAQ,GAAD,mBAAMP,EAAYO,QAAQnE,MAAM,EAAG/D,IAAnC,YAA8C2H,EAAYO,QAAQnE,MAAM/D,EAAQ,SAGzF3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAcD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAS,CACnBoI,KAAMvL,EAAEC,OAAOC,MACf4L,MAAO,GACPC,SAAS,GAEVhB,EAAmB,2BACfD,GADc,IAEjBO,QAASW,MAGX9L,MAAO4K,EAAYO,QAAQlI,GAAOoI,MAEjCd,EAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SASR,SAASkL,EAAT,GAAiF,IAArDrI,EAAoD,EAApDA,MAAO2H,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,mBAAoBJ,EAAY,EAAZA,SACnE,OACC,6BACC,6BACA,qCAAWxH,EAAQ,GACnB,6BACA,yBAAK9D,MAAO,CAAEK,UAAW,SACtBoL,EAAYO,QAAQlI,GAAO4I,QAsB5B,8BACC,0BAAM1M,MAAO,CAAEqB,YAAa,SAA5B,oBACA,2BACCrB,MAAO,CAAEC,MAAO,SAChBY,MAAO4K,EAAYO,QAAQlI,GAAO2I,MAClC/L,SAAU,SAACC,GACV,IAAMgM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC6K,EAAmB,2BACfD,GADc,IAEjBO,QAASW,SA/Bb,4BACCjM,SAAU,SAACC,GACV,IAAMgM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC6K,EAAmB,2BACfD,GADc,IAEjBO,QAASW,MAGX9L,MAAO4K,EAAYO,QAAQlI,GAAO2I,OAElC,4BAAQ1H,IAAI,GAAGlE,MAAM,IAArB,yBAGCyK,EAASzH,KAAI,SAACiJ,GAAD,OACb,4BAAQ/H,IAAK+H,EAAMjM,MAAOiM,GACxBA,OAsBL,4BACCtL,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjBO,QAAQ,GAAD,mBAAMP,EAAYO,QAAQnE,MAAM,EAAG/D,IAAnC,YAA8C2H,EAAYO,QAAQnE,MAAM/D,EAAQ,SAGzF3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAaD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,4DACA,2BACCY,KAAK,WACL8L,QAAStB,EAAYO,QAAQlI,GAAO4I,QACpChM,SAAU,WACT,IAAMiM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAO4I,SAAWC,EAAW7I,GAAO4I,QAC/CC,EAAW7I,GAAO2I,MAAQ,GAC1Bf,EAAmB,2BACfD,GADc,IAEjBO,QAASW,SAKb,yBAAK3M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAalB,EAAYO,QAC/BW,EAAW7I,GAAS,CACnBoI,KAAMvL,EAAEC,OAAOC,MACf4L,MAAO,GACPC,SAAS,GAEVhB,EAAmB,2BACfD,GADc,IAEjBO,QAASW,MAGX9L,MAAO4K,EAAYO,QAAQlI,GAAOoI,MAEjCd,EAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SAaR,SAAS4K,GAAT,GAAuD,IAApCJ,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,mBAC/B,OACC,6BACC,6BACA,6BACA,6BACC,uCAED,yBACC1L,MAAO,CACNmB,QAAS,OACTuI,eAAgB,aAChBC,SAAU,SAGV8B,EAAYuB,SACZvB,EAAYuB,QAAQnJ,KAAI,SAACoJ,EAAOnJ,GAC/B,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,yCAAe4D,EAAQ,GACvB,4BACCtC,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjBuB,QAAQ,GAAD,mBAAMvB,EAAYuB,QAAQnF,MAAM,EAAG/D,IAAnC,YAA8C2H,EAAYuB,QAAQnF,MAAM/D,EAAQ,SAGzF3D,UAAU,iBAPX,KAWA,6BACA,2BACCO,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBuB,QAAQ,GAAD,mBAAMvB,EAAYuB,QAAQnF,MAAM,EAAG/D,IAAnC,CAA2CnD,EAAEC,OAAOC,OAApD,YAA8D4K,EAAYuB,QAAQnF,MAAM/D,EAAQ,SAGzGjD,MAAO4K,EAAYuB,QAAQlJ,SAKhC,4BACCtC,QAAS,kBACRiK,EAAYuB,QACTtB,EAAmB,2BAChBD,GADe,IAElBuB,QAAQ,GAAD,mBAAMvB,EAAYuB,SAAlB,CAA2B,QAElCtB,EAAmB,2BAAKD,GAAN,IAAmBuB,QAAS,CAAC,QAEnD7M,UAAU,aACVH,MAAO,CAAEC,MAAO,GAAI6E,OAAQ,GAAIzE,UAAW,KAV5C,OAuBJ,SAASyL,GAAT,GAA0D,IAApCL,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,mBAC5BwB,EACG,CAAEC,UAAU,EAAMC,SAAU,SAAUC,YAAa,GAAIZ,MAAO,IADjES,EAEG,CAAEC,UAAU,EAAOC,SAAU,GAAIC,YAAa,GAAIZ,MAAO,IAF5DS,EAGK,CAAEI,SAAU,GAAID,YAAa,GAAIZ,MAAO,IAJK,EAOR9M,oBAAS,GAPD,mBAOjD4N,EAPiD,KAO/BC,EAP+B,KASxD,OACC,6BACC,6BACA,6BACA,6BACC,uBAAGxN,MAAO,CAAEqB,YAAa,KAAzB,eACCoK,EAAYgC,aAAehC,EAAYgC,YAAYlM,OAAS,GAC5D,yBAAKvB,MAAO,CAAEmB,QAAS,WACtB,gDACA,2BACCuM,YAAY,cACZhN,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBkC,UAAWhN,EAAEC,OAAOC,UAGtBA,MAAO4K,EAAYkC,cAKvB,yBACC3N,MAAO,CACNmB,QAAS,OACTuI,eAAgB,aAChBC,SAAU,SAGV8B,EAAYgC,aACZhC,EAAYgC,YAAY5J,KAAI,SAAC+J,EAAW9J,GACvC,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,4BACCsB,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBAAMhC,EAAYgC,YAAY5F,MAAM,EAAG/D,IAAvC,YAAkD2H,EAAYgC,YAAY5F,MAAM/D,EAAQ,KACnG6J,UAAWlC,EAAYgC,YAAYlM,QAAU,EAAI,GAAKkK,EAAYkC,cAGpExN,UAAU,gBACVH,MAAO,CAAE2E,WAAY,SATtB,KAaA,kCACwBgG,IAAvBiD,EAAUN,UACV,oCACC,2CACA,6BACA,2BACC5M,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBACPhC,EAAYgC,YAAY5F,MAAM,EAAG/D,IAD1B,4BAGN2H,EAAYgC,YAAY3J,IAHlB,IAITwJ,SAAU3M,EAAEC,OAAOC,SAJV,YAMP4K,EAAYgC,YAAY5F,MAAM/D,EAAQ,SAI5CjD,MAAO4K,EAAYgC,YAAY3J,GAAOwJ,WAEvC,+BAGsB,IAAvBM,EAAUT,UACV,oCACC,gDACA,6BACA,2BACCzM,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBACPhC,EAAYgC,YAAY5F,MAAM,EAAG/D,IAD1B,4BAGN2H,EAAYgC,YAAY3J,IAHlB,IAITsJ,SAAUzM,EAAEC,OAAOC,SAJV,YAMP4K,EAAYgC,YAAY5F,MAAM/D,EAAQ,SAI5CjD,MAAO4K,EAAYgC,YAAY3J,GAAOsJ,WAEvC,8BAGF,8CACA,6BACA,4BACC1M,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBACPhC,EAAYgC,YAAY5F,MAAM,EAAG/D,IAD1B,4BAGN2H,EAAYgC,YAAY3J,IAHlB,IAITuJ,YAAa1M,EAAEC,OAAOC,SAJb,YAMP4K,EAAYgC,YAAY5F,MAAM/D,EAAQ,SAI5CjD,MAAO4K,EAAYgC,YAAY3J,GAAOuJ,aAEtC,4BAAQtI,IAAI,UAAUlE,MAAM,IAA5B,+BAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,eAGA,4BAAQkE,IAAI,IAAIlE,MAAM,KAAtB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,mBAGA,4BAAQkE,IAAI,IAAIlE,MAAM,KAAtB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,oBAID,6BACA,wCACO,gCAA2B8J,IAAvBiD,EAAUN,SAAyB,WAAaM,EAAUT,SAAW,SAAW,WAE3F,6BACA,2BACCzM,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBACPhC,EAAYgC,YAAY5F,MAAM,EAAG/D,IAD1B,4BAGN2H,EAAYgC,YAAY3J,IAHlB,IAIT2I,MAAO9L,EAAEC,OAAOC,SAJP,YAMP4K,EAAYgC,YAAY5F,MAAM/D,EAAQ,SAI5CjD,MAAO4K,EAAYgC,YAAY3J,GAAO2I,QAEvC,iCAIHc,EACA,6BACC,4BAAQ/L,QAAS,kBAAMqM,EAAaX,IAA+B/M,UAAU,iBAA7E,UAGA,6BACA,4BAAQqB,QAAS,kBAAMqM,EAAaX,IAA+B/M,UAAU,iBAA7E,UAGA,6BACA,4BAAQqB,QAAS,kBAAMqM,EAAaX,IAAiC/M,UAAU,iBAA/E,aAKD,4BAAQqB,QAAS,kBAAMgM,GAAoB,IAAOrN,UAAU,qBAA5D,OAQJ,SAAS0N,EAAaC,GACjBrC,EAAYgC,YACf/B,EAAmB,2BACfD,GADc,IAEjBgC,YAAY,GAAD,mBAAMhC,EAAYgC,aAAlB,CAA+BK,OAG3CpC,EAAmB,2BAAKD,GAAN,IAAmBgC,YAAa,CAACK,MAKpDN,GAAoB,IAQtB,SAASzB,GAAT,GAA4E,IAAvDN,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,mBAAoB3D,EAAqB,EAArBA,kBACrD,OACC,6BACC,6BACA,8BAEE0D,EAAY7B,gBACb,6BACC,sDAGF,6BACE6B,EAAY7B,gBACZ6B,EAAY7B,eAAe/F,KAAI,SAACgG,EAAS/F,GACxC,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,GAAIE,UAAW,WAChD,wBAAIJ,MAAO,CAAE+N,YAAa,SAC1B,oDAAoBjK,EAAQ,GAC5B,iCAAO+F,EAAQN,cAAf,MACA,4BACC/H,QAAS,WACR,IAAMsI,EAAI,eAAQ2B,GAEiB,IAA/B3B,EAAKF,eAAerI,cAChBuI,EAAKF,eAEZE,EAAKF,eAAL,sBAA0BE,EAAKF,eAAe/B,MAAM,EAAG/D,IAAvD,YAAkEgG,EAAKF,eAAe/B,MAAM/D,EAAQ,KAGrG4H,EAAmB5B,IAEpB3J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAbtB,KAiBA,6BACA,uDACA,6BACA,4BACCjE,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjB7B,eAAe,GAAD,mBACV6B,EAAY7B,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2H,EAAY7B,eAAe9F,IAHlB,IAIZyF,cAAe5I,EAAEC,OAAOC,SAJZ,YAMV4K,EAAY7B,eAAe/B,MAAM/D,EAAQ,SAI/CjD,MAAO4K,EAAY7B,eAAe9F,GAAOyF,eAEzC,4BAAQxE,IAAI,GAAGlE,MAAM,IAArB,yBAGCkH,EAAkBlE,KAAI,SAACgG,GAAD,OACtB,4BAAQ9E,IAAK8E,EAAShJ,MAAOgJ,GAC3BA,OAIJ,6BACA,gDACA,6BACCA,EAAQJ,YACRI,EAAQJ,WAAW5F,KAAI,SAAC+D,EAAWmC,GAClC,OACC,yBAAKhF,IAAKgF,GACT,2BACCrJ,SAAU,SAACC,GAAD,OACT+K,EAAmB,2BACfD,GADc,IAEjB7B,eAAe,GAAD,mBACV6B,EAAY7B,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2H,EAAY7B,eAAe9F,IAHlB,IAIZ2F,WAAW,GAAD,mBACNgC,EAAY7B,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADhD,CAETpJ,EAAEC,OAAOC,OAFA,YAGN4K,EAAY7B,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAPpD,YAUV0B,EAAY7B,eAAe/B,MAAM/D,EAAQ,SAI/CjD,MAAO4K,EAAY7B,eAAe9F,GAAO2F,WAAWM,KAGrD,4BACCvI,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjB7B,eAAe,GAAD,mBACV6B,EAAY7B,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2H,EAAY7B,eAAe9F,IAHlB,IAIZ2F,WAAW,GAAD,mBACNgC,EAAY7B,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADhD,CAETpC,EAAgB8D,EAAY7B,eAAe9F,GAAO2F,WAAWM,KAFpD,YAGN0B,EAAY7B,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAPpD,YAUV0B,EAAY7B,eAAe/B,MAAM/D,EAAQ,SAI/C3D,UAAU,gBACVH,MAAO,CAAEgK,SAAU,UAED,MAAjBpC,EAAU,GAAa,wBAA0B,wBAGnD,4BACCpG,QAAS,WACR,IAAMyI,EAAU,eAAQwB,GAClB5B,EAAUI,EAAWL,eAAe9F,GAE1C+F,EAAQJ,WAAR,sBAAyBI,EAAQJ,WAAW5B,MAAM,EAAGkC,IAArD,YAAiEF,EAAQJ,WAAW5B,MAAMkC,EAAS,KAEnGE,EAAWL,eAAe9F,GAAS+F,EAEnC6B,EAAmBzB,IAEpB9J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAZtB,SAmBJ,4BACCnD,QAAS,kBACRkK,EAAmB,2BACfD,GADc,IAEjB7B,eAAe,GAAD,mBACV6B,EAAY7B,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2H,EAAY7B,eAAe9F,IAHlB,IAIZ2F,WAAYgC,EAAY7B,eAAe9F,GAAO2F,WAAlC,sBAAmDgC,EAAY7B,eAAe9F,GAAO2F,YAArF,CAAiG,KAAM,CAAC,OAJxG,YAMVgC,EAAY7B,eAAe/B,MAAM/D,EAAQ,SAI/C3D,UAAU,wBAdX,SAqBJ,4BACCqB,QAAS,kBACRiK,EAAY7B,eACT8B,EAAmB,2BAChBD,GADe,IAElB7B,eAAe,GAAD,mBAAM6B,EAAY7B,gBAAlB,CAAkCN,OAEhDoC,EAAmB,2BAChBD,GADe,IAElB7B,eAAgB,CAACN,OAGrBnJ,UAAU,qBAZX,OAyBJ,SAAS0I,GAAT,GAA2D,IAiBtDmF,EAjBiBvC,EAAoC,EAApCA,YAAa3I,EAAuB,EAAvBA,KAAMyI,EAAiB,EAAjBA,cAClCxI,EAAU2B,cAIVuJ,EAAoD,IAA5BxC,EAAYrH,YAGpC8J,EAAkD,IAA/BzC,EAAYO,QAAQzK,OAGvC4M,GAAyB1C,EAAYO,QAAQ7B,OAAM,SAAC8B,GAAD,MAA6B,KAAjBA,EAAOQ,SAGtEvC,IAAsBuB,EAAY7B,iBAAkB6B,EAAY7B,eAAeO,OAAM,SAACN,GAAD,MAAuC,KAA1BA,EAAQN,iBAK/GyE,EADGvC,EAAYgC,YAAYlM,OAAS,KACdkK,EAAYkC,UAAUlG,MAAM,SAAUgE,EAAYkC,UAAUlG,MAAM,QAAQlG,SAAWkK,EAAYgC,YAAYlM,QAMpI,IAAM6M,EACL3C,EAAYgC,cACXhC,EAAYgC,YAAYtD,OACxB,SAACyD,GAAD,MAAyC,KAA1BA,EAAUP,aAA6C,KAAvBO,EAAUR,UAAuC,KAApBQ,EAAUnB,OAAuC,KAAvBmB,EAAUN,YAGlH,OACC,6BACC,yBAAKnN,UAAU,eAAee,MAAM,SACnC,4BAAQf,UAAU,+BAA+BqB,QAAS,kBAAMuB,EAAQG,KAAK,SAAWJ,EAAKK,OAA7F,YAGA,4BACC7B,SACC2M,GAAyBC,GAAoBE,GAAyBJ,GAAuB9D,GAAuBiE,EAErH3M,QAAS,kBAAM+J,EAAcE,IAC7BtL,UAAU,8BALX,YAUA8N,GACA,yBAAK/M,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,4CAGD8M,GACA,yBAAKhN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAGD+M,GACA,yBAAKjN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,uDAGD4M,GACA,yBAAK9M,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,4EAGDgN,GACA,yBAAKlN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAGD8I,GACA,yBAAKhJ,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCCn0BL,IAqCeiN,GArCK,SAAC,GAA0E,IAAxE5K,EAAuE,EAAvEA,MAAO6H,EAAgE,EAAhEA,SAAUvD,EAAsD,EAAtDA,kBAAmBC,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YACnE/D,EAAOsF,cAAPtF,GACFhB,EAAU2B,cACV5B,EAAOW,EAAMe,MAAK,SAAC1B,GAAD,OAAUA,EAAKK,MAAQY,KAiB/C,GAAIjB,EAAM,CAET,OACC,kBAAC,EAAD,CACCA,KAAMA,EACNmB,OAJoB,CAAE+H,QAAS,GAAI5H,YAAa,EAAGd,OAAQ,GAAIqK,UAAW,GAAIF,YAAa,IAK3FhK,MAAOA,EACP8H,cAvBH,SAAuBE,GACtB,IAAM3B,EAAI,eAAQhH,GAClBgH,EAAKvG,QAAL,sBAAmBT,EAAKS,SAAxB,CAAiCkI,WAC1B3B,EAAK3G,IACZiC,EAAUtC,EAAKK,IAAK2G,GAClBjE,MAAK,WACL9C,EAAQG,KAAK,SAAWJ,EAAKK,KAC7B6E,EAAgB,iCAChBsG,WAAWxG,EAAa,QAExBsC,OAAM,SAACa,GACPjD,EAAgB,2CAChBkD,QAAQD,MAAM,SAAUA,OAYxBO,SAAS,EACTF,SAAUA,EACVvD,kBAAmBA,IAIrB,OAAO,0CCIMwG,GAtCM,SAAC,GAA0E,IAAxE9K,EAAuE,EAAvEA,MAAO6H,EAAgE,EAAhEA,SAAUvD,EAAsD,EAAtDA,kBAAmBC,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAAkB,EACxEuB,cAAdtF,EADsF,EACtFA,GAAID,EADkF,EAClFA,MACNf,EAAU2B,cACV5B,EAAOW,EAAMe,MAAK,SAAC1B,GAAD,OAAUA,EAAKK,MAAQY,KAiB/C,GAAIjB,EAAM,CACT,IAAMmB,EAASnB,EAAKS,QAAQO,GAC5B,OACC,kBAAC,EAAD,CACChB,KAAMA,EACNW,MAAOA,EACP8H,cAtBH,SAAuBE,GACtB,IAAM3B,EAAI,eAAQhH,GAClBgH,EAAKvG,QAAL,sBAAmBT,EAAKS,QAAQsE,MAAM,EAAGsD,OAAOrH,KAAhD,CAAyD2H,GAAzD,YAAyE3I,EAAKS,QAAQsE,MAAMsD,OAAOrH,GAAS,YACrGgG,EAAK3G,IACZiC,EAAUtC,EAAKK,IAAK2G,GAClBjE,MAAK,WACL9C,EAAQG,KAAK,SAAWJ,EAAKK,KAC7B6E,EAAgB,kCAChBsG,WAAWxG,EAAa,QAExBsC,OAAM,SAACa,GACPjD,EAAgB,4CAChBkD,QAAQD,MAAM,SAAUA,OAWxBhH,OAAQA,EACRuH,SAAS,EACTF,SAAUA,EACVvD,kBAAmBA,IAIrB,OAAO,0C,qBCwBHyG,GAAe,SAAC,GAA4D,IAA1DnJ,EAAyD,EAAzDA,KAAMkF,EAAmD,EAAnDA,KAAMvH,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YACxD/E,EAAU2B,cAChB,OAAI6F,EAEF,oCACEvH,EAASyL,kBACT,kBAAC,IAAD,CAAMtK,GAAG,gBACR,4BAAQhE,UAAU,kBAAlB,MAGDkF,EAAKxB,KAAI,SAAC6K,GAAD,OACT,kBAAC,GAAD,CACC3J,IAAK2J,EAAOvL,IACZuL,OAAQA,EACR3L,QAASA,EACTC,SAAUA,EACV8E,YAAaA,EACbE,gBAAiBA,QAOpB,oCACEhF,EAAS2L,gBACT,kBAAC,IAAD,CAAMxK,GAAG,iBACR,4BAAQhE,UAAU,kBAAlB,MAGDkF,EAAKxB,KAAI,SAAC+K,GAAD,OACT,kBAAC,GAAD,CACC7J,IAAK6J,EAAOzL,IACZyL,OAAQA,EACR7L,QAASA,EACTC,SAAUA,EACV8E,YAAaA,EACbE,gBAAiBA,SAQjB6G,GAAS,SAAC,GAAiE,IAA/DH,EAA8D,EAA9DA,OAAQ3L,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAC7D,OACC,yBAAK9H,MAAO,CAAE6M,SAAU,aACvB,yBAAK1M,UAAU,SAASqB,QAAS,kBAAMwB,EAAS8L,sBAAwB/L,EAAQG,KAAK,iBAAmBwL,EAAOvL,OAC9G,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAClC+J,EAAOA,OACoB,IAA3BA,EAAOK,SAASxN,QAChB,uBAAGvB,MAAO,CAAEoB,MAAO,MAAOiJ,SAAU,WAApC,qDAGF,4BACEqE,EAAOK,SACNlH,MAAM,EAAG,GACThE,KAAI,SAACmL,EAASlL,GAAV,OACM,IAAVA,EAAc,wBAAIiB,IAAKjB,GAAQkL,EAAQC,QAAe,wBAAIlK,IAAKjB,GAAT,YAIzDd,EAASkM,qBACT,4BACC1N,QAAS,WN5CP,IAAsBuC,KM6CV2K,EAAOvL,IN5ClBmC,MAAMC,eAAuB,CACnCC,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAAExC,IAAKY,IAC5B6B,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WMuCdF,MAAK,WACLiC,IACAE,EAAgB,uCAEhBoC,OAAM,WACNpC,EAAgB,4CAGnB7H,UAAU,wBAXX,OAmBEgP,GAAS,SAAC,GAAiE,IAA/DP,EAA8D,EAA9DA,OAAQ7L,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAC7D,OACC,yBAAK9H,MAAO,CAAE6M,SAAU,aACvB,yBAAK1M,UAAU,SAASqB,QAAS,kBAAMwB,EAASoM,oBAAsBrM,EAAQG,KAAK,kBAAoB0L,EAAOzL,OAC7G,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAClCiK,EAAOA,OACuB,IAA9BA,EAAOS,YAAY9N,QACnB,uBAAGvB,MAAO,CAAEoB,MAAO,MAAOiJ,SAAU,WAApC,qDAGF,4BACEuE,EAAOS,YACNxH,MAAM,EAAG,GACThE,KAAI,SAACmL,EAASlL,GAAV,OACM,IAAVA,EAAc,wBAAIiB,IAAKjB,GAAQkL,EAAQM,WAAkB,wBAAIvK,IAAKjB,GAAT,YAI5Dd,EAASuM,mBACT,4BACC/N,QAAS,WNxEP,IAAsBuC,KMyEV6K,EAAOzL,INxElBmC,MAAMC,gBAAwB,CACpCC,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAAExC,IAAKY,IAC5B6B,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WMmEdF,MAAK,WACLiC,IACAE,EAAgB,qCAEhBoC,OAAM,WACNpC,EAAgB,0CAGnB7H,UAAU,wBAXX,OAmBWqP,GApLO,SAAC,GAAmE,IAAjEC,EAAgE,EAAhEA,QAASC,EAAuD,EAAvDA,SAAU1H,EAA6C,EAA7CA,gBAAiBF,EAA4B,EAA5BA,YAAa9E,EAAe,EAAfA,SAAe,EACpDrD,oBAAS,GAD2C,mBACjFgQ,EADiF,KACvEC,EADuE,OAEhEjQ,oBAAS,GAFuD,mBAEjF4K,EAFiF,KAE3E5G,EAF2E,KAGxF,SAASkM,IACJF,IACJC,GAAgB,GNgGVtK,MAAMC,cAAqBM,MAAK,SAACC,GAAD,OAASA,EAAIC,UM9FjDF,MAAK,SAACE,GACN+B,IACI/B,EAAK+J,EAAI,EACZ9H,EAAgB,6DAEZjC,EAAKgK,KACR/H,EAAgB,2EAEhBA,EAAgB,sFAGlB4H,GAAgB,MAEhBxF,OAAM,SAAC4F,GACPhI,EAAgB,wCAChBkD,QAAQD,MAAM,SAAU+E,GACxBJ,GAAgB,OAGnB,OACC,6BACE5M,EAASiN,UACT,yBAAKjQ,MAAO,CAAEI,UAAW,WACxB,yBAAKE,IAAK4P,KAAc1P,IAAI,oBAAoBL,UAAU,iBAAiBqB,QAAS,kBAAMqO,QAG5F,yBAAK1P,UAAU,UAAUH,MAAO,CAAEK,UAAW,GAAIiI,aAAc,KAC9D,yBACC9G,QAAS,kBAAMmC,GAAQ,IACvB3D,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GACvCjQ,UAAWoK,EAAO,6BAA+B,YAHlD,WAMA,yBACC/I,QAAS,kBAAMmC,GAAQ,IACvB3D,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GACvCjQ,UAAYoK,EAAsC,WAA/B,8BAHpB,aAOD,wBAAIvK,MAAO,CAAEI,UAAW,SAAUC,UAAW,IAAMkK,EAAO,UAAY,YACtE,kBAAC,GAAD,CACClF,KAAMkF,EAAOkF,EAAUC,EACvBnF,KAAMA,EACNvH,SAAUA,EACV8E,YAAaA,EACbE,gBAAiBA,MCxDfqI,GAAe,CAAEpB,OAAQ,GAAIqB,SAAS,GAiF7BC,GA/EI,SAAC,GAA0D,IAAxD7B,EAAuD,EAAvDA,OAAQe,EAA+C,EAA/CA,QAASe,EAAsC,EAAtCA,cAAezN,EAAuB,EAAvBA,QAASyI,EAAc,EAAdA,QAAc,EAClC7L,mBAAS+O,GADyB,mBACrE+B,EADqE,KACxDC,EADwD,KAEtEC,EAAuD,IAA9BF,EAAY/B,OAAOnN,OACzCqP,OAAsFjG,IAAnE8E,EAAQjL,MAAK,SAACkK,GAAD,OAAYA,EAAOA,SAAW+B,EAAY/B,UACnF,OACC,yBAAK1O,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QAAQqL,EAAU,SAAW,QAA5C,YAED,yBAAKrL,UAAU,kBACbqL,EACA,4BAAKkD,EAAOA,QAEZ,oCACEkC,GACA,oCACC,2BAAO5Q,MAAO,CAAEoB,MAAO,QAAvB,wBACA,8BAGF,sCACA,2BACCV,SAAU,SAACC,GAAD,OAAO+P,EAAmB,2BAAKD,GAAN,IAAmB/B,OAAQ/N,EAAEC,OAAOC,UACvEA,MAAO4P,EAAY/B,OACnB1O,MAAO,CAAEqK,SAAU,WACpB,8BAGF,qCACCoG,EAAY1B,SAASlL,KAAI,SAACmL,EAASlL,GAAV,OACzB,yBAAKiB,IAAKjB,GACT,2BACCpD,SAAU,SAACC,GAAD,OACT+P,EAAmB,2BACfD,GADc,IAEjB1B,SAAS,GAAD,mBACJ0B,EAAY1B,SAASlH,MAAM,EAAG/D,IAD1B,CAEP,CAAEmL,OAAQtO,EAAEC,OAAOC,MAAOyP,SAAS,IAF5B,YAGJG,EAAY1B,SAASlH,MAAM/D,EAAQ,SAIzCjD,MAAOmO,EAAQC,OACfjP,MAAO,CAAEC,MAAO,MAAOI,UAAW,IAClCiB,SAAU0N,EAAQsB,UAEnB,4BACC9O,QAAS,kBACRkP,EAAmB,2BACfD,GADc,IAEjB1B,SAAS,GAAD,mBAAM0B,EAAY1B,SAASlH,MAAM,EAAG/D,IAApC,YAA+C2M,EAAY1B,SAASlH,MAAM/D,EAAQ,SAG5F3D,UAAU,iBAPX,SAYF,4BACCqB,QAAS,kBAAMkP,EAAmB,2BAAKD,GAAN,IAAmB1B,SAAS,GAAD,mBAAM0B,EAAY1B,UAAlB,CAA4BsB,SACxFlQ,UAAU,wBAFX,KAKA,yBAAKA,UAAU,eAAee,MAAM,SACnC,4BAAQf,UAAU,+BAA+BqB,QAAS,kBAAMuB,EAAQG,KAAK,eAA7E,YAGA,4BACC5B,UAAWqP,GAA0BC,KAAsBpF,EAC3DhK,QAAS,kBAAMgP,EAAcC,IAC7BtQ,UAAU,8BAHX,eClDU0Q,GAhBK,SAAC,GAA2C,IAA1CpB,EAAyC,EAAzCA,QAAQ3H,EAAiC,EAAjCA,YAAYE,EAAqB,EAArBA,gBAChCjF,EAAU2B,cAYhB,OAAO,kBAAC,GAAD,CAAYgK,OAXG,CAACA,OAAO,GAAIK,SAAS,CAAC,CAACE,OAAO,GAAIqB,SAAQ,KAWtBb,QAASA,EAASe,cAV5D,SAAgBC,GR4Bb,IAAoBpL,KQ3BRoL,ER4BXnL,MAAMC,sBAA8B,CAC1CC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WQjCbqE,OAAM,SAAAa,GAAUjD,EAAgB,2CAAwCkD,QAAQD,MAAM,SAAUA,MAChGpF,MAAK,SAACC,GACHgC,IACA/E,EAAQG,KAAK,iBAAiB4C,EAAIkF,YAClChD,EAAgB,qCAI2DjF,QAASA,EAASyI,SAAS,KCWnGsF,GAxBM,SAAC,GAA+C,IAA7CrB,EAA4C,EAA5CA,QAASzH,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YACzC/D,EAAOsF,cAAPtF,GACFhB,EAAU2B,cACVgK,EAASe,EAAQjL,MAAK,SAAC1B,GAAD,OAAUA,EAAKK,MAAQY,KAcnD,OAAI2K,EACI,kBAAC,GAAD,CAAYA,OAAQA,EAAQe,QAASA,EAASe,cAdtD,SAAuBC,GACtB,IAAMpL,EAAO,CAAEqJ,OAAQ+B,EAAY/B,OAAQK,SAAU0B,EAAY1B,WTuD5D,SAAmBhL,EAAIsB,GAC7B,OAAOC,MAAMC,qBAA8BxB,EAAI,CAC9CyB,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WS7DpBgL,CAAUN,EAAYtN,IAAKkC,GACzBQ,MAAK,WACLiC,IACA/E,EAAQG,KAAK,aACb8E,EAAgB,qCAEhBoC,OAAM,SAACa,GACPjD,EAAgB,4CAChBkD,QAAQD,MAAM,SAAUA,OAIyDlI,QAASA,EAASyI,SAAS,IAEvG,0CCvBHwF,GAAmB,CAAC1B,UAAU,GAAIP,SAAS,IAC3CsB,GAAe,CAAEpB,OAAQ,GAAIqB,SAAS,GAyE7BW,GAvEI,SAAC,GAAsD,IAArDrC,EAAoD,EAApDA,OAAOc,EAA6C,EAA7CA,SAASwB,EAAoC,EAApCA,cAAcnO,EAAsB,EAAtBA,QAASyI,EAAa,EAAbA,QAAa,EAChC7L,mBAASiP,GADuB,mBAC9DuC,EAD8D,KAClDC,EADkD,KAE/DC,EAAuD,IAA9BF,EAAYvC,OAAOrN,OAC5C+P,OAA8F3G,IAAlE+E,EAASlL,MAAK,SAAAoK,GAAM,OAAIA,EAAOA,SAAWuC,EAAYvC,UACxF,OACI,yBAAK5O,MAAO,CAACC,MAAM,MAAMC,OAAO,cAC5B,yBAAKgB,MAAM,SACP,yBAAKf,UAAU,QACVqL,EAAU,SAAW,QAD1B,YAIJ,yBAAKrL,UAAU,kBACVqL,EACG,4BAAKoD,EAAOA,QAEZ,oCAAI0C,GAA6B,oCAAE,2BAAOtR,MAAO,CAACoB,MAAM,QAArB,wBAAyD,8BAC5F,sCACI,2BAAOV,SAAU,SAACC,GAAD,OAAKyQ,EAAe,2BAAID,GAAL,IAAkBvC,OAAQjO,EAAEC,OAAOC,UACnEA,MAAOsQ,EAAYvC,OAAQ5O,MAAO,CAACqK,SAAS,WAEpD,8BAGJ,0CACC8G,EAAY9B,YAAYxL,KAAI,SAACyL,EAAUxL,GAAX,OACzB,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAACuR,OAAQ,oBAAqBtM,QAAS,KAC/D,2BAAOvE,SAAU,SAACC,GAAD,OAAKyQ,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,YAAYxH,MAAM,EAAE/D,IAArC,4BAAgDwL,GAAhD,IAA2DA,UAAW3O,EAAEC,OAAOC,SAA/E,YAAyFsQ,EAAY9B,YAAYxH,MAAM/D,EAAM,SAC1LjD,MAAOyO,EAAUA,UAAYtP,MAAO,CAACC,MAAM,MAAMI,UAAU,MAE/D,4BAAQmB,QAAS,kBAAI4P,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,YAAYxH,MAAM,EAAE/D,IAArC,YAA+CqN,EAAY9B,YAAYxH,MAAM/D,EAAM,SAC/I3D,UAAU,iBADd,KAIA,uBAAGH,MAAO,CAAC2E,WAAW,KAAtB,YACA,yBAAK3E,MAAO,CAACE,OAAQ,GAAGG,UAAW,KAC9BiP,EAAUP,SAASlL,KAAK,SAACmL,EAASjF,GAC/B,OACA,yBAAKhF,IAAKgF,GACN,2BAAOrJ,SAAU,SAACC,GAAD,OAAKyQ,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,YAAYxH,MAAM,EAAE/D,IAArC,4BAAgDwL,GAAhD,IAA2DP,SAAS,GAAD,mBAAMoC,EAAY9B,YAAYvL,GAAOiL,SAASlH,MAAM,EAAEkC,IAAtD,4BAAkEiF,GAAlE,IAA2EC,OAAQtO,EAAEC,OAAOC,SAA5F,YAAsGsQ,EAAY9B,YAAYvL,GAAOiL,SAASlH,MAAMkC,EAAO,QAA9N,YAAsOoH,EAAY9B,YAAYxH,MAAM/D,EAAM,SACvUjD,MAAOmO,EAAQC,OAASjP,MAAO,CAACC,MAAM,MAAMI,UAAU,MAE1D,4BAAQmB,QAAS,kBAAI4P,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,YAAYxH,MAAM,EAAE/D,IAArC,4BAAgDwL,GAAhD,IAA2DP,SAAS,GAAD,mBAAMoC,EAAY9B,YAAYvL,GAAOiL,SAASlH,MAAM,EAAEkC,IAAtD,YAAiEoH,EAAY9B,YAAYvL,GAAOiL,SAASlH,MAAMkC,EAAO,QAAzL,YAAiMoH,EAAY9B,YAAYxH,MAAM/D,EAAM,SACjS3D,UAAU,iBADd,SAMR,4BAAQqB,QAAS,kBAAI4P,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,YAAYxH,MAAM,EAAE/D,IAArC,4BAAgDwL,GAAhD,IAA2DP,SAAS,GAAD,mBAAMoC,EAAY9B,YAAYvL,GAAOiL,UAArC,CAA+CsB,QAAlH,YAAoIc,EAAY9B,YAAYxH,MAAM/D,EAAM,SACpO3D,UAAU,wBADd,UAOR,4BAAQqB,QAAS,kBAAI4P,EAAe,2BAAID,GAAL,IAAkB9B,YAAY,GAAD,mBAAK8B,EAAY9B,aAAjB,CAA8B2B,SAC1F7Q,UAAU,wBADd,KAIA,yBAAKA,UAAU,eAAee,MAAM,SAChC,4BAAQf,UAAU,+BACdqB,QAAS,kBAAIuB,EAAQG,KAAK,eAD9B,YAGA,4BAAQ5B,SAAU+P,IAA4B7F,GAAW8F,EACrD9P,QAAS,kBAAI0P,EAAcC,IAAehR,UAAU,8BADxD,eC9CLqR,GAhBK,SAAC,GAA4C,IAA3C9B,EAA0C,EAA1CA,SAAS5H,EAAiC,EAAjCA,YAAYE,EAAqB,EAArBA,gBACjCjF,EAAU2B,cAYhB,OAAO,kBAAC,GAAD,CAAYkK,OAXG,CAACA,OAAO,GAAIS,YAAY,IAWJK,SAAUA,EAAUwB,cAV9D,SAAgBC,GXsCb,IAAoB9L,KWrCR8L,EXsCX7L,MAAMC,uBAA+B,CAC3CC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WW3CbqE,OAAM,SAAAa,GAAUjD,EAAgB,2CAAwCkD,QAAQD,MAAM,SAAUA,MAChGpF,MAAK,SAACC,GACHgC,IACA/E,EAAQG,KAAK,kBAAkB4C,EAAIkF,YACnChD,EAAgB,qCAI6DjF,QAASA,EAASyI,SAAS,KCWrGiG,GAxBM,SAAC,GAA8C,IAA7C/B,EAA4C,EAA5CA,SAAU1H,EAAkC,EAAlCA,gBAAiBF,EAAiB,EAAjBA,YACtC/D,EAAOsF,cAAPtF,GACFhB,EAAU2B,cACVkK,EAASc,EAASlL,MAAK,SAAAoK,GAAM,OAAIA,EAAOzL,MAAQY,KActD,OAAI6K,EACO,kBAAC,GAAD,CAAYA,OAAQA,EAAQc,SAAUA,EAAUwB,cAd3D,SAAuBC,GACnB,IAAM9L,EAAO,CAACuJ,OAAQuC,EAAYvC,OAAQS,YAAa8B,EAAY9B,cZiEpE,SAAmBtL,EAAIsB,GAC7B,OAAOC,MAAMC,sBAA+BxB,EAAI,CAC/CyB,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WYvEd2L,CAAUP,EAAYhO,IAAKkC,GAC1BQ,MAAK,WACFiC,IACA/E,EAAQG,KAAK,aACb8E,EAAgB,qCAEnBoC,OAAM,SAAAa,GACHjD,EAAgB,4CAChBkD,QAAQD,MAAM,SAAUA,OAIyDlI,QAASA,EAASyI,SAAS,IAEzG,0C,6GCkGAmG,I,OAxFI,SAAC,GAAkB,IAAhB3O,EAAe,EAAfA,SAAe,EAQNrD,mBAAS,MARH,mBAQ7BiS,EAR6B,KAQpBC,EARoB,OASFlS,mBAAS,GATP,mBAS7BmS,EAT6B,KASlBC,EATkB,OAUgBpS,mBAAS,MAVzB,mBAU7BqS,EAV6B,KAUTC,EAVS,OAWsBtS,mBAAS,MAX/B,mBAW7BuS,EAX6B,KAWNC,EAXM,OAYIxS,mBAAS,MAZb,mBAY7ByS,EAZ6B,KAYfC,EAZe,OAaJ1S,mBAAS,MAbL,mBAa7B2S,EAb6B,KAanBC,EAbmB,KAepCpK,qBAAU,WACT,IAAMd,EAAY,IAAIC,KAAK,IAAIA,MAAU,IAAIA,MAAOkL,oBAAsB,GAAM,IAAO,GAAK,IACtFjL,EAAU,IAAID,KAAK,IAAIA,MAAU,IAAIA,MAAOkL,oBAAsB,GAAM,IAAO,GAAK,IAC1FC,QAAQC,IAAI,CACXtL,EAAwBC,EAAWE,GACnCG,EAAmCL,EAAWE,GbmYzCjC,MAAMC,kBAAyBM,MAAK,SAACC,GAAD,OAASA,EAAIC,UAIjDT,MAAMC,0BAAiCM,MAAK,SAACC,GAAD,OAASA,EAAIC,YanY7DF,MAAK,SAAC8M,GACNV,EAAsBU,EAAU,IAChCR,EAAyBQ,EAAU,IACnCN,EAAgBM,EAAU,IAC1BJ,EAAYI,EAAU,IACtBd,GAAW,MAEXzH,OAAM,SAACa,GACP4G,GAAW,QAEX,IAIH,IAOMe,EADU,CAACC,GAAqBC,GAA2BC,IAClCjB,GAK/B,OAAgB,IAAZF,EAEF,6BACC,kBAAC,GAAD,CAAMoB,aAfY,CAAC,iBAAkB,yBAA0B,SAe7BjB,aAAcA,EAAcD,UAAWA,IACzE,kBAACc,EAAD,CAECZ,mBAAoBA,EACpBC,sBAAuBA,EAEvBC,sBAAuBA,EACvBC,yBAA0BA,EAE1BC,aAAcA,EACdE,SAAUA,EACVtP,SAAUA,MAIS,IAAZ4O,EAET,yBAAK5R,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,UAKD,yBAAKJ,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,eACA,yBAAKJ,MAAO,CAAEI,UAAW,WACxB,8BACC,yBAAKJ,MAAO,CAAE8E,OAAQ,QAAS7E,MAAO,SAAWK,IAAK2S,KAAYzS,IAAK,kBAUvE0S,GAAO,SAAC,GAA+C,IAA7CF,EAA4C,EAA5CA,aAAcjB,EAA8B,EAA9BA,aAAcD,EAAgB,EAAhBA,UAC3C,OACC,yBAAK3R,UAAU,WACb6S,EAAanP,KAAI,SAACsP,EAAMrP,GAAP,OACjB,yBACCtC,QAAS,kBAAMuQ,EAAajO,IAC5BiB,IAAKjB,EACL3D,UAAW2R,IAAchO,EAAQ,6BAA+B,YAC/DqP,QASAN,GAAsB,SAAC,GAA6D,IAA3Db,EAA0D,EAA1DA,mBAAoBC,EAAsC,EAAtCA,sBAAuBjP,EAAe,EAAfA,SAAe,EACtDrD,mBAAS,IAAI2H,MADyC,mBACjFD,EADiF,KACtE+L,EADsE,OAE1DzT,mBAAS,MAFiD,mBAEjF4H,EAFiF,KAExE8L,EAFwE,KAIxF,OACC,6BACC,kBAAC,GAAD,CACCrB,mBAAoBA,EACpB3K,UAAWA,EACXE,QAASA,EACTvE,SAAUA,IAEX,kBAAC,KAAD,CACCsQ,SAAS,KACTC,sBAAsB,EACtBC,kBAAkB,EAClBC,gBAAiB,SAACpO,GACjB+B,EAAwB/B,EAAKgC,UAAWhC,EAAKkC,SAAS1B,MAAK,SAAC6N,GAC3DN,EAAa/N,EAAKgC,WAClBgM,EAAWhO,EAAKkC,SAChB0K,EAAsByB,OAGxBC,WAAY,CAAC,CAAE5P,GAAI,EAAGsD,UAAWA,EAAWE,QAASA,IACrDvH,MAAM,aACN4T,mBAAmB,MAMjBC,GAAyB,SAAC,GAA0D,IAAxD7B,EAAuD,EAAvDA,mBAAoB3K,EAAmC,EAAnCA,UAAWE,EAAwB,EAAxBA,QAASvE,EAAe,EAAfA,SACnE8Q,EAAcC,GAAiB1M,EAAWE,GAC1CyM,EAAsB3M,IAAcE,GAAuB,OAAZA,EAAmB,qBAAuB,eAE/F,OACC,6BACC,yBAAKpH,UAAU,gCACd,0BAAMA,UAAU,sBAAhB,yBAA4D6R,EAAmBiC,uBAE/E,0BAAM9T,UAAU,sBAAhB,qCACoC6R,EAAmBkC,wBAIxD,yBAAK/T,UAAU,gCACd,0BAAMA,UAAU,sBAAhB,kBACiB6T,EAAsBhC,EAAmBmC,uBAG1D,0BAAMhU,UAAU,sBAAhB,gBACe6T,EAAsBhC,EAAmBoC,wBAIxDpR,EAASqR,mBACT,yBAAKrU,MAAO,CAAEI,UAAW,SAAUC,UAAW,SAC7C,0BACCF,UAAU,sBACVqB,QAAS,WACR,IAAI0C,OAAOyG,EACPxG,OAAKwG,OACSA,IAAdtD,GAAyC,OAAdA,QAAkCsD,IAAZpD,GAAqC,OAAZA,IAC7ErD,EACCmD,EAAUiN,cACV,KACC,MAAQjN,EAAUkN,WAAa,IAAI1M,OAAO,GAC3C,KACC,KAAOR,EAAUmN,WAAW3M,OAAO,GACrC1D,EACCoD,EAAQ+M,cACR,KACC,MAAQ/M,EAAQgN,WAAa,IAAI1M,OAAO,GACzC,KACC,KAAON,EAAQiN,WAAW3M,OAAO,IbuJpC,WAAuE,IAAvC3D,EAAsC,uDAA/B,GAAIC,EAA2B,uDAAtB,GAAI8B,EAAkB,uDAAT,QAC/DZ,EAAO,CAAEnB,KAAMA,EAAMC,GAAIA,EAAI8B,OAAQA,GAElCX,MAAMC,+BAAuC,CACnDC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAGhBC,MAAK,SAACC,GACN,OAAOA,EAAI2O,UAEX5O,MAAK,SAAC4O,GACN,OAAOtO,EAASsO,EAAMvQ,GAAQC,EAAR,yBAA+BD,EAA/B,YAAuCC,EAAvC,mCalKlBuQ,CAAuBxQ,EAAMC,KAE9B,uBAAGnE,MAAO,CAAEqK,SAAU,SAAtB,aACA,yBAAKrK,MAAO,CAAE8E,OAAQ,OAAQ7E,MAAO,OAAQI,UAAW,SAAWC,IAAKqU,KAAWnU,IAAK,gBAK3F,yBAAKL,UAAU,gCACd,4BAAK2T,MAUHhB,GAA4B,SAAC,GAAmE,IAAjEZ,EAAgE,EAAhEA,sBAAuBC,EAAyC,EAAzCA,yBAA0BnP,EAAe,EAAfA,SAAe,EAClErD,mBAAS,IAAI2H,MADqD,mBAC7FD,EAD6F,KAClF+L,EADkF,OAEtEzT,mBAAS,MAF6D,mBAE7F4H,EAF6F,KAEpF8L,EAFoF,KAIpG,OACC,6BACC,kBAAC,GAAD,CACCnB,sBAAuBA,EACvB7K,UAAWA,EACXE,QAASA,EACTvE,SAAUA,IAEX,kBAAC,KAAD,CACCsQ,SAAS,KACTC,sBAAsB,EACtBC,kBAAkB,EAClBC,gBAAiB,SAACpO,GACjBqC,EAAmCrC,EAAKgC,UAAWhC,EAAKkC,SAAS1B,MAAK,SAAC6N,GACtEN,EAAa/N,EAAKgC,WAClBgM,EAAWhO,EAAKkC,SAChB4K,EAAyBuB,OAG3BC,WAAY,CAAC,CAAE5P,GAAI,EAAGsD,UAAWA,EAAWE,QAASA,IACrDvH,MAAM,aACN4T,mBAAmB,MAMjBgB,GAA+B,SAAC,GAA6D,IAA3D1C,EAA0D,EAA1DA,sBAAuB7K,EAAmC,EAAnCA,UAAWE,EAAwB,EAAxBA,QAASvE,EAAe,EAAfA,SAC5E8Q,EAAcC,GAAiB1M,EAAWE,GAC1CyM,EAAsB3M,IAAcE,GAAuB,OAAZA,EAAmB,qBAAuB,eAE/F,OACC,6BACC,yBAAKpH,UAAU,+BAA+BH,MAAO,IACpD,0BAAMG,UAAU,sBAAhB,sBAAyD+R,EAAsB2C,iBAE/E,0BAAM1U,UAAU,sBAAhB,oCACmC+R,EAAsB4C,uBAI1D,yBAAK3U,UAAU,gCACd,0BAAMA,UAAU,sBAAhB,YAA+C6T,EAAsB9B,EAAsB6C,eAE3F,0BAAM5U,UAAU,sBAAhB,0BACyB6T,EAAsB9B,EAAsB8C,4BAIrEhS,EAASqR,mBACT,yBAAKrU,MAAO,CAAEI,UAAW,SAAUC,UAAW,SAC7C,0BACCF,UAAU,sBACVqB,QAAS,WACR,IAAI0C,OAAOyG,EACPxG,OAAKwG,OACSA,IAAdtD,GAAyC,OAAdA,QAAkCsD,IAAZpD,GAAqC,OAAZA,IAC7ErD,EACCmD,EAAUiN,cACV,KACC,MAAQjN,EAAUkN,WAAa,IAAI1M,OAAO,GAC3C,KACC,KAAOR,EAAUmN,WAAW3M,OAAO,GACrC1D,EACCoD,EAAQ+M,cACR,KACC,MAAQ/M,EAAQgN,WAAa,IAAI1M,OAAO,GACzC,KACC,KAAON,EAAQiN,WAAW3M,OAAO,Ib2EpC,WAAqE,IAAvC3D,EAAsC,uDAA/B,GAAIC,EAA2B,uDAAtB,GAAI8B,EAAkB,uDAAT,QAC7DZ,EAAO,CAAEnB,KAAMA,EAAMC,GAAIA,EAAI8B,OAAQA,GAElCX,MAAMC,6BAAqC,CACjDC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAGhBC,MAAK,SAACC,GACN,OAAOA,EAAI2O,UAEX5O,MAAK,SAAC4O,GACN,OAAOtO,EAASsO,EAAMvQ,GAAQC,EAAR,uBAA6BD,EAA7B,YAAqCC,EAArC,iCatFlB8Q,CAAqB/Q,EAAMC,KAE5B,uBAAGnE,MAAO,CAAEqK,SAAU,SAAtB,aACA,yBAAKrK,MAAO,CAAE8E,OAAQ,OAAQ7E,MAAO,OAAQI,UAAW,SAAWC,IAAKqU,KAAWnU,IAAK,gBAK3F,yBAAKL,UAAU,gCACd,4BAAK2T,MAUHf,GAAa,SAAC,GAA0C,IAAxCT,EAAuC,EAAvCA,SAAUF,EAA6B,EAA7BA,aAAcpP,EAAe,EAAfA,SAC7C,OACC,yBAAKhD,MAAO,CAAEI,UAAW,SAAU6I,SAAU,UAC3CjG,EAASqR,mBACT,yBAAKrU,MAAO,CAAEI,UAAW,SAAUC,UAAW,QAC7C,0BACCF,UAAU,sBACVqB,QAAS,WbuBP8D,MAAMC,uBACXM,MAAK,SAACC,GAAD,OAASA,EAAI2O,UAClB5O,MAAK,SAAC4O,GAAD,OAAUtO,EAASsO,EAAD,mBatBpB,uBAAGzU,MAAO,CAAEqK,SAAU,SAAtB,aACA,yBAAKrK,MAAO,CAAE8E,OAAQ,OAAQ7E,MAAO,OAAQI,UAAW,SAAWC,IAAKqU,KAAWnU,IAAK,gBAI1F0U,OAAOC,KAAK/C,GAAcvO,KAAI,SAACuR,EAAOtR,GACtC,OAAO,kBAAC,GAAD,CAAiBiB,IAAKjB,EAAOsO,aAAcA,EAAagD,GAAQA,MAAOA,OAE/E,kBAAC,GAAD,CAAwBhD,aAAcA,EAAcE,SAAUA,MAK3D+C,GAAyB,SAAC,GAAgC,IAA9B/C,EAA6B,EAA7BA,SAAUF,EAAmB,EAAnBA,aACrCkD,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WADT,EAEtC3V,mBAAS,IAF6B,mBAEvD0F,EAFuD,KAEjDkQ,EAFiD,KAmB9D,OAhBApN,qBAAU,WAET,IADA,IAAMqN,EAAO,GACJC,EAAI,EAAGA,EAAInD,EAAS/Q,OAAQkU,IAAK,CACzC,IAAMC,EAAUpD,EAASmD,GACnBE,EAAY,CAAEC,KAAMF,GAC1B,IAAK,IAAMG,KAASzD,EACnB,GAAIA,EAAa0D,eAAeD,GAAQ,CACvC,IAAME,EAAa3D,EAAayD,GAAOG,MACvCL,EAAUE,GAASE,EAAWL,GAGhCF,EAAKtS,KAAKyS,GAEXJ,EAAQC,KACN,CAAClD,EAAUF,IAEM,IAAhB/M,EAAK9D,OAEP,yBAAKpB,UAAU,8BACd,yDAKD,yBAAKA,UAAU,8BACd,yBAAKH,MAAO,CAAEI,UAAW,WACxB,wBAAIJ,MAAO,CAAEqK,SAAU,SAAvB,YAED,kBAAC,KAAD,CACCrK,MAAO,CAAEE,OAAQ,QACjBD,MAAO,IACP6E,OAAQ,IACRO,KAAMA,EACNnF,OAAQ,CACP+V,IAAK,GACLC,MAAO,GACPC,KAAM,EACNC,OAAQ,MAET,kBAAC,KAAD,CAAeC,gBAAgB,QAC/B,kBAAC,KAAD,CAAOC,QAAQ,SACf,kBAAC,KAAD,MACA,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAQC,cAAc,MAAMC,aAAc,CAAEC,WAAY,QAAU/U,OAAO,WAAWgV,SAAS,YAC7F,kBAAC,KAAD,CAAeC,EAAG,EAAGC,OAAO,SAC5B,kBAAC,KAAD,CAAON,QAAQ,OAAOxR,OAAQ,GAAI8R,OAAO,UAAU3W,MAAO,IAAKwE,EAAG,MACjEyQ,OAAOC,KAAK/C,GAAcvO,KAAI,SAACgS,EAAO/R,GACtC,OAAO,kBAAC,KAAD,CAAKwS,QAAST,EAAOgB,KAAMvB,EAAOxR,EAAQwR,EAAO/T,QAASwD,IAAK8Q,UAQtEiB,GAAkB,SAAC,GAA6B,IAA3B1E,EAA0B,EAA1BA,aAAcgD,EAAY,EAAZA,MAAY,EACNzV,mBAAS,GADH,mBAC7CoX,EAD6C,KAC5BC,EAD4B,KAE9C3R,EAAO,GACP4R,EAAc/B,OAAOC,KAAK/C,GAAcxN,QAAO,SAACS,GAAD,MAAmB,UAATA,KAO/D,OANA4R,EAAYC,QAAQ,SAEpBhC,OAAOiC,QAAQ/E,EAAa6E,EAAYF,KAAmBlT,KAAI,SAACuT,GAC/D,OAAO/R,EAAKnC,KAAK,CAAE0S,KAAMwB,EAAS,GAAIvW,MAAOuW,EAAS,QAItD,yBAAKjX,UAAU,8BAEd,yBAAKH,MAAO,CAAEI,UAAW,WACxB,wBAAIJ,MAAO,CAAEqK,SAAU,SAAW+K,IAInC,kBAAC,GAAD,CAAS/P,KAAMA,IAGf,yBAAKlF,UAAU,qCACd,wBAAIH,MAAO,CAAEqK,SAAU,SAAW4M,EAAYF,GAA9C,sBACC1R,EAAKxB,KAAI,SAACuT,EAAUtT,GACpB,OAAO,kBAAC,GAAD,CAAWiB,IAAKjB,EAAOR,OAAQ8T,EAASxB,KAAMnJ,MAAO2K,EAASvW,WAEtE,6BACC,kBAAC,KAAD,CACCV,UAAU,0BACVkX,cAAc,qCACd5V,QAASwV,EACTvW,SAAU,SAAC2E,GACV2R,EAAmBC,EAAYK,WAAU,SAACC,GAAD,OAAaA,IAAYlS,EAAKxE,WAExEA,MAAOoW,EAAYF,GACnBrJ,YAAY,yBAQZ8J,GAAY,SAAC,GAAuB,IAArBlU,EAAoB,EAApBA,OAAQmJ,EAAY,EAAZA,MAC5B,OACC,0BAAMtM,UAAU,kCAAhB,SACQmD,EADR,4BACyCmJ,IAOrCgL,GAAU,SAAC,GAAc,IAAZpS,EAAW,EAAXA,KAAW,EACH1F,mBAAS,GADN,mBACtBmE,EADsB,KACf4T,EADe,KAEvBpC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAGvE,OAFAnN,qBAAU,cAAU,CAAC9C,IAGpB,kBAAC,KAAD,CAAUpF,MAAO,IAAK6E,OAAQ,IAAK9E,MAAO,CAAEmB,QAAS,WACpD,kBAAC,KAAD,CACCwW,YAAa7T,EACb8T,YAAa,SAACvS,GAAD,OAAUwS,GAAkB,eAAKxS,KAC9CA,KAAMA,EACNyS,GAAI,IACJC,GAAI,IACJC,YAAa,GACbC,YAAa,IACbpB,KAAK,UACLP,QAAQ,QACR4B,aAAc,SAACrX,EAAOiD,GAAR,OAAkB4T,EAAS5T,KACxCuB,EAAKxB,KAAI,SAACsU,EAAOrU,GAAR,OACT,kBAAC,KAAD,CAAMiB,IAAG,eAAUjB,GAAS+S,KAAMvB,EAAOxR,EAAQwR,EAAO/T,gBAOvDsW,GAAoB,SAACO,GAC1B,IAAMC,EAASC,KAAKC,GAAK,IACjBT,EAAoGM,EAApGN,GAAIC,EAAgGK,EAAhGL,GAAIS,EAA4FJ,EAA5FI,SAAUR,EAAkFI,EAAlFJ,YAAaC,EAAqEG,EAArEH,YAAaQ,EAAwDL,EAAxDK,WAAYC,EAA4CN,EAA5CM,SAAU7B,EAAkCuB,EAAlCvB,KAAM8B,EAA4BP,EAA5BO,QAASC,EAAmBR,EAAnBQ,QAAS/X,EAAUuX,EAAVvX,MAC5FgY,EAAMP,KAAKO,KAAKR,EAASG,GACzBM,EAAMR,KAAKQ,KAAKT,EAASG,GACzBO,EAAKjB,GAAMG,EAAc,IAAMa,EAC/BE,EAAKjB,GAAME,EAAc,IAAMY,EAC/BI,EAAKnB,GAAMG,EAAc,IAAMa,EAC/BI,EAAKnB,GAAME,EAAc,IAAMY,EAC/BM,EAAKF,EAA2B,IAArBH,GAAO,EAAI,GAAK,GAC3BM,EAAKF,EACLG,EAAaP,GAAO,EAAI,QAAU,MAExC,OACC,2BACC,0BAAMrU,EAAGqT,EAAInB,EAAGoB,EAAIuB,GAAI,EAAGD,WAAW,SAASxC,KAAK,SAClD8B,EAAQ/C,MAEV,kBAAC,KAAD,CACCkC,GAAIA,EACJC,GAAIA,EACJC,YAAaA,EACbC,YAAaA,EACbQ,WAAYA,EACZC,SAAUA,EACV7B,KAAMA,IAEP,kBAAC,KAAD,CACCiB,GAAIA,EACJC,GAAIA,EACJU,WAAYA,EACZC,SAAUA,EACVV,YAAaC,EAAc,EAC3BA,YAAaA,EAAc,GAC3BpB,KAAMA,IAEP,0BAAM0C,EAAC,WAAMR,EAAN,YAAYC,EAAZ,YAAkBC,EAAlB,YAAwBC,EAAxB,YAA8BC,EAA9B,YAAoCC,GAAMxC,OAAQC,EAAMA,KAAK,SACpE,4BAAQiB,GAAIqB,EAAIpB,GAAIqB,EAAII,EAAG,EAAG3C,KAAMA,EAAMD,OAAO,SACjD,0BAAMnS,EAAG0U,EAA2B,IAArBL,GAAO,EAAI,GAAK,GAASnC,EAAGyC,EAAIC,WAAYA,EAAYxC,KAAK,QAA5E,oBAAiGhW,IACjG,0BAAM4D,EAAG0U,EAA2B,IAArBL,GAAO,EAAI,GAAK,GAASnC,EAAGyC,EAAIE,GAAI,GAAID,WAAYA,EAAYxC,KAAK,QAApF,YACiB,IAAV+B,GAAea,QAAQ,GAD9B,SAaH,SAAS1F,KAA0D,IAAzC1M,EAAwC,uDAA5B,IAAIC,KAAQC,EAAgB,uDAAN,KACrDmS,EAAQ,CACb,QACA,UACA,QACA,QACA,OACA,QACA,QACA,SACA,aACA,UACA,YACA,aAGD,OAAKnS,GAAWF,IAAcE,EAI5BF,EAAUmN,UACV,OACAkF,EAAMrS,EAAUkN,YAChB,QACAlN,EAAUiN,cACV,aACA/M,EAAQiN,UACR,OACAkF,EAAMnS,EAAQgN,YACd,QACAhN,EAAQ+M,cAbFjN,EAAUmN,UAAY,OAASkF,EAAMrS,EAAUkN,YAAc,QAAUlN,EAAUiN,cC9iB1F,IAQeqF,GARW,SAAC,GAAmC,IAAjC3R,EAAgC,EAAhCA,gBAAiBhF,EAAe,EAAfA,SAC7C,OACC,yBAAKhD,MAAO,CAAEiJ,SAAU,SAAUhJ,MAAO,SAAUC,OAAQ,SAC1D,kBAAC,GAAD,CAA4B8H,gBAAiBA,EAAiBhF,SAAUA,MAOrE4W,GAA6B,SAAC,GAAmC,IAAjC5R,EAAgC,EAAhCA,gBAAiBhF,EAAe,EAAfA,SAAe,EACnCrD,mBAAS,IAD0B,mBAC9Dka,EAD8D,KACnDC,EADmD,OAEvCna,mBAAS,IAF8B,mBAE9Doa,EAF8D,KAErDC,EAFqD,KAGrE,OACC,yBAAKha,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QAAf,yBAED,yBAAKA,UAAU,kBACd,8CACA,2BAAOO,SAAU,SAAC6D,GAAD,OAAWuV,EAAavV,EAAM3D,OAAOC,QAAQb,MAAO,CAAEC,MAAO,SAK7E+C,EAASiX,mBACT,4BACCzY,QAAS,YdmaR,SAA2BqY,GACjC,OAAOvU,MAAM,GAAD,OAhc4C,OAgc5C,YAAwB,CACnCE,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEkU,UAAWA,IAClCtP,KAAM,OACNC,MAAO,WACP5E,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,Wc3afmU,CAAkBL,GAChBhU,MAAK,SAACkU,GACN/R,EAAgB,kCAChBgS,EAAWD,MAEX3P,OAAM,WACNpC,EAAgB,kDAGnB7H,UAAU,8BAXX,YAeD,yBAAKA,UAAU,qCACd,0BAAMA,UAAU,kCACf,qCAED,0BAAMA,UAAU,kCACf,uCAED,0BAAMA,UAAU,kCACf,sCAED,8BAEA4Z,EAAQlW,KAAI,SAACsW,EAAQrW,GACrB,OACC,yBAAK3D,UAAU,2CAA2C4E,IAAKjB,GAC9D,0BAAM3D,UAAU,yCACf,4BAAKga,EAAOhN,SAAW,SAAW,WAEnC,0BAAMhN,UAAU,yCACf,4BAAKga,EAAO7W,SAEb,0BAAMnD,UAAU,yCACf,4BAAKga,EAAO1N,eCtBL2N,GAvCC,SAAC,GAA+E,IAA7EC,EAA4E,EAA5EA,eAAgBC,EAA4D,EAA5DA,cAAetX,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAAkB,EACxDnI,mBAAS,GAD+C,mBACvF4a,EADuF,KAC1EC,EAD0E,KAExFtH,EAAO,CAACuH,GAAoBC,GAAmBC,IAAkBJ,GACvE,OACC,6BACC,yBAAKpa,UAAU,UAAUH,MAAO,CAAEK,UAAW,GAAIiI,aAAc,KAE7D,yBACC9G,QAAS,kBAAMgZ,EAAe,IAC9Bxa,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GACvCjQ,UAA2B,IAAhBoa,EAAoB,6BAA+B,YAH/D,oBASA,yBACC/Y,QAAS,kBAAMgZ,EAAe,IAC9Bxa,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GACvCjQ,UAA2B,IAAhBoa,EAAoB,6BAA+B,YAH/D,kBAQA,GAUF,kBAACrH,EAAD,CAAMmH,eAAgBA,EAAgBC,cAAeA,EAAetX,SAAUA,EAAUgF,gBAAiBA,EAAiBF,YAAaA,MAOpI2S,GAAqB,SAAC,GAAkC,IAAhCJ,EAA+B,EAA/BA,eAAgBrX,EAAe,EAAfA,SACvCD,EAAU2B,cAChB,OACC,6BACC,wBAAI1E,MAAO,CAAEI,UAAW,WAAxB,oBACCia,EAAexW,KAAI,SAACoI,GACpB,OACC,yBAAKlH,IAAKkH,EAAO9I,IAAKhD,UAAW,SAAUqB,QAAS,kBAAMwB,EAAS4X,kBAAoB7X,EAAQG,KAAK,yBAA2B+I,EAAO9I,OACrI,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAOsH,EAAO4O,kBAQlDH,GAAoB,SAAC,GAA+D,IAA7DJ,EAA4D,EAA5DA,cAAetX,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAChE/E,EAAU2B,cADwE,EAGpC/E,mBAAS2a,GAH2B,mBAGjFQ,EAHiF,KAG7DC,EAH6D,KAKxF5S,qBAAU,WACT4S,EAAsBT,KACpB,CAACA,IAPoF,IAShFU,EAAsBF,EAAtBE,OAAQC,EAAcH,EAAdG,UAEhB,OAAID,EAEF,yBAAKhb,MAAO,CAAE6M,SAAU,aACtB7J,EAASkY,oBACT,kBAAC,IAAD,CAAM/W,GAAG,kCACR,4BAAQhE,UAAU,kBAAlB,MAGF,6BACC,wBAAIH,MAAO,CAAEI,UAAW,WAAxB,iBAEA,yBAAKD,UAAW,SAAUqB,QAAS,kBAAMwB,EAASmY,wBAA0BpY,EAAQG,KAAK,+BAAiC8X,EAAO7X,OAChI,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAOqW,EAAO1X,SAGlD2X,EAAUpX,KAAI,SAACuX,GACf,OACC,yBAAKrW,IAAKqW,EAAajY,IAAKnD,MAAO,CAAE6M,SAAU,aAC9C,yBACC1M,UAAW,SACXqB,QAAS,kBAAMwB,EAASmY,wBAA0BpY,EAAQG,KAAK,+BAAiCkY,EAAajY,OAE7G,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAOyW,EAAa9X,SAExDN,EAASqY,uBACT,4BACC7Z,QAAS,WfgCZ,IAA4BuC,Ke/BLqX,EAAajY,IfgCnCmC,MAAMC,qBAA6B,CACzCC,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAAExC,IAAKY,IAC5B6B,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WerCTF,MAAK,WACLiC,IACAE,EAAgB,0CAEhBoC,OAAM,WACNpC,EAAgB,+CAGnB7H,UAAU,wBAXX,WAwBN,yBAAKH,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,eACA,yBAAKJ,MAAO,CAAEI,UAAW,WACxB,8BACC,yBAAKJ,MAAO,CAAE8E,OAAQ,QAAS7E,MAAO,SAAWK,IAAK2S,KAAYzS,IAAK,iBAQvEma,GAAmB,SAAC,GAAkC,IAAhCN,EAA+B,EAA/BA,eAAgBrX,EAAe,EAAfA,SACrCD,EAAU2B,cAChB,OACC,6BACC,wBAAI1E,MAAO,CAAEI,UAAW,WAAxB,gBACCia,EAAexW,KAAI,SAACoI,GACpB,OACC,yBAAKlH,IAAKkH,EAAO9I,IAAKhD,UAAW,SAAUqB,QAAS,kBAAMwB,EAAS4X,kBAAoB7X,EAAQG,KAAK,YAAc+I,EAAO9I,OACxH,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAOsH,EAAO4O,kBCzIlDzP,GAAY,CAAC,QAAS,SAAU,QAAS,QAAS,aAkCzCkQ,GAhCM,SAAC,GAAmF,IAAjFjB,EAAgF,EAAhFA,eAAgB/O,EAAgE,EAAhEA,SAAUvD,EAAsD,EAAtDA,kBAAmBD,EAAmC,EAAnCA,YAAaE,EAAsB,EAAtBA,gBACzEjE,EAAOsF,cAAPtF,GAD+F,EAE3EpE,mBAAS,MAFkE,mBAEhGsM,EAFgG,KAExFsP,EAFwF,KAQvG,OAJApT,qBAAU,WACToT,EAAUlB,EAAe7V,MAAK,SAACyH,GAAD,OAAYA,EAAO9I,MAAQY,QACvD,CAACsW,EAAgBtW,IAEhBkI,EAEF,kBAAC,GAAD,CACCA,OAAQA,EACRX,SAAUA,EACVxD,YAAaA,EACbE,gBAAiBA,EACjBD,kBAAmBA,IAKpB,yBAAK/H,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,eACA,yBAAKJ,MAAO,CAAEI,UAAW,WACxB,8BACC,yBAAKJ,MAAO,CAAE8E,OAAQ,QAAS7E,MAAO,SAAWK,IAAK2S,KAAYzS,IAAK,iBAUvEgb,GAAW,SAAC,GAA2E,IAAzEvP,EAAwE,EAAxEA,OAAQX,EAAgE,EAAhEA,SAAUxD,EAAsD,EAAtDA,YAAaE,EAAyC,EAAzCA,gBAAiBD,EAAwB,EAAxBA,kBAAwB,EACrDpI,mBAASsM,GAD4C,mBACpFwP,EADoF,KACvEC,EADuE,OAEjD/b,oBAAS,GAFwC,mBAEpFgc,EAFoF,KAErEC,EAFqE,KAuB3F,OAnBAzT,qBAAU,WACT,GAAIsT,EAAY7R,gBAAkB6R,EAAY7R,eAAerI,OAAS,EAAG,CACxE,IAAMuI,EAAI,eAAQ2R,GACdI,GAAO,EACX/R,EAAKF,eAAiBE,EAAKF,eAAe/F,KAAI,SAACgG,GAC9C,OAAI9B,EAAkB+T,SAASjS,EAAQN,iBAGtCM,EAAQN,cAAgB,GACxBsS,GAAO,GAHAhS,KAOT+R,EAAiBC,GACjBH,EAAe5R,MAEd,CAAC/B,EAAmB0T,IAItB,yBAAKzb,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QAAQ8L,EAAO4O,aAE/B,yBAAK1a,UAAU,kBACd,kBAAC,GAAD,CAASsb,YAAaA,EAAaC,eAAgBA,EAAgBpQ,SAAUA,IAC7E,kBAAC,GAAD,CAASmQ,YAAaA,EAAaC,eAAgBA,IACnD,kBAAC,GAAD,CAAWD,YAAaA,EAAaC,eAAgBA,EAAgB3T,kBAAmBA,IACxF,kBAAC,GAAD,CACC0T,YAAaA,EACb3T,YAAaA,EACbE,gBAAiBA,EACjB2T,cAAeA,OAOpB,SAAShU,GAAgBC,GAMxB,OAJCA,EADoB,MAAjBA,EAAU,GACDA,EAAUC,MAAM,GAAI,GAEpB,IAAMD,EAAY,IAOhC,SAASgE,GAAT,GAA6D,IAA1C6P,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,eAAgBpQ,EAAY,EAAZA,SAC/C,OACC,6BACEmQ,EAAYzP,SACZyP,EAAYzP,QAAQnI,KAAI,SAACoI,EAAQnI,GAEhC,OAAQmI,EAAOC,MACd,IAAK,SACJ,OACC,kBAAC,GAAD,CACCnH,IAAKjB,EACLA,MAAOA,EACP2X,YAAaA,EACbC,eAAgBA,EAChBpQ,SAAUA,EAASc,WAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCrH,IAAKjB,EACLA,MAAOA,EACP2X,YAAaA,EACbC,eAAgBA,EAChBpQ,SAAUA,EAASe,SAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCtH,IAAKjB,EACLA,MAAOA,EACP2X,YAAaA,EACbC,eAAgBA,EAChBpQ,SAAUA,EAASgB,SAGtB,IAAK,YACJ,OACC,kBAAC,GAAD,CACCvH,IAAKjB,EACLA,MAAOA,EACP2X,YAAaA,EACbC,eAAgBA,EAChBpQ,SAAUA,EAASiB,aAGtB,QACC,OACC,kBAAC,GAAD,CAAYxH,IAAKjB,EAAOA,MAAOA,EAAO2X,YAAaA,EAAaC,eAAgBA,QAIrF,4BACCvb,UAAU,uBACVqB,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEbzP,QAAQ,GAAD,mBAAMyP,EAAYzP,SAAlB,CAA2B,CAAEE,KAAM,QAASO,MAAO,GAAIC,SAAS,UAL1E,MAcH,SAASF,GAAT,GAA6D,IAAvC1I,EAAsC,EAAtCA,MAAO2X,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,eACzC,OACC,6BACC,6BACA,qCAAW5X,EAAQ,GACnB,6BACA,6BACC,8BACCpD,SAAU,SAACC,GACV,IAAMgM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAS,CAAEoI,KAAM,QAASO,MAAO9L,EAAEC,OAAOC,MAAO6L,SAAS,GACrEgP,EAAe,2BACXD,GADU,IAEbzP,QAASW,MAGX9L,MAAO4a,EAAYzP,QAAQlI,GAAO2I,MAClCzM,MAAO,CAAEC,MAAO,MAAO6E,OAAQ,GAAI8H,OAAQ,UAE5C,4BACCpL,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEbzP,QAAQ,GAAD,mBAAMyP,EAAYzP,QAAQnE,MAAM,EAAG/D,IAAnC,YAA8C2X,EAAYzP,QAAQnE,MAAM/D,EAAQ,SAGzF3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAaD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChEgP,EAAe,2BACXD,GADU,IAEbzP,QAASW,MAGX9L,MAAO4a,EAAYzP,QAAQlI,GAAOoI,MACjCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SASR,SAASkL,GAAT,GAA6E,IAAjDrI,EAAgD,EAAhDA,MAAO2X,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,eAAgBpQ,EAAY,EAAZA,SAC/D,OACC,6BACC,6BACA,qCAAWxH,EAAQ,GACnB,6BACA,yBAAK9D,MAAO,CAAEK,UAAW,SACtBob,EAAYzP,QAAQlI,GAAO4I,QAqB5B,8BACC,0BAAM1M,MAAO,CAAEqB,YAAa,SAA5B,oBACA,2BACCrB,MAAO,CAAEC,MAAO,SAChBY,MAAO4a,EAAYzP,QAAQlI,GAAO2I,MAClC/L,SAAU,SAACC,GACV,IAAMgM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC6a,EAAe,2BACXD,GADU,IAEbzP,QAASW,SA9Bb,4BACCjM,SAAU,SAACC,GACV,IAAMgM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC6a,EAAe,2BACXD,GADU,IAEbzP,QAASW,MAGX9L,MAAO4a,EAAYzP,QAAQlI,GAAO2I,OAClC,4BAAQ1H,IAAI,GAAGlE,MAAM,IAArB,yBAGCyK,EAASzH,KAAI,SAACiJ,GAAD,OACb,4BAAQ/H,IAAK+H,EAAMjM,MAAOiM,GACxBA,OAsBL,4BACCtL,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEbzP,QAAQ,GAAD,mBAAMyP,EAAYzP,QAAQnE,MAAM,EAAG/D,IAAnC,YAA8C2X,EAAYzP,QAAQnE,MAAM/D,EAAQ,SAGzF3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAYD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,4DACA,2BACCY,KAAK,WACL8L,QAAS0O,EAAYzP,QAAQlI,GAAO4I,QACpChM,SAAU,WACT,IAAMiM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAO4I,SAAWC,EAAW7I,GAAO4I,QAC/CC,EAAW7I,GAAO2I,MAAQ,GAC1BiP,EAAe,2BACXD,GADU,IAEbzP,QAASW,SAKb,yBAAK3M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAa8O,EAAYzP,QAC/BW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChEgP,EAAe,2BACXD,GADU,IAEbzP,QAASW,MAGX9L,MAAO4a,EAAYzP,QAAQlI,GAAOoI,MACjCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SAaR,SAAS4K,GAAT,GAAmD,IAAhC4P,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,eAC/B,OACC,6BACC,6BACA,6BACA,6BACC,uCAED,yBAAK1b,MAAO,CAAEmB,QAAS,OAAQuI,eAAgB,aAAcC,SAAU,SACrE8R,EAAYzO,SACZyO,EAAYzO,QAAQnJ,KAAI,SAACoJ,EAAOnJ,GAC/B,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,yCAAe4D,EAAQ,GACvB,4BACCtC,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEbzO,QAAQ,GAAD,mBACHyO,EAAYzO,QAAQnF,MAAM,EAAG/D,IAD1B,YAEH2X,EAAYzO,QAAQnF,MAAM/D,EAAQ,SAIxC3D,UAAU,iBAVX,KAaA,6BACA,2BACCO,SAAU,SAACC,GAAD,OACT+a,EAAe,2BACXD,GADU,IAEbzO,QAAQ,GAAD,mBACHyO,EAAYzO,QAAQnF,MAAM,EAAG/D,IAD1B,CAENnD,EAAEC,OAAOC,OAFH,YAGH4a,EAAYzO,QAAQnF,MAAM/D,EAAQ,SAIxCjD,MAAO4a,EAAYzO,QAAQlJ,SAIhC,4BACCtC,QAAS,kBACRia,EAAYzO,QACT0O,EAAe,2BAAKD,GAAN,IAAmBzO,QAAQ,GAAD,mBAAMyO,EAAYzO,SAAlB,CAA2B,QACnE0O,EAAe,2BAAKD,GAAN,IAAmBzO,QAAS,CAAC,QAE/C7M,UAAU,aACVH,MAAO,CAAEC,MAAO,GAAI6E,OAAQ,GAAIzE,UAAW,KAP5C,OAmBJ,SAAS0L,GAAT,GAAwE,IAAnD0P,EAAkD,EAAlDA,YAAaC,EAAqC,EAArCA,eAAgB3T,EAAqB,EAArBA,kBAC3CuB,EAAiB,CAAEC,cAAe,GAAIC,UAAW,GAAIC,WAAY,IACvE,OACC,6BACC,6BACA,8BAEEgS,EAAY7R,gBACb,6BACC,sDAGF,6BACE6R,EAAY7R,gBACZ6R,EAAY7R,eAAe/F,KAAI,SAACgG,EAAS/F,GACxC,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,GAAIE,UAAW,WAChD,wBAAIJ,MAAO,CAAE+N,YAAa,SAC1B,oDAAoBjK,EAAQ,GAC5B,iCAAO+F,EAAQN,cAAf,MACA,4BACC/H,QAAS,WACR,IAAMsI,EAAI,eAAQ2R,GAEiB,IAA/B3R,EAAKF,eAAerI,cAChBuI,EAAKF,eAEZE,EAAKF,eAAL,sBACIE,EAAKF,eAAe/B,MAAM,EAAG/D,IADjC,YAEIgG,EAAKF,eAAe/B,MAAM/D,EAAQ,KAIvC4X,EAAe5R,IAEhB3J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAhBtB,KAmBA,6BACA,0DACA,6BAaA,4BACCjE,SAAU,SAACC,GAAD,OACT+a,EAAe,2BACXD,GADU,IAEb7R,eAAe,GAAD,mBACV6R,EAAY7R,eAAe/B,MAAM,EAAG/D,IAD1B,4BAER2X,EAAY7R,eAAe9F,IAFnB,IAE2ByF,cAAe5I,EAAEC,OAAOC,SAFnD,YAGV4a,EAAY7R,eAAe/B,MAAM/D,EAAQ,SAI/CjD,MAAO4a,EAAY7R,eAAe9F,GAAOyF,eACzC,4BAAQxE,IAAI,GAAGlE,MAAM,IAArB,yBAGCkH,EAAkBlE,KAAI,SAACgG,GAAD,OACtB,4BAAQ9E,IAAK8E,EAAShJ,MAAOgJ,GAC3BA,OAIJ,6BACA,gDACA,6BACCA,EAAQJ,YACRI,EAAQJ,WAAW5F,KAAI,SAAC+D,EAAWmC,GAClC,OACC,yBAAKhF,IAAKgF,GACT,2BACCrJ,SAAU,SAACC,GAAD,OACT+a,EAAe,2BACXD,GADU,IAEb7R,eAAe,GAAD,mBACV6R,EAAY7R,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2X,EAAY7R,eAAe9F,IAHlB,IAIZ2F,WAAW,GAAD,mBACNgS,EAAY7R,eAAe9F,GAAO2F,WAAW5B,MAC/C,EACAkC,IAHQ,CAKTpJ,EAAEC,OAAOC,OALA,YAMN4a,EAAY7R,eAAe9F,GAAO2F,WAAW5B,MAC/CkC,EAAS,QAXC,YAeV0R,EAAY7R,eAAe/B,MAAM/D,EAAQ,SAI/CjD,MAAO4a,EAAY7R,eAAe9F,GAAO2F,WAAWM,KAGrD,4BACCvI,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEb7R,eAAe,GAAD,mBACV6R,EAAY7R,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2X,EAAY7R,eAAe9F,IAHlB,IAIZ2F,WAAW,GAAD,mBACNgS,EAAY7R,eAAe9F,GAAO2F,WAAW5B,MAC/C,EACAkC,IAHQ,CAKTpC,GACC8T,EAAY7R,eAAe9F,GAAO2F,WAAWM,KANrC,YAQN0R,EAAY7R,eAAe9F,GAAO2F,WAAW5B,MAC/CkC,EAAS,QAbC,YAiBV0R,EAAY7R,eAAe/B,MAAM/D,EAAQ,SAI/C3D,UAAU,gBACVH,MAAO,CAAEgK,SAAU,UACD,MAAjBpC,EAAU,GAAa,wBAA0B,wBAGnD,4BACCpG,QAAS,WACR,IAAMyI,EAAU,eAAQwR,GAClB5R,EAAUI,EAAWL,eAAe9F,GAE1C+F,EAAQJ,WAAR,sBACII,EAAQJ,WAAW5B,MAAM,EAAGkC,IADhC,YAEIF,EAAQJ,WAAW5B,MAAMkC,EAAS,KAGtCE,EAAWL,eAAe9F,GAAS+F,EAEnC6R,EAAezR,IAEhB9J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAftB,SAqBJ,4BACCnD,QAAS,kBACRka,EAAe,2BACXD,GADU,IAEb7R,eAAe,GAAD,mBACV6R,EAAY7R,eAAe/B,MAAM,EAAG/D,IAD1B,4BAGT2X,EAAY7R,eAAe9F,IAHlB,IAIZ2F,WAAYgS,EAAY7R,eAAe9F,GAAO2F,WAAlC,sBACLgS,EAAY7R,eAAe9F,GAAO2F,YAD7B,CACyC,KAClD,CAAC,OANQ,YAQVgS,EAAY7R,eAAe/B,MAAM/D,EAAQ,SAI/C3D,UAAU,wBAhBX,SAsBJ,4BACCqB,QAAS,kBACRia,EAAY7R,eACT8R,EAAe,2BACZD,GADW,IAEd7R,eAAe,GAAD,mBAAM6R,EAAY7R,gBAAlB,CAAkCN,OAEhDoS,EAAe,2BAAKD,GAAN,IAAmB7R,eAAgB,CAACN,OAEtDnJ,UAAU,qBATX,OAqBJ,SAAS0I,GAAT,GAAmF,IAA7D4S,EAA4D,EAA5DA,YAAa3T,EAA+C,EAA/CA,YAAaE,EAAkC,EAAlCA,gBAAiB2T,EAAiB,EAAjBA,cAC1D5Y,EAAU2B,cAkBhB,IAAMuJ,EAAoD,IAA5BwN,EAAYrX,YAGpC8J,EAAkD,IAA/BuN,EAAYzP,QAAQzK,OAGvC4M,GAAyBsN,EAAYzP,QAAQ7B,OAAM,SAAC8B,GAAD,MAA6B,KAAjBA,EAAOQ,SAGtEvC,IAAsBuR,EAAY7R,iBACpC6R,EAAY7R,eAAeO,OAAM,SAACN,GAAD,MAAuC,KAA1BA,EAAQN,iBAG1D,OACC,6BACC,yBAAKpJ,UAAU,eAAee,MAAM,SACnC,4BACCI,SAAUqa,EACVxb,UAAU,+BACVqB,QAAS,kBAAMuB,EAAQG,KAAK,cAH7B,YAMA,4BACC5B,SAAU2M,GAAyBC,GAAoBhE,GAAuBiE,EAC9E3M,QAxCJ,WhBndM,IAA0B6D,KgBoddoW,EhBndXnW,MAAMC,sBAA8B,CAC1CC,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WgB8clBF,MAAK,WACLmC,EAAgB,kCAChBF,IACA/E,EAAQG,KAAK,eAEbkH,OAAM,WACNpC,EAAgB,yCAChBF,IACA/E,EAAQG,KAAK,gBA+BZ/C,UAAU,8BAHX,YAQAwb,GACA,yBAAKza,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,iFAMD6M,GACA,yBAAK/M,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,4CAID8M,GACA,yBAAKhN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAID+M,GACA,yBAAKjN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,uDAID8I,GACA,yBAAKhJ,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCC/oBL,IAAMgK,GAAY,CAAC,QAAS,SAAU,QAAS,QAAS,aAgCzC2Q,GA9BG,SAAC,GAAmG,IAAjGX,EAAgG,EAAhGA,aAAc9P,EAAkF,EAAlFA,SAAwCvD,GAA0C,EAAxED,YAAwE,EAA3DE,gBAA2D,EAA1CD,mBAAmBtE,EAAuB,EAAvBA,MAAOkK,EAAgB,EAAhBA,UAAgB,EAClEhO,mBAASyb,GADyD,mBAC7GY,EAD6G,KAC1FC,EAD0F,KAOpH,OAJA9T,qBAAU,WACT8T,EAAqBb,KACnB,CAACA,IAGH,yBAAKpb,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QACbib,EAAaJ,OACbI,EAAa9X,OAEb,2BAAO5C,SAAU,SAACC,GAAD,OAAOsb,EAAqB,2BAAKD,GAAN,IAAyB1Y,OAAQ3C,EAAEC,OAAOC,UAAUA,MAAOmb,EAAkB1Y,WAI5H,yBAAKnD,UAAU,mBACZib,EAAaJ,QAAU,kBAAC,GAAD,CAAegB,kBAAmBA,EAAmBC,qBAAsBA,EAAsBxY,MAAOA,IACjI,kBAAC,GAAD,CAASuY,kBAAmBA,EAAmBC,qBAAsBA,EAAsB3Q,SAAUA,IACrG,kBAAC,GAAD,CAAS0Q,kBAAmBA,EAAmBC,qBAAsBA,IACrE,kBAAC,GAAD,CAAYD,kBAAmBA,EAAmBC,qBAAsBA,IACxE,kBAAC,GAAD,CAAWD,kBAAmBA,EAAmBC,qBAAsBA,EAAsBlU,kBAAmBA,IAChH,kBAAC,GAAD,CAAYiU,kBAAmBA,EAAmBrO,UAAWA,OAQjE,SAAShG,GAAgBC,GAMxB,OAJCA,EADoB,MAAjBA,EAAU,GACDA,EAAUC,MAAM,GAAI,GAEpB,IAAMD,EAAY,IAOhC,SAAS+D,GAAT,GAA4E,IAAnDqQ,EAAkD,EAAlDA,kBAAmBC,EAA+B,EAA/BA,qBAAsBxY,EAAS,EAATA,MAAS,EACxC9D,mBAAS8D,GAD+B,mBACnEyY,EADmE,KACxDC,EADwD,KAO1E,OAJAhU,qBAAU,WACTgU,EAAa1Y,EAAMmB,QAAO,SAACwX,GAAD,OAAeJ,EAAkBvY,MAAM4Y,MAAK,SAACvZ,GAAD,OAAUA,IAASsZ,EAAStZ,cAChG,CAACkZ,EAAmBvY,IAGtB,6BACC,8CACA,6BACCuY,EAAkBvY,MAAMI,KAAI,SAACf,EAAMwZ,GACnC,IACMC,EADa9Y,EAAMmB,QAAO,SAACwX,GAAD,OAAcA,EAAStZ,OAASA,KACxC0Z,OAAON,GAC/B,OACC,kBAACO,GAAD,CACC1X,IAAKuX,EACLxZ,KAAMA,EACNwZ,OAAQA,EACR7Y,MAAO8Y,EACPN,qBAAsBA,EACtBD,kBAAmBA,OAItB,4BACCxa,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBvY,MAAM,GAAD,mBAAMuY,EAAkBvY,OAAxB,CAA+B,aAGtCzD,MAAO,CAAEC,MAAO,SAChBE,UAAU,wBARX,MAgBH,SAASsc,GAAT,GAAyF,IAAjE3Z,EAAgE,EAAhEA,KAAMwZ,EAA0D,EAA1DA,OAAQ7Y,EAAkD,EAAlDA,MAAOwY,EAA2C,EAA3CA,qBAAsBD,EAAqB,EAArBA,kBAClE,OACC,yBAAKhc,MAAO,CAAEmB,QAAS,eAAgBlB,MAAO,UAC7C,4BACCS,SAAU,SAACC,GACV,IAAM+b,EAAMV,EAAkBvY,MAC9BiZ,EAAIJ,GAAUnR,OAAOxK,EAAEC,OAAOC,OAC9Bob,EAAqB,2BACjBD,GADgB,IAEnBvY,MAAOiZ,MAGT7b,MAAOiC,GAEP,4BAAQiC,IAAI,UAAUlE,MAAO,QAA7B,yBAGC4C,EAAMI,KAAI,SAACf,EAAMgB,GAAP,OACV,4BAAQiB,IAAKjB,EAAOjD,MAAOiC,EAAKA,MAAhC,QACOA,EAAKA,KADZ,KACoBA,EAAKQ,OADzB,SAMF,4BACC9B,QAAS,WACR,IAAMkb,EAAG,sBAAOV,EAAkBvY,MAAMoE,MAAM,EAAGyU,IAAxC,YAAoDN,EAAkBvY,MAAMoE,MAAMyU,EAAS,KACpGL,EAAqB,2BACjBD,GADgB,IAEnBvY,MAAOiZ,MAGTvc,UAAU,gBACVH,MAAO,CAAE2E,WAAY,SATtB,MAqBH,SAASiH,GAAT,GAAyE,IAAtDoQ,EAAqD,EAArDA,kBAAmBC,EAAkC,EAAlCA,qBAAsB3Q,EAAY,EAAZA,SAC3D,OACC,6BACuC,IAArC0Q,EAAkBhQ,QAAQzK,QAC1B,oCACC,6BADD,IACQ,sCACP,6BACA,8BAGDya,EAAkBhQ,SAClBgQ,EAAkBhQ,QAAQnI,KAAI,SAACuX,EAActX,GAE5C,OAAQsX,EAAalP,MACpB,IAAK,SACJ,OACC,kBAAC,GAAD,CACCnH,IAAKjB,EACLA,MAAOA,EACPkY,kBAAmBA,EACnBC,qBAAsBA,EACtB3Q,SAAUA,EAASc,WAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCrH,IAAKjB,EACLA,MAAOA,EACPkY,kBAAmBA,EACnBC,qBAAsBA,EACtB3Q,SAAUA,EAASe,SAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCtH,IAAKjB,EACLA,MAAOA,EACPkY,kBAAmBA,EACnBC,qBAAsBA,EACtB3Q,SAAUA,EAASgB,SAGtB,IAAK,YACJ,OACC,kBAAC,GAAD,CACCvH,IAAKjB,EACLA,MAAOA,EACPkY,kBAAmBA,EACnBC,qBAAsBA,EACtB3Q,SAAUA,EAASiB,aAGtB,QACC,OAAO,kBAAC,GAAD,CAAYxH,IAAKjB,EAAOA,MAAOA,EAAOkY,kBAAmBA,EAAmBC,qBAAsBA,QAG7G,4BACC9b,UAAU,uBACVqB,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAAQ,GAAD,mBAAMgQ,EAAkBhQ,SAAxB,CAAiC,CAAEE,KAAM,QAASO,MAAO,GAAIC,SAAS,UALhF,MAeH,SAASF,GAAT,GAAyE,IAAnD1I,EAAkD,EAAlDA,MAAOkY,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBAC/C,OACC,6BACC,6BAEA,qCAAWnY,EAAQ,GACnB,6BACA,6BACA,6BACC,8BACCpD,SAAU,SAACC,GACV,IAAMgM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAS,CAAEoI,KAAM,QAASO,MAAO9L,EAAEC,OAAOC,MAAO6L,SAAS,GACrEuP,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,MAGX9L,MAAOmb,EAAkBhQ,QAAQlI,GAAO2I,MACxCzM,MAAO,CAAEC,MAAO,MAAO6E,OAAQ,GAAI8H,OAAQ,UAG5C,4BACCpL,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAAQ,GAAD,mBAAMgQ,EAAkBhQ,QAAQnE,MAAM,EAAG/D,IAAzC,YAAoDkY,EAAkBhQ,QAAQnE,MAAM/D,EAAQ,SAGrG3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAcD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,wBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChEuP,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,MAGX9L,MAAOmb,EAAkBhQ,QAAQlI,GAAOoI,MAEvCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SASR,SAASkL,GAAT,GAAyF,IAA7DrI,EAA4D,EAA5DA,MAAOkY,EAAqD,EAArDA,kBAAmBC,EAAkC,EAAlCA,qBAAsB3Q,EAAY,EAAZA,SAC3E,OACC,6BACC,6BAEA,qCAAWxH,EAAQ,GACnB,6BACA,6BAEA,yBAAK9D,MAAO,CAAEK,UAAW,SACtB2b,EAAkBhQ,QAAQlI,GAAO4I,QAsBlC,8BACC,0BAAM1M,MAAO,CAAEqB,YAAa,SAA5B,oBACA,2BACCrB,MAAO,CAAEC,MAAO,SAChBY,MAAOmb,EAAkBhQ,QAAQlI,GAAO2I,MACxC/L,SAAU,SAACC,GACV,IAAMgM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnCob,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,SA/Bb,4BACCjM,SAAU,SAACC,GACV,IAAMgM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnCob,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,MAGX9L,MAAOmb,EAAkBhQ,QAAQlI,GAAO2I,OAExC,4BAAQ1H,IAAI,GAAGlE,MAAM,IAArB,yBAGCyK,EAASzH,KAAI,SAACiJ,GAAD,OACb,4BAAQ/H,IAAK+H,EAAMjM,MAAOiM,GACxBA,OAsBL,4BACCtL,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAAQ,GAAD,mBAAMgQ,EAAkBhQ,QAAQnE,MAAM,EAAG/D,IAAzC,YAAoDkY,EAAkBhQ,QAAQnE,MAAM/D,EAAQ,SAGrG3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAaD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,4DACA,2BACCY,KAAK,WACL8L,QAASiP,EAAkBhQ,QAAQlI,GAAO4I,QAC1ChM,SAAU,WACT,IAAMiM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAO4I,SAAWC,EAAW7I,GAAO4I,QAC/CC,EAAW7I,GAAO2I,MAAQ,GAC1BwP,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,SAKb,yBAAK3M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,wBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAaqP,EAAkBhQ,QACrCW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChEuP,EAAqB,2BACjBD,GADgB,IAEnBhQ,QAASW,MAGX9L,MAAOmb,EAAkBhQ,QAAQlI,GAAOoI,MAEvCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SAaR,SAAS4K,GAAT,GAA+D,IAA5CmQ,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBACrC,OACC,6BACC,6BACA,6BACA,6BACC,uCAED,yBAAKjc,MAAO,CAAEmB,QAAS,OAAQuI,eAAgB,aAAcC,SAAU,SACrEqS,EAAkBhP,SAClBgP,EAAkBhP,QAAQnJ,KAAI,SAACoJ,EAAOnJ,GACrC,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,yCAAe4D,EAAQ,GACvB,4BACCtC,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBhP,QAAQ,GAAD,mBAAMgP,EAAkBhP,QAAQnF,MAAM,EAAG/D,IAAzC,YAAoDkY,EAAkBhP,QAAQnF,MAAM/D,EAAQ,SAGrG3D,UAAU,iBAPX,KAWA,6BACA,2BACCO,SAAU,SAACC,GAAD,OACTsb,EAAqB,2BACjBD,GADgB,IAEnBhP,QAAQ,GAAD,mBAAMgP,EAAkBhP,QAAQnF,MAAM,EAAG/D,IAAzC,CAAiDnD,EAAEC,OAAOC,OAA1D,YAAoEmb,EAAkBhP,QAAQnF,MAAM/D,EAAQ,SAGrHjD,MAAOmb,EAAkBhP,QAAQlJ,SAKtC,4BACCtC,QAAS,kBACRwa,EAAkBhP,QACfiP,EAAqB,2BAAKD,GAAN,IAAyBhP,QAAQ,GAAD,mBAAMgP,EAAkBhP,SAAxB,CAAiC,QACrFiP,EAAqB,2BAAKD,GAAN,IAAyBhP,QAAS,CAAC,QAE3D7M,UAAU,aACVH,MAAO,CAAEC,MAAO,GAAI6E,OAAQ,GAAIzE,UAAW,KAP5C,OAoBJ,SAASyL,GAAT,GAAkE,IAA5CkQ,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBACxC,OACC,6BACC,6BACA,6BACA,6BACC,uBAAGjc,MAAO,CAAEqB,YAAa,KAAzB,eACA,yBAAKrB,MAAO,CAAEK,UAAW,SACxB,qEACA,2BACCY,KAAK,WACL8L,QAASiP,EAAkBW,WAC3Bjc,SAAU,WACTub,EAAqB,2BACjBD,GADgB,IAEnBW,YAAaX,EAAkBW,kBAKnC,yBAAK3c,MAAO,CAAEK,UAAW,SACxB,oFACA,2BACCY,KAAK,SACLwB,IAAI,KACJ/B,SAAU,SAACC,GACNA,EAAEC,OAAOC,OAAS,EACrBob,EAAqB,2BAAKD,GAAN,IAAyBY,qBAAsB,KAEnEX,EAAqB,2BAAKD,GAAN,IAAyBY,oBAAqBzR,OAAOxK,EAAEC,OAAOC,WAGpFA,MAAOmb,EAAkBY,sBAEiB,IAA1CZ,EAAkBY,qBAClB,6BACC,0BAAM5c,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,WAAxC,8MAM0C,IAA3C4a,EAAkBY,qBAClB,6BACC,0BAAM5c,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,WAAxC,mKAOH,yBAAKpB,MAAO,CAAEK,UAAW,SACxB,yGACA,2BACCY,KAAK,SACLwB,IAAI,IACJ/B,SAAU,SAACC,GACNA,EAAEC,OAAOC,MAAQ,EACpBob,EAAqB,2BAAKD,GAAN,IAAyBa,aAAc,KAE3DZ,EAAqB,2BAAKD,GAAN,IAAyBa,aAAc1R,OAAOxK,EAAEC,OAAOC,WAG7EA,MAAOmb,EAAkBa,kBAY/B,SAAS9Q,GAAT,GAAoF,IAA/DiQ,EAA8D,EAA9DA,kBAAmBC,EAA2C,EAA3CA,qBAAsBlU,EAAqB,EAArBA,kBACvDuB,EAAiB,CAAEC,cAAe,GAAIC,UAAW,GAAIC,WAAY,IACvE,OACC,6BACC,6BACA,+BAEGuS,EAAkBpS,gBAAkBoS,EAAkBpS,eAAerI,OAAS,IAChF,6BACC,sDAGF,6BACEya,EAAkBpS,gBAClBoS,EAAkBpS,eAAe/F,KAAI,SAACgG,EAAS/F,GAC9C,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,GAAIE,UAAW,WAChD,wBAAIJ,MAAO,CAAE+N,YAAa,SAC1B,oDAAoBjK,EAAQ,GAC5B,iCAAO+F,EAAQN,cAAf,MACA,4BACC/H,QAAS,WACR,IAAMsI,EAAI,eAAQkS,GAEiB,IAA/BlS,EAAKF,eAAerI,cAChBuI,EAAKF,eAEZE,EAAKF,eAAL,sBAA0BE,EAAKF,eAAe/B,MAAM,EAAG/D,IAAvD,YAAkEgG,EAAKF,eAAe/B,MAAM/D,EAAQ,KAGrGmY,EAAqBnS,IAEtB3J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAbtB,KAiBA,6BACA,0DACA,6BAaA,4BACCjE,SAAU,SAACC,GAAD,OACTsb,EAAqB,2BACjBD,GADgB,IAEnBpS,eAAe,GAAD,mBACVoS,EAAkBpS,eAAe/B,MAAM,EAAG/D,IADhC,4BAERkY,EAAkBpS,eAAe9F,IAFzB,IAEiCyF,cAAe5I,EAAEC,OAAOC,SAFzD,YAGVmb,EAAkBpS,eAAe/B,MAAM/D,EAAQ,SAIrDjD,MAAOmb,EAAkBpS,eAAe9F,GAAOyF,eAE/C,4BAAQxE,IAAI,GAAGlE,MAAM,IAArB,yBAGCkH,EAAkBlE,KAAI,SAACgG,GAAD,OACtB,4BAAQ9E,IAAK8E,EAAShJ,MAAOgJ,GAC3BA,OAIJ,6BACA,gDACA,6BACCA,EAAQJ,YACRI,EAAQJ,WAAW5F,KAAI,SAAC+D,EAAWmC,GAClC,OACC,yBAAKhF,IAAKgF,GACT,2BACCrJ,SAAU,SAACC,GAAD,OACTsb,EAAqB,2BACjBD,GADgB,IAEnBpS,eAAe,GAAD,mBACVoS,EAAkBpS,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTkY,EAAkBpS,eAAe9F,IAHxB,IAIZ2F,WAAW,GAAD,mBACNuS,EAAkBpS,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADtD,CAETpJ,EAAEC,OAAOC,OAFA,YAGNmb,EAAkBpS,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAP1D,YAUViS,EAAkBpS,eAAe/B,MAAM/D,EAAQ,SAIrDjD,MAAOmb,EAAkBpS,eAAe9F,GAAO2F,WAAWM,KAG3D,4BACCvI,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBpS,eAAe,GAAD,mBACVoS,EAAkBpS,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTkY,EAAkBpS,eAAe9F,IAHxB,IAIZ2F,WAAW,GAAD,mBACNuS,EAAkBpS,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADtD,CAETpC,GAAgBqU,EAAkBpS,eAAe9F,GAAO2F,WAAWM,KAF1D,YAGNiS,EAAkBpS,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAP1D,YAUViS,EAAkBpS,eAAe/B,MAAM/D,EAAQ,SAIrD3D,UAAU,gBACVH,MAAO,CAAEgK,SAAU,UAED,MAAjBpC,EAAU,GAAa,wBAA0B,wBAGnD,4BACCpG,QAAS,WACR,IAAMyI,EAAU,eAAQ+R,GAClBnS,EAAUI,EAAWL,eAAe9F,GAE1C+F,EAAQJ,WAAR,sBAAyBI,EAAQJ,WAAW5B,MAAM,EAAGkC,IAArD,YAAiEF,EAAQJ,WAAW5B,MAAMkC,EAAS,KAEnGE,EAAWL,eAAe9F,GAAS+F,EAEnCoS,EAAqBhS,IAEtB9J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAZtB,SAmBJ,4BACCnD,QAAS,kBACRya,EAAqB,2BACjBD,GADgB,IAEnBpS,eAAe,GAAD,mBACVoS,EAAkBpS,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTkY,EAAkBpS,eAAe9F,IAHxB,IAIZ2F,WAAYuS,EAAkBpS,eAAe9F,GAAO2F,WAAxC,sBACLuS,EAAkBpS,eAAe9F,GAAO2F,YADnC,CAC+C,KACxD,CAAC,OANQ,YAQVuS,EAAkBpS,eAAe/B,MAAM/D,EAAQ,SAIrD3D,UAAU,wBAhBX,SAuBJ,4BACCqB,QAAS,kBACRwa,EAAkBpS,eACfqS,EAAqB,2BAClBD,GADiB,IAEpBpS,eAAe,GAAD,mBAAMoS,EAAkBpS,gBAAxB,CAAwCN,OAEtD2S,EAAqB,2BAAKD,GAAN,IAAyBpS,eAAgB,CAACN,OAElEnJ,UAAU,qBATX,OAsBJ,SAAS0I,GAAT,GAAuD,IAAjCmT,EAAgC,EAAhCA,kBAAmBrO,EAAa,EAAbA,UAClC5K,EAAU2B,cAKVoG,EAAgD,KAA7BkR,EAAkB1Y,OAGrCwZ,GAA0Bd,EAAkBhB,QAA6C,IAAnCgB,EAAkBvY,MAAMlC,OAG9Ewb,GAA2Bf,EAAkBhB,QAAUgB,EAAkBvY,MAAM4Y,MAAK,SAACvZ,GAAD,MAAmB,SAATA,KAG9Fka,EAA8D,IAArChB,EAAkBhQ,QAAQzK,OAGnD0b,GAA+BjB,EAAkBhQ,QAAQ7B,OAAM,SAACiR,GAAD,MAAyC,KAAvBA,EAAa3O,SAG9FvC,IAAsB8R,EAAkBpS,iBAAkBoS,EAAkBpS,eAAeO,OAAM,SAACN,GAAD,MAAuC,KAA1BA,EAAQN,iBAE5H,OACC,6BACC,yBAAKpJ,UAAU,eAAee,MAAM,SACnC,4BAAQf,UAAU,+BAA+BqB,QAAS,kBAAMuB,EAAQG,KAAK,cAA7E,YAGA,4BACC5B,SACCwJ,GACAgS,GACAC,GACAC,GACA9S,GACA+S,EAEDzb,QAAS,WACRmM,EAAUqO,IAEX7b,UAAU,8BAZX,YAkBA2K,GACA,yBAAK5J,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCAID0b,GACA,yBAAK5b,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,yCAID2b,GACA,yBAAK7b,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,yDAID4b,GACA,yBAAK9b,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAID6b,GACA,yBAAK/b,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,uDAID8I,GACA,yBAAKhJ,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCCjwBL,IA0De8b,GA1DS,SAAC,GAAyF,IAAvF5C,EAAsF,EAAtFA,cAAehP,EAAuE,EAAvEA,SAAUvD,EAA6D,EAA7DA,kBAAmBD,EAA0C,EAA1CA,YAAaE,EAA6B,EAA7BA,gBAAiBvE,EAAY,EAAZA,MAC5FM,EAAOsF,cAAPtF,GADwG,EAExEpE,mBAAS,MAF+D,mBAEzGyb,EAFyG,KAE3F+B,EAF2F,KAG1Gpa,EAAU2B,cA6BhB,OA3BAyD,qBAAU,WACT,GAAImS,EAAe,CAAC,IACXU,EAAsBV,EAAtBU,OAAQC,EAAcX,EAAdW,UACZD,GAAUA,EAAO7X,MAAQY,EAC5BoZ,EAAgBnC,GAEhBmC,EAAgBlC,EAAUzW,MAAK,SAAC4W,GAAD,OAAkBA,EAAajY,MAAQY,SAGtE,CAACuW,EAAevW,IAkBfqX,EAEF,kBAAC,GAAD,CACCA,aAAcA,EACd9P,SAAUA,EACVxD,YAAaA,EACbE,gBAAiBA,EACjBD,kBAAmBA,EACnBtE,MAAOA,EACPkK,UAzBH,SAA0BqO,GACzB,IAAMU,EAAG,eAAQV,UACVU,EAAIvZ,IlBqHN,SAAyBY,EAAIsB,GACnC,OAAOC,MAAMC,qBAA6B,CACzCC,OAAQ,MACRC,KAAMC,KAAKC,UAAU,CAAExC,IAAKY,EAAIqX,aAAc/V,IAC9CO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UkB3HpBqX,CAAgBpB,EAAkB7Y,IAAKuZ,GACrC7W,MAAK,WACLmC,EAAgB,wCAChBF,IACA/E,EAAQG,KAAK,qBAEbkH,OAAM,WACNpC,EAAgB,+CAChBF,IACA/E,EAAQG,KAAK,wBAkBd,yBAAKlD,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,eACA,yBAAKJ,MAAO,CAAEI,UAAW,WACxB,8BACC,yBAAKJ,MAAO,CAAE8E,OAAQ,QAAS7E,MAAO,SAAWK,IAAK2S,KAAYzS,IAAK,iBCK9D6c,GAvDS,SAAC,GAA0E,IAAxE/R,EAAuE,EAAvEA,SAAUvD,EAA6D,EAA7DA,kBAAmBD,EAA0C,EAA1CA,YAAaE,EAA6B,EAA7BA,gBAAiBvE,EAAY,EAAZA,MAC/EV,EAAU2B,cAiBhB,IAAM0W,EAAe,CACpBuB,YAAY,EACZ3B,QAAQ,EACRvX,MAAO,GACPmZ,oBAAqB,EACrBC,aAAc,EACd7Q,QAAS,GACT1I,OAAQ,GACR0J,QAAS,IAGV,OAAIoO,EAEF,kBAAC,GAAD,CACCA,aAAcA,EACd9P,SAAUA,EACVxD,YAAaA,EACbE,gBAAiBA,EACjBD,kBAAmBA,EACnBtE,MAAOA,EACPkK,UAnCH,SAA4BqO,GAC3B,InB6I+B3W,EmB7IzBqX,EAAG,eAAQV,InB6Ic3W,EmB5IdqX,EnB6IXpX,MAAMC,qBAA6B,CACzCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEyV,aAAc/V,IACrCO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WmBlJlBF,MAAK,WACLmC,EAAgB,uCAChBF,IACA/E,EAAQG,KAAK,qBAEbkH,OAAM,WACNpC,EAAgB,8CAChBF,IACA/E,EAAQG,KAAK,wBA6Bd,yBAAKlD,MAAO,CAAEE,OAAQ,cACrB,wBAAIF,MAAO,CAAEI,UAAW,WAAxB,eACA,yBAAKJ,MAAO,CAAEI,UAAW,WACxB,8BACC,yBAAKJ,MAAO,CAAE8E,OAAQ,QAAS7E,MAAO,SAAWK,IAAK2S,KAAYzS,IAAK,iBC3BvE8c,GAAyB,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,WAAYva,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAClE/E,EAAU2B,cAChB,OACC,yBAAK1E,MAAO,CAAE6M,SAAU,aACtB7J,EAASwa,wBACT,kBAAC,IAAD,CAAMrZ,GAAG,yBACR,4BAAQhE,UAAU,kBAAlB,MAGDod,EAAW1Z,KAAI,SAAC4Z,GAChB,OACC,yBAAKzd,MAAO,CAAE6M,SAAU,YAAc9H,IAAK0Y,EAAMna,QAChD,yBAAKnD,UAAW,SAAUqB,QAAS,kBAAMwB,EAAS0a,4BAA8B3a,EAAQG,KAAK,0BAA4Bua,EAAMta,OAC9H,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAO8Y,EAAMna,SAEjDN,EAAS2a,2BACT,4BACCnc,QAAS,WpBwKV,IAA8BuC,KoBvKP0Z,EAAMta,IpBwK5BmC,MAAMC,yBAAiC,CAC7CC,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAAE5B,GAAIA,IAC3B6B,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WoB7KXF,MAAK,WACLiC,IACAE,EAAgB,mDAEhBoC,OAAM,WACNpC,EAAgB,wDAGnB7H,UAAU,wBAXX,WAuBDyd,GAAyB,SAAC,GAA4D,IAA1DL,EAAyD,EAAzDA,WAAYva,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAClE/E,EAAU2B,cAChB,OACC,yBAAK1E,MAAO,CAAE6M,SAAU,aACtB7J,EAAS6a,wBACT,kBAAC,IAAD,CAAM1Z,GAAG,0BACR,4BAAQhE,UAAU,kBAAlB,MAGDod,EAAW1Z,KAAI,SAAC4Z,GAChB,OACC,yBAAKzd,MAAO,CAAE6M,SAAU,YAAc9H,IAAK0Y,EAAMna,QAChD,yBAAKnD,UAAW,SAAUqB,QAAS,kBAAMwB,EAAS8a,4BAA8B/a,EAAQG,KAAK,2BAA6Bua,EAAMta,OAC/H,wBAAInD,MAAO,CAAEE,OAAQ,EAAGyE,WAAY,KAAO8Y,EAAMna,SAEjDN,EAAS+a,0BACT,4BACCvc,QAAS,WpBmGV,IAA+BuC,KoBlGP0Z,EAAMta,IpBmG7BmC,MAAMC,yBAAiC,CAC7CC,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAAE5B,GAAIA,IAC3B6B,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WoBxGXF,MAAK,WACLiC,IACAE,EAAgB,iDAEhBoC,OAAM,WACNpC,EAAgB,sDAGnB7H,UAAU,wBAXX,WAuBQ6d,GApGI,SAAC,GAA4D,IAA1DT,EAAyD,EAAzDA,WAAYva,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YAAkB,EACtDnI,oBAAS,GAD6C,mBACvE4K,EADuE,KACjE5G,EADiE,KAE9E,OACC,6BACC,yBAAKxD,UAAU,UAAUH,MAAO,CAAEK,UAAW,GAAIiI,aAAc,KAC9D,yBAAK9G,QAAS,kBAAMmC,GAAQ,IAAO3D,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GAAKjQ,UAAWoK,EAAO,6BAA+B,YAAhI,WAGA,yBAAK/I,QAAS,kBAAMmC,GAAQ,IAAQ3D,MAAO,CAAEmQ,WAAY,EAAGC,cAAe,GAAKjQ,UAAYoK,EAAsC,WAA/B,8BAAnG,eAID,wBAAIvK,MAAO,CAAEI,UAAW,SAAUC,UAAW,IAA7C,iBAA8DkK,EAAO,UAAY,cAChFA,EACA,kBAAC,GAAD,CAAwBgT,WAAYA,EAAWU,QAASjb,SAAUA,EAAUgF,gBAAiBA,EAAiBF,YAAaA,IAE3H,kBAAC,GAAD,CAAwByV,WAAYA,EAAWW,QAASlb,SAAUA,EAAUgF,gBAAiBA,EAAiBF,YAAaA,MCjBzHsD,GAAY,CAAC,QAAS,SAAU,QAAS,QAAS,aAwDzC+S,GAtDO,SAAC,GAA8E,IAA5EC,EAA2E,EAA3EA,UAAWnd,EAAgE,EAAhEA,KAAMod,EAA0D,EAA1DA,gBAAiB5a,EAAyC,EAAzCA,MAAO6H,EAAkC,EAAlCA,SAAUvD,EAAwB,EAAxBA,kBAAwB,EACjDpI,mBAASye,EAAUna,QAD8B,mBAC5Fqa,EAD4F,KACzEC,EADyE,OAEzE5e,mBAASye,EAAU9a,QAFsD,mBAE5Fkb,EAF4F,KAErFC,EAFqF,OAGzD9e,oBAAS,GAHgD,mBAG5Fgc,EAH4F,KAG7EC,EAH6E,KAiCnG,OA5BAzT,qBAAU,WACT,GAAa,WAATlH,GAAsBud,GAEnB,GAAa,UAATvd,IAAqBud,EAAO,CACtC,IAAM1U,EAAOwU,SACNxU,EAAK1F,YACZma,EAAqBzU,SAJrByU,EAAqB,2BAAKD,GAAN,IAAyBla,YAAa,OAMzD,CAACoa,EAAOvd,IAEXkH,qBAAU,WACT,GAAImW,EAAkB1U,gBAAkB0U,EAAkB1U,eAAerI,OAAQ,CAChF,IAAMuI,EAAI,eAAQwU,GACdzC,GAAO,EACX/R,EAAKF,eAAiBE,EAAKF,eAAe/F,KAAI,SAACgG,GAC9C,OAAI9B,EAAkB+T,SAASjS,EAAQN,iBAGtCM,EAAQN,cAAgB,GACxBsS,GAAO,GAHAhS,KAOT+R,EAAiBC,GACjB0C,EAAqBzU,MAEpB,CAAC/B,IAGH,yBAAK/H,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,kBAACwe,GAAD,CAAOF,MAAOA,EAAOC,SAAUA,IAC/B,yBAAKte,UAAU,kBACJ,WAATc,GAAqB,kBAAC,GAAD,CAAeqd,kBAAmBA,EAAmBC,qBAAsBA,EAAsB9a,MAAOA,IAC9H,kBAAC,GAAD,CAAS6a,kBAAmBA,EAAmBC,qBAAsBA,EAAsBjT,SAAUA,IACrG,kBAAC,GAAD,CAASgT,kBAAmBA,EAAmBC,qBAAsBA,IACrE,kBAAC,GAAD,CAAYD,kBAAmBA,EAAmBC,qBAAsBA,IACxE,kBAAC,GAAD,CAAWD,kBAAmBA,EAAmBC,qBAAsBA,EAAsBxW,kBAAmBA,IAChH,kBAAC,GAAD,CACCuW,kBAAmBA,EACnBF,UAAWA,EACXI,MAAOA,EACPH,gBAAiBA,EACjB1C,cAAeA,OASpB,SAAShU,GAAgBC,GAMxB,OAJCA,EADoB,MAAjBA,EAAU,GACDA,EAAUC,MAAM,GAAI,GAEpB,IAAMD,EAAY,IAOhC,SAAS8W,GAAT,GAAqC,IAApBF,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACvB,OACC,yBAAKvd,MAAM,SACV,yBAAKf,UAAU,QACd,2BAAOO,SAAU,SAACC,GAAD,OAAO8d,EAAS9d,EAAEC,OAAOC,QAAQA,MAAO2d,MAS7D,SAAS7S,GAAT,GAA4E,IAAnD2S,EAAkD,EAAlDA,kBAAmBC,EAA+B,EAA/BA,qBAAsB9a,EAAS,EAATA,MACjE,OACC,6BACC,uBAAGzD,MAAO,CAAEqB,YAAa,KAAzB,aACA,4BAAQX,SAAU,SAACC,GAAD,OAAO4d,EAAqB,2BAAKD,GAAN,IAAyBla,YAAa+G,OAAOxK,EAAEC,OAAOC,WAAWA,MAAOyd,EAAkBla,aACtI,4BAAQW,IAAI,UAAUlE,MAAO,GAA7B,yBAGC4C,EAAMI,KAAI,SAACf,GAAD,OACV,4BAAQiC,IAAKjC,EAAKA,KAAMjC,MAAOiC,EAAKA,MAApC,QACOA,EAAKA,KADZ,KACoBA,EAAKQ,OADzB,UAYL,SAASsI,GAAT,GAAyE,IAAtD0S,EAAqD,EAArDA,kBAAmBC,EAAkC,EAAlCA,qBAAsBjT,EAAY,EAAZA,SAC3D,OACC,6BACEgT,EAAkBtS,SAClBsS,EAAkBtS,QAAQnI,KAAI,SAACoI,EAAQnI,GAEtC,OAAQmI,EAAOC,MACd,IAAK,SACJ,OACC,kBAAC,GAAD,CACCnH,IAAKjB,EACLA,MAAOA,EACPwa,kBAAmBA,EACnBC,qBAAsBA,EACtBjT,SAAUA,EAASc,WAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCrH,IAAKjB,EACLA,MAAOA,EACPwa,kBAAmBA,EACnBC,qBAAsBA,EACtBjT,SAAUA,EAASe,SAGtB,IAAK,QACJ,OACC,kBAAC,GAAD,CACCtH,IAAKjB,EACLA,MAAOA,EACPwa,kBAAmBA,EACnBC,qBAAsBA,EACtBjT,SAAUA,EAASgB,SAGtB,IAAK,YACJ,OACC,kBAAC,GAAD,CACCvH,IAAKjB,EACLA,MAAOA,EACPwa,kBAAmBA,EACnBC,qBAAsBA,EACtBjT,SAAUA,EAASiB,aAGtB,QACC,OAAO,kBAAC,GAAD,CAAYxH,IAAKjB,EAAOA,MAAOA,EAAOwa,kBAAmBA,EAAmBC,qBAAsBA,QAG7G,4BACCpe,UAAU,uBACVqB,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnBtS,QAAQ,GAAD,mBAAMsS,EAAkBtS,SAAxB,CAAiC,CAAEE,KAAM,QAASO,MAAO,GAAIC,SAAS,UALhF,MAeH,SAASF,GAAT,GAAyE,IAAnD1I,EAAkD,EAAlDA,MAAOwa,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBAC/C,OACC,6BACC,6BACA,qCAAWza,EAAQ,GACnB,6BACA,6BACC,8BACCpD,SAAU,SAACC,GACV,IAAMgM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAS,CAAEoI,KAAM,QAASO,MAAO9L,EAAEC,OAAOC,MAAO6L,SAAS,GACrE6R,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,MAGX9L,MAAOyd,EAAkBtS,QAAQlI,GAAO2I,MACxCzM,MAAO,CAAEC,MAAO,MAAO6E,OAAQ,GAAI8H,OAAQ,UAG5C,4BACCpL,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnBtS,QAAQ,GAAD,mBAAMsS,EAAkBtS,QAAQnE,MAAM,EAAG/D,IAAzC,YAAoDwa,EAAkBtS,QAAQnE,MAAM/D,EAAQ,SAGrG3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAcD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChE6R,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,MAGX9L,MAAOyd,EAAkBtS,QAAQlI,GAAOoI,MAEvCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SASR,SAASkL,GAAT,GAAyF,IAA7DrI,EAA4D,EAA5DA,MAAOwa,EAAqD,EAArDA,kBAAmBC,EAAkC,EAAlCA,qBAAsBjT,EAAY,EAAZA,SAC3E,OACC,6BACC,6BACA,qCAAWxH,EAAQ,GACnB,6BACA,yBAAK9D,MAAO,CAAEK,UAAW,SACtBie,EAAkBtS,QAAQlI,GAAO4I,QAsBlC,8BACC,0BAAM1M,MAAO,CAAEqB,YAAa,SAA5B,oBACA,2BACCrB,MAAO,CAAEC,MAAO,SAChBY,MAAOyd,EAAkBtS,QAAQlI,GAAO2I,MACxC/L,SAAU,SAACC,GACV,IAAMgM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC0d,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,SA/Bb,4BACCjM,SAAU,SAACC,GACV,IAAMgM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAO2I,MAAQ9L,EAAEC,OAAOC,MACnC0d,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,MAGX9L,MAAOyd,EAAkBtS,QAAQlI,GAAO2I,OAExC,4BAAQ1H,IAAI,GAAGlE,MAAM,IAArB,yBAGCyK,EAASzH,KAAI,SAACiJ,GAAD,OACb,4BAAQ/H,IAAK+H,EAAMjM,MAAOiM,GACxBA,OAsBL,4BACCtL,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnBtS,QAAQ,GAAD,mBAAMsS,EAAkBtS,QAAQnE,MAAM,EAAG/D,IAAzC,YAAoDwa,EAAkBtS,QAAQnE,MAAM/D,EAAQ,SAGrG3D,UAAU,gBACVH,MAAO,CAAE6M,SAAU,aARpB,MAaD,yBAAK7M,MAAO,CAAEK,UAAW,SACxB,4DACA,2BACCY,KAAK,WACL8L,QAASuR,EAAkBtS,QAAQlI,GAAO4I,QAC1ChM,SAAU,WACT,IAAMiM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAO4I,SAAWC,EAAW7I,GAAO4I,QAC/CC,EAAW7I,GAAO2I,MAAQ,GAC1B8R,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,SAKb,yBAAK3M,MAAO,CAAEK,UAAW,SACxB,0BAAML,MAAO,CAAEqB,YAAa,QAA5B,kBACA,4BACCX,SAAU,SAACC,GACV,IAAMgM,EAAa2R,EAAkBtS,QACrCW,EAAW7I,GAAS,CAAEoI,KAAMvL,EAAEC,OAAOC,MAAO4L,MAAO,GAAIC,SAAS,GAChE6R,EAAqB,2BACjBD,GADgB,IAEnBtS,QAASW,MAGX9L,MAAOyd,EAAkBtS,QAAQlI,GAAOoI,MAEvCd,GAAUvH,KAAI,SAAC5C,GAAD,OACd,4BAAQ8D,IAAK9D,EAAMJ,MAAOI,GACxBA,SAYR,SAAS4K,GAAT,GAA+D,IAA5CyS,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBACrC,OACC,6BACC,6BACA,6BACA,6BACC,uCAED,yBAAKve,MAAO,CAAEmB,QAAS,OAAQuI,eAAgB,aAAcC,SAAU,SACrE2U,EAAkBtR,SAClBsR,EAAkBtR,QAAQnJ,KAAI,SAACoJ,EAAOnJ,GACrC,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,yCAAe4D,EAAQ,GACvB,4BACCtC,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnBtR,QAAQ,GAAD,mBAAMsR,EAAkBtR,QAAQnF,MAAM,EAAG/D,IAAzC,YAAoDwa,EAAkBtR,QAAQnF,MAAM/D,EAAQ,SAGrG3D,UAAU,iBAPX,KAWA,6BACA,2BACCO,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnBtR,QAAQ,GAAD,mBAAMsR,EAAkBtR,QAAQnF,MAAM,EAAG/D,IAAzC,CAAiDnD,EAAEC,OAAOC,OAA1D,YAAoEyd,EAAkBtR,QAAQnF,MAAM/D,EAAQ,SAGrHjD,MAAOyd,EAAkBtR,QAAQlJ,SAKtC,4BACCtC,QAAS,kBACR8c,EAAkBtR,QACfuR,EAAqB,2BAAKD,GAAN,IAAyBtR,QAAQ,GAAD,mBAAMsR,EAAkBtR,SAAxB,CAAiC,QACrFuR,EAAqB,2BAAKD,GAAN,IAAyBtR,QAAS,CAAC,QAE3D7M,UAAU,aACVH,MAAO,CAAEC,MAAO,GAAI6E,OAAQ,GAAIzE,UAAW,KAP5C,OAmBJ,SAASyL,GAAT,GAAkE,IAA5CwS,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,qBAClCrR,EACG,CAAEC,UAAU,EAAMC,SAAU,SAAUC,YAAa,GAAIZ,MAAO,IADjES,EAEG,CAAEC,UAAU,EAAOC,SAAU,GAAIC,YAAa,GAAIZ,MAAO,IAF5DS,EAGK,CAAEI,SAAU,GAAID,YAAa,GAAIZ,MAAO,IAJa,EAOhB9M,oBAAS,GAPO,mBAOzD4N,EAPyD,KAOvCC,EAPuC,KAShE,OACC,6BACC,6BACA,6BACA,6BACC,uBAAGxN,MAAO,CAAEqB,YAAa,KAAzB,eACCid,EAAkB7Q,aAAe6Q,EAAkB7Q,YAAYlM,OAAS,GACxE,yBAAKvB,MAAO,CAAEmB,QAAS,WACtB,gDACA,2BACCuM,YAAY,cACZhN,SAAU,SAACC,GAAD,OAAO4d,EAAqB,2BAAKD,GAAN,IAAyB3Q,UAAWhN,EAAEC,OAAOC,UAClFA,MAAOyd,EAAkB3Q,cAK7B,yBAAK3N,MAAO,CAAEmB,QAAS,OAAQuI,eAAgB,aAAcC,SAAU,SACrE2U,EAAkB7Q,aAClB6Q,EAAkB7Q,YAAY5J,KAAI,SAAC+J,EAAW9J,GAC7C,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,KACjC,4BACCsB,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnB7Q,YAAY,GAAD,mBAAM6Q,EAAkB7Q,YAAY5F,MAAM,EAAG/D,IAA7C,YAAwDwa,EAAkB7Q,YAAY5F,MAAM/D,EAAQ,KAC/G6J,UAAW2Q,EAAkB7Q,YAAYlM,QAAU,EAAI,GAAK+c,EAAkB3Q,cAGhFxN,UAAU,gBACVH,MAAO,CAAE2E,WAAY,SATtB,KAaA,kCACwBgG,IAAvBiD,EAAUN,UACV,oCACC,2CACA,6BACA,2BACC5M,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB7Q,YAAY,GAAD,mBACP6Q,EAAkB7Q,YAAY5F,MAAM,EAAG/D,IADhC,4BAELwa,EAAkB7Q,YAAY3J,IAFzB,IAEiCwJ,SAAU3M,EAAEC,OAAOC,SAFpD,YAGPyd,EAAkB7Q,YAAY5F,MAAM/D,EAAQ,SAIlDjD,MAAOyd,EAAkB7Q,YAAY3J,GAAOwJ,WAE7C,+BAGsB,IAAvBM,EAAUT,UACV,oCACC,gDACA,6BACA,2BACCzM,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB7Q,YAAY,GAAD,mBACP6Q,EAAkB7Q,YAAY5F,MAAM,EAAG/D,IADhC,4BAELwa,EAAkB7Q,YAAY3J,IAFzB,IAEiCsJ,SAAUzM,EAAEC,OAAOC,SAFpD,YAGPyd,EAAkB7Q,YAAY5F,MAAM/D,EAAQ,SAIlDjD,MAAOyd,EAAkB7Q,YAAY3J,GAAOsJ,WAE7C,8BAGF,8CACA,6BACA,4BACC1M,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB7Q,YAAY,GAAD,mBACP6Q,EAAkB7Q,YAAY5F,MAAM,EAAG/D,IADhC,4BAELwa,EAAkB7Q,YAAY3J,IAFzB,IAEiCuJ,YAAa1M,EAAEC,OAAOC,SAFvD,YAGPyd,EAAkB7Q,YAAY5F,MAAM/D,EAAQ,SAIlDjD,MAAOyd,EAAkB7Q,YAAY3J,GAAOuJ,aAE5C,4BAAQtI,IAAI,UAAUlE,MAAM,IAA5B,+BAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,eAGA,4BAAQkE,IAAI,IAAIlE,MAAM,KAAtB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,mBAGA,4BAAQkE,IAAI,IAAIlE,MAAM,KAAtB,WAGA,4BAAQkE,IAAI,KAAKlE,MAAM,MAAvB,oBAID,6BACA,wCACO,gCAA2B8J,IAAvBiD,EAAUN,SAAyB,WAAaM,EAAUT,SAAW,SAAW,WAE3F,6BACA,2BACCzM,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB7Q,YAAY,GAAD,mBACP6Q,EAAkB7Q,YAAY5F,MAAM,EAAG/D,IADhC,4BAELwa,EAAkB7Q,YAAY3J,IAFzB,IAEiC2I,MAAO9L,EAAEC,OAAOC,SAFjD,YAGPyd,EAAkB7Q,YAAY5F,MAAM/D,EAAQ,SAIlDjD,MAAOyd,EAAkB7Q,YAAY3J,GAAO2I,QAE7C,iCAIHc,EACA,6BACC,4BAAQ/L,QAAS,kBAAMqM,EAAaX,IAA+B/M,UAAU,iBAA7E,UAGA,6BACA,4BAAQqB,QAAS,kBAAMqM,EAAaX,IAA+B/M,UAAU,iBAA7E,UAGA,6BACA,4BAAQqB,QAAS,kBAAMqM,EAAaX,IAAiC/M,UAAU,iBAA/E,aAKD,4BAAQqB,QAAS,kBAAMgM,GAAoB,IAAOrN,UAAU,qBAA5D,OAQJ,SAAS0N,EAAaC,GACjBwQ,EAAkB7Q,YACrB8Q,EAAqB,2BAAKD,GAAN,IAAyB7Q,YAAY,GAAD,mBAAM6Q,EAAkB7Q,aAAxB,CAAqCK,OAE7FyQ,EAAqB,2BAAKD,GAAN,IAAyB7Q,YAAa,CAACK,MAE5DN,GAAoB,IAQtB,SAASzB,GAAT,GAAoF,IAA/DuS,EAA8D,EAA9DA,kBAAmBC,EAA2C,EAA3CA,qBAAsBxW,EAAqB,EAArBA,kBACvDuB,EAAiB,CAAEC,cAAe,GAAIC,UAAW,GAAIC,WAAY,IAEvE,OACC,6BACC,6BACA,8BAEE6U,EAAkB1U,gBACnB,6BACC,sDAGF,6BACE0U,EAAkB1U,gBAClB0U,EAAkB1U,eAAe/F,KAAI,SAACgG,EAAS/F,GAC9C,OACC,yBAAKiB,IAAKjB,EAAO9D,MAAO,CAAEE,OAAQ,GAAIE,UAAW,WAChD,wBAAIJ,MAAO,CAAE+N,YAAa,SAC1B,oDAAoBjK,EAAQ,GAC5B,iCAAO+F,EAAQN,cAAf,MACA,4BACC/H,QAAS,WACR,IAAMsI,EAAI,eAAQwU,GAEiB,IAA/BxU,EAAKF,eAAerI,cAChBuI,EAAKF,eAEZE,EAAKF,eAAL,sBAA0BE,EAAKF,eAAe/B,MAAM,EAAG/D,IAAvD,YAAkEgG,EAAKF,eAAe/B,MAAM/D,EAAQ,KAGrGya,EAAqBzU,IAEtB3J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAbtB,KAiBA,6BACA,0DACA,6BAaA,4BACCjE,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB1U,eAAe,GAAD,mBACV0U,EAAkB1U,eAAe/B,MAAM,EAAG/D,IADhC,4BAERwa,EAAkB1U,eAAe9F,IAFzB,IAEiCyF,cAAe5I,EAAEC,OAAOC,SAFzD,YAGVyd,EAAkB1U,eAAe/B,MAAM/D,EAAQ,SAIrDjD,MAAOyd,EAAkB1U,eAAe9F,GAAOyF,eAE/C,4BAAQxE,IAAI,GAAGlE,MAAM,IAArB,yBAGCkH,EAAkBlE,KAAI,SAACgG,GAAD,OACtB,4BAAQ9E,IAAK8E,EAAShJ,MAAOgJ,GAC3BA,OAIJ,6BACA,gDACA,6BACCA,EAAQJ,YACRI,EAAQJ,WAAW5F,KAAI,SAAC+D,EAAWmC,GAClC,OACC,yBAAKhF,IAAKgF,GACT,2BACCrJ,SAAU,SAACC,GAAD,OACT4d,EAAqB,2BACjBD,GADgB,IAEnB1U,eAAe,GAAD,mBACV0U,EAAkB1U,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTwa,EAAkB1U,eAAe9F,IAHxB,IAIZ2F,WAAW,GAAD,mBACN6U,EAAkB1U,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADtD,CAETpJ,EAAEC,OAAOC,OAFA,YAGNyd,EAAkB1U,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAP1D,YAUVuU,EAAkB1U,eAAe/B,MAAM/D,EAAQ,SAIrDjD,MAAOyd,EAAkB1U,eAAe9F,GAAO2F,WAAWM,KAG3D,4BACCvI,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnB1U,eAAe,GAAD,mBACV0U,EAAkB1U,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTwa,EAAkB1U,eAAe9F,IAHxB,IAIZ2F,WAAW,GAAD,mBACN6U,EAAkB1U,eAAe9F,GAAO2F,WAAW5B,MAAM,EAAGkC,IADtD,CAETpC,GAAgB2W,EAAkB1U,eAAe9F,GAAO2F,WAAWM,KAF1D,YAGNuU,EAAkB1U,eAAe9F,GAAO2F,WAAW5B,MAAMkC,EAAS,QAP1D,YAUVuU,EAAkB1U,eAAe/B,MAAM/D,EAAQ,SAIrD3D,UAAU,gBACVH,MAAO,CAAEgK,SAAU,UAED,MAAjBpC,EAAU,GAAa,wBAA0B,wBAGnD,4BACCpG,QAAS,WACR,IAAMyI,EAAU,eAAQqU,GAClBzU,EAAUI,EAAWL,eAAe9F,GAE1C+F,EAAQJ,WAAR,sBAAyBI,EAAQJ,WAAW5B,MAAM,EAAGkC,IAArD,YAAiEF,EAAQJ,WAAW5B,MAAMkC,EAAS,KAEnGE,EAAWL,eAAe9F,GAAS+F,EAEnC0U,EAAqBtU,IAEtB9J,UAAU,gBACVH,MAAO,CAAE2E,WAAY,QAZtB,SAmBJ,4BACCnD,QAAS,kBACR+c,EAAqB,2BACjBD,GADgB,IAEnB1U,eAAe,GAAD,mBACV0U,EAAkB1U,eAAe/B,MAAM,EAAG/D,IADhC,4BAGTwa,EAAkB1U,eAAe9F,IAHxB,IAIZ2F,WAAY6U,EAAkB1U,eAAe9F,GAAO2F,WAAxC,sBACL6U,EAAkB1U,eAAe9F,GAAO2F,YADnC,CAC+C,KACxD,CAAC,OANQ,YAQV6U,EAAkB1U,eAAe/B,MAAM/D,EAAQ,SAIrD3D,UAAU,wBAhBX,SAuBJ,4BACCqB,QAAS,kBACR8c,EAAkB1U,eACf2U,EAAqB,2BAClBD,GADiB,IAEpB1U,eAAe,GAAD,mBAAM0U,EAAkB1U,gBAAxB,CAAwCN,OAEtDiV,EAAqB,2BAAKD,GAAN,IAAyB1U,eAAgB,CAACN,OAElEnJ,UAAU,qBATX,OAsBJ,SAAS0I,GAAT,GAA8F,IAqBzFmF,EArBiBsQ,EAAuE,EAAvEA,kBAAmBF,EAAoD,EAApDA,UAAWI,EAAyC,EAAzCA,MAAOH,EAAkC,EAAlCA,gBAAiB1C,EAAiB,EAAjBA,cACrE5Y,EAAU2B,cAKVia,GAAkBH,EAGlBvQ,EAA0D,IAAlCqQ,EAAkBla,YAG1C8J,EAAwD,IAArCoQ,EAAkBtS,QAAQzK,OAG7C4M,GAAyBmQ,EAAkBtS,QAAQ7B,OAAM,SAAC8B,GAAD,MAA6B,KAAjBA,EAAOQ,SAG5EvC,IAAsBoU,EAAkB1U,iBAAkB0U,EAAkB1U,eAAeO,OAAM,SAACN,GAAD,MAAuC,KAA1BA,EAAQN,iBAK3HyE,EADGsQ,EAAkB7Q,YAAYlM,OAAS,KACpB+c,EAAkB3Q,UAAUlG,MAAM,SACrD6W,EAAkB3Q,UAAUlG,MAAM,QAAQlG,SAAW+c,EAAkB7Q,YAAYlM,QAOvF,IAAM6M,EACoC,IAAzCkQ,EAAkB7Q,YAAYlM,QAC7B+c,EAAkB7Q,cACjB6Q,EAAkB7Q,YAAYtD,OAC9B,SAACyD,GAAD,MAAyC,KAA1BA,EAAUP,aAA6C,KAAvBO,EAAUR,UAAuC,KAApBQ,EAAUnB,OAAuC,KAAvBmB,EAAUN,YAGnH,OACC,6BACC,yBAAKnN,UAAU,eAAee,MAAM,SACnC,4BAAQI,SAAUqa,EAAexb,UAAU,+BAA+BqB,QAAS,kBAAMuB,EAAQG,KAAK,iBAAtG,YAGA,4BACC5B,SACC2M,GACAC,GACAE,GACAJ,GACA9D,GACAiE,GACAwQ,EAEDnd,QAAS,kBAAM6c,EAAgB,CAAE/a,OAAQkb,EAAOva,OAAQqa,EAAmBnb,IAAKib,EAAUjb,OAC1FhD,UAAU,8BAXX,YAiBAwb,GACA,yBAAKza,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,uFAIDud,GACA,yBAAKzd,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,yDAGD6M,GACA,yBAAK/M,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,4CAGD8M,GACA,yBAAKhN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAGD+M,GACA,yBAAKjN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,uDAGD4M,GACA,yBAAK9M,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,4EAGDgN,GACA,yBAAKlN,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,wCAGD8I,GACA,yBAAKhJ,MAAM,SACV,0BAAMlB,MAAO,CAAEqK,SAAU,OAAQjJ,MAAO,QAAxC,sCCv1BL,IAqCewd,GArCO,SAAC,GAAmF,IAAjFrB,EAAgF,EAAhFA,WAAY9Z,EAAoE,EAApEA,MAAOob,EAA6D,EAA7DA,OAAQ/W,EAAqD,EAArDA,YAAawD,EAAwC,EAAxCA,SAAUvD,EAA8B,EAA9BA,kBAAmB9G,EAAW,EAAXA,KACrF8C,EAAOsF,cAAPtF,GACFhB,EAAU2B,cACV0Z,EACI,WAATnd,EACGsc,EAAWU,QAAQzZ,MAAK,SAAC4Z,GAAD,OAAeA,EAAUjb,MAAQY,KACzDwZ,EAAWW,QAAQ1Z,MAAK,SAAC4Z,GAAD,OAAeA,EAAUjb,MAAQY,KAC7D,OAAKqa,EAEJ,kBAAC,GAAD,CACCA,UAAWA,EACXnd,KAAMA,EACNqK,SAAUA,EACV+S,gBAMF,SAAcD,GACb,IAAM/Y,EAAO,CAAE+Y,UAAWA,GACb,WAATnd,EtBuIC,SAA4BoE,GAClC,OAAOC,MAAMC,yBAAiC,CAC7CC,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UsB7InB+Y,CAAmBzZ,GAAMQ,MAAK,WAC7BgZ,EAAO,0BACP9b,EAAQG,KAAK,eACboL,WAAWxG,EAAa,QtBiKrB,SAA2BzC,GACjC,OAAOC,MAAMC,yBAAiC,CAC7CC,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UsBrKnBgZ,CAAkB1Z,GAAMQ,MAAK,WAC5BgZ,EAAO,0BACP9b,EAAQG,KAAK,eACboL,WAAWxG,EAAa,SAjBzBrE,MAAOA,EACPsE,kBAAmBA,IARE,wBAAI/H,MAAO,CAAEI,UAAW,WAAxB,eCPlB4e,GAAmB,CACxB1b,OAAQ,GACRW,OAAQ,CAAE0J,UAAW,GAAI3B,QAAS,GAAIyB,YAAa,KAuCrCwR,GApCS,SAAC,GAAuE,IAArExb,EAAoE,EAApEA,MAAOob,EAA6D,EAA7DA,OAAQvT,EAAqD,EAArDA,SAAUxD,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,kBAAmB9G,EAAW,EAAXA,KAC7E8B,EAAU2B,cAChB,OACC,kBAAC,GAAD,CACC0Z,UAAWY,GACX/d,KAAMA,EACNod,gBAOF,SAAcD,UACNA,EAAUjb,IACjB,IAAMkC,EAAO,CAAE+Y,UAAWA,GACb,WAATnd,EvBiJC,SAA6BoE,GACnC,OAAOC,MAAMC,yBAAiC,CAC7CC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UuBvJnBmZ,CAAoB7Z,GAClBQ,MAAK,WACLgZ,EAAO,0BACP9b,EAAQG,KAAK,eACboL,WAAWxG,EAAa,QAExBsC,OAAM,SAACa,GACP4T,EAAO,8CvBuKL,SAA4BxZ,GAClC,OAAOC,MAAMC,yBAAiC,CAC7CC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,UuB3KnBoZ,CAAmB9Z,GAAMQ,MAAK,WAC7BgZ,EAAO,0BACP9b,EAAQG,KAAK,eACboL,WAAWxG,EAAa,SAvBzBrE,MAAOA,EACP6H,SAAUA,EACVvD,kBAAmBA,KCuChBqX,GAAiB,SAAC,GAAoE,IAAlEC,EAAiE,EAAjEA,UAAWtc,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YACxE,OACC,yBAAK5G,MAAM,UACV,wBACCf,UAAU,YACVe,MAAM,SACNM,QAAS,WACRwB,EAASsc,mBAAqBvc,EAAQG,KAAK,eAAiBmc,EAAUlc,OAGtEkc,EAAUzf,UAEXoD,EAASuc,kBACT,4BACC/d,QAAS,WxB+MP,IAAoB6D,KwB9MVga,ExB+MT/Z,MAAMC,aAAqB,CACjCC,OAAQ,SACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WwBpNdqE,OAAM,SAACa,GACPC,QAAQD,MAAM,SAAUA,GACxBjD,EAAgB,iCAChBjF,EAAQG,KAAK,aAEb2C,MAAK,WACLiC,IACAE,EAAgB,oCAChBjF,EAAQG,KAAK,cAGhB/C,UAAU,iBAdX,OAuBWqf,GA1FG,SAAC,GAA6D,IAA3DC,EAA0D,EAA1DA,MAAOhgB,EAAmD,EAAnDA,KAAMuD,EAA6C,EAA7CA,SAAUgF,EAAmC,EAAnCA,gBAAiBF,EAAkB,EAAlBA,YACtD/E,EAAU2B,cAD8D,EAE1C/E,mBAAS8f,EAAM7a,QAAO,SAACH,GAAD,OAAOA,EAAEtB,MAAQ1D,EAAK0D,QAFF,mBAEvEuc,EAFuE,KAE3DC,EAF2D,KAQ9E,OAJAxX,qBAAU,WACTwX,EAAcF,EAAM7a,QAAO,SAACH,GAAD,OAAOA,EAAEtB,MAAQ1D,EAAK0D,UAC/C,CAACsc,EAAOhgB,IAGV,6BACC,6BACC,wBAAIO,MAAO,CAAEI,UAAW,WAAxB,oBACA,wBAAIJ,MAAO,CAAEC,MAAO,MAAOqI,aAAc,UACzC,yBAAKpH,MAAM,UACV,wBACCf,UAAU,YACVe,MAAM,SACNM,QAAS,WACRuB,EAAQG,KAAK,eAAiBzD,EAAK0D,OAGnC1D,EAAKG,WAIR,wBAAII,MAAO,CAAEI,UAAW,WAAxB,0BACA,wBAAIJ,MAAO,CAAEC,MAAO,MAAOqI,aAAc,UACxCoX,EAAW7b,KAAI,SAACwB,GAAD,OACf,kBAAC,GAAD,CACCga,UAAWha,EACXN,IAAKM,EAAKzF,SACVmD,QAASA,EACTC,SAAUA,EACVgF,gBAAiBA,EACjBF,YAAaA,QAIf9E,EAAS4c,eACT,6BACC,4BACCzf,UAAU,iBACVqB,QAAS,WACRuB,EAAQG,KAAK,gBAHf,QC7BC2c,GAAe,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,MAAOhY,EAA0C,EAA1CA,YAAaiY,EAA6B,EAA7BA,MAAO/X,EAAsB,EAAtBA,gBAC3CjF,EAAU2B,cADuD,EAEnC/E,mBAAS,CAC3CC,SAAU,GACVE,SAAU,GACVkgB,UAAW,GACXC,IAAK,KANgE,mBAEhEC,EAFgE,KAEpDC,EAFoD,KASvE,OACE,yBAAKngB,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cAClC,yBAAKgB,MAAM,SACT,yBAAKf,UAAU,QAAf,kBAEF,yBAAKA,UAAU,kBACb,oDACA,2BACEO,SAAU,SAAC6D,GAAD,OACR4b,EAAc,2BAAKD,GAAN,IAAkBtgB,SAAU2E,EAAM3D,OAAOC,UAExDb,MAAO,CAAEC,MAAO,WAElB,8BACE6f,EAAM3V,OAAM,SAACxJ,GAAD,OAAOA,EAAEf,WAAasgB,EAAWtgB,aAC7C,0BAAMI,MAAO,CAAEqK,SAAU,GAAIjJ,MAAO,QAApC,kCAIF,mDACA,4BACEpB,MAAO,CAAEC,MAAO,SAChBS,SAAU,SAAC6D,GAAD,OACR4b,EAAc,2BAAKD,GAAN,IAAkBD,IAAK1b,EAAM3D,OAAOC,UAEnDA,MAAOqf,EAAWD,KAElB,4BAAQlb,IAAI,GAAGlE,MAAM,IAArB,wBAGCkf,EAAMlc,KAAI,SAACoc,GAAD,OACT,4BAAQlb,IAAKkb,EAAKpf,MAAOof,GACtBA,OAIP,+CACA,2BACEvf,SAAU,SAAC6D,GAAD,OACR4b,EAAc,2BAAKD,GAAN,IAAkBpgB,SAAUyE,EAAM3D,OAAOC,UAExDI,KAAK,WACLjB,MAAO,CAAEC,MAAO,SAElB,6BACA,yDACA,2BACES,SAAU,SAAC6D,GAAD,OACR4b,EAAc,2BAAKD,GAAN,IAAkBF,UAAWzb,EAAM3D,OAAOC,UAEzDI,KAAK,WACLjB,MAAO,CAAEC,MAAO,SAElB,6BACCigB,EAAWpgB,WAAaogB,EAAWF,WAClC,0BAAMhgB,MAAO,CAAEqK,SAAU,GAAIjJ,MAAO,QAApC,mCAKF,6BACA,6BAEA,yBAAKjB,UAAU,eAAee,MAAM,SAElC,4BACEf,UAAU,+BACVqB,QAAS,kBAAMuB,EAAQG,KAAK,YAF9B,YAQA,4BACE5B,SACE4e,EAAWpgB,WAAaogB,EAAWF,YAClCE,EAAWpgB,WACXogB,EAAWtgB,WACXsgB,EAAWD,MACXH,EAAM3V,OAAM,SAACxJ,GAAD,OAAOA,EAAEf,WAAasgB,EAAWtgB,YAEhD4B,QAAS,kBAarB,SAAc0e,EAAYnd,EAAS+E,EAAaE,GAAkB,IACxDpI,EAA4BsgB,EAA5BtgB,SAAUE,EAAkBogB,EAAlBpgB,SAAUmgB,EAAQC,EAARD,KzB4IL5a,EyB3IP,CAAEzF,WAAUE,WAAUmgB,OzB4IhC3a,MAAMC,eAAuB,CACnCC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,WyBhJjBqE,OAAM,SAACa,GACNC,QAAQD,MAAM,SAAUA,GACxBjD,EAAgB,8BAChBjF,EAAQG,KAAK,aAEd2C,MAAK,WACJiC,IACAE,EAAgB,iCAChBjF,EAAQG,KAAK,azBiIZ,IAAkBmC,EyBzJX+a,CAAKF,EAAYnd,EAAS+E,EAAaE,IAEzC7H,UAAU,8BAXZ,eAqCKkgB,OAlIC,SAAC,GAAoD,IAAlDZ,EAAiD,EAAjDA,MAAOM,EAA0C,EAA1CA,MAAOjY,EAAmC,EAAnCA,YAAaE,EAAsB,EAAtBA,gBAC5C,OACE,kBAAC,GAAD,CACE8X,MAAOL,EACP3X,YAAaA,EACbiY,MAAOA,EACP/X,gBAAiBA,KC2DRsY,GAjEO,SAAC,GAA6D,IAA3D7gB,EAA0D,EAA1DA,KAAMqI,EAAoD,EAApDA,YAAaiY,EAAuC,EAAvCA,MAAO/X,EAAgC,EAAhCA,gBAAiBhF,EAAe,EAAfA,SAC7DD,EAAU2B,cADkE,EAE9C/E,mBAAS,CAAEwD,IAAK1D,EAAK0D,IAAK8c,IAAKxgB,EAAKwgB,IAAKrgB,SAAUH,EAAKG,SAAUE,SAAU,GAAIkgB,UAAW,KAF7C,mBAE3EE,EAF2E,KAE/DC,EAF+D,KAQlF,OAJAhY,qBAAU,WACTgY,EAAc,CAAEhd,IAAK1D,EAAK0D,IAAK8c,IAAKxgB,EAAKwgB,IAAKrgB,SAAUH,EAAKG,SAAUE,SAAU,GAAIkgB,UAAW,OAC9F,CAACvgB,IAGH,yBAAKO,MAAO,CAAEC,MAAO,MAAOC,OAAQ,cACnC,yBAAKgB,MAAM,SACV,yBAAKf,UAAU,QAAf,mBAED,yBAAKA,UAAU,kBACd,oDAA0B+f,EAAWtgB,SAArC,KACA,oDACA,4BACCI,MAAO,CAAEC,MAAO,OAChBS,SAAU,SAAC6D,GAAD,OAAW4b,EAAc,2BAAKD,GAAN,IAAkBD,IAAK1b,EAAM3D,OAAOC,UACtEA,MAAOqf,EAAWD,IAClB3e,UAAW0B,EAASsc,mBAEpB,4BAAQva,IAAI,GAAGlE,MAAM,IAArB,iBAGCkf,EAAMlc,KAAI,SAACoc,GAAD,OACV,4BAAQlb,IAAKkb,EAAKpf,MAAOof,GACvBA,OAKJ,sDACA,2BACCvf,SAAU,SAAC6D,GAAD,OAAW4b,EAAc,2BAAKD,GAAN,IAAkBpgB,SAAUyE,EAAM3D,OAAOC,UAC3EI,KAAK,WACLjB,MAAO,CAAEC,MAAO,OAChBY,MAAOqf,EAAWpgB,WAEnB,6BACA,gEACA,2BAAOY,SAAU,SAAC6D,GAAD,OAAW4b,EAAc,2BAAKD,GAAN,IAAkBF,UAAWzb,EAAM3D,OAAOC,UAAUI,KAAK,WAAWjB,MAAO,CAAEC,MAAO,SAC7H,6BACCigB,EAAWpgB,WAAaogB,EAAWF,WAAa,0BAAMhgB,MAAO,CAAEqK,SAAU,GAAIjJ,MAAO,QAApC,mCAEjD,yBAAKjB,UAAU,eAAee,MAAM,SAEnC,4BAAQf,UAAU,+BAA+BqB,QAAS,kBAAMuB,EAAQG,KAAK,YAA7E,YAKA,4BACC5B,SAAU4e,EAAWpgB,WAAaogB,EAAWF,YAAcE,EAAWpgB,WAAaogB,EAAWD,IAC9Fze,QAAS,kBAaf,SAAgB0e,EAAYnd,EAAS+E,EAAaE,GACjD,IAAMuY,EAAY,eAAQL,UACnBK,EAAaP,W1BoMI3a,E0BnMfkb,E1BoMFjb,MAAMC,aAAqB,CACjCC,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,W0BzMnBqE,OAAM,SAACa,GACPC,QAAQD,MAAM,SAAUA,GACxBjD,EAAgB,kCAChBjF,EAAQG,KAAK,aAEb2C,MAAK,WACLiC,IACAE,EAAgB,qCAChBjF,EAAQG,KAAK,a1B0LT,IAAkBmC,E0BnNJmb,CAAON,EAAYnd,EAAS+E,EAAaE,IACxD7H,UAAU,8BAHX,eCpDL,IAOesgB,GAPE,SAAC,GAA8D,IAA5DhB,EAA2D,EAA3DA,MAAOM,EAAoD,EAApDA,MAAOjY,EAA6C,EAA7CA,YAAaE,EAAgC,EAAhCA,gBAAiBhF,EAAe,EAAfA,SACvDe,EAAOsF,cAAPtF,GACFtE,EAAOggB,EAAMjb,MAAK,SAAC7D,GAAD,OAAOA,EAAEwC,MAAQY,KAEzC,OAAO,kBAAC,GAAD,CAAetE,KAAMA,EAAMqI,YAAaA,EAAaiY,MAAOA,EAAO/X,gBAAiBA,EAAiBhF,SAAUA,K,qBCyBxG0d,G,kLA7BS,IAAD,OACjBpS,YAAW,WACP,EAAK8J,MAAMpQ,gBAAgB,MAC5B,O,+BAID,IAAI2Y,EAAmB,GACvB,OAAQC,KAAKxI,MAAM1J,QACf,IAAK,IACDiS,EAAmB,qBACnB,MAEJ,IAAK,IACDA,EAAmB,uBACnB,MAEJ,IAAK,IACDA,EAAmB,uBACnB,MAEJ,QACIA,EAAmB,qBAG3B,OAAQ,yBAAKxgB,UAAWwgB,GAAmBC,KAAKxI,MAAMyI,a,GA3BnCC,IAAMC,WCiD3BC,I,yDACL,WAAY5I,GAAQ,IAAD,8BAClB,cAAMA,IACD6I,MAAQ,CACZxhB,KAAM,KACNggB,MAAO,GACPhc,MAAO,GACPgM,QAAS,GACTC,SAAU,GACV6N,WAAY,CACXU,QAAS,GACTC,QAAS,IAEVgD,aAAc,GACdC,YAAa,CACZC,eAAgB,GAChBC,YAAa,GACbC,MAAO,IAERhW,SAAU,CACTc,SAAU,GACVC,OAAQ,GACRC,OAAQ,GACRC,WAAY,IAEb8N,eAAgB,GAChBtS,kBAAmB,GACnBgY,MAAO,IAGR,EAAK/X,gBAAkB,EAAKA,gBAAgBuZ,KAArB,gBACvB,EAAKzZ,YAAc,EAAKA,YAAYyZ,KAAjB,gBACnB,EAAKC,mBAAqB,EAAKA,mBAAmBD,KAAxB,gBAC1B,EAAKE,SAAW,EAAKA,SAASF,KAAd,gBAChB,EAAKG,SAAW,EAAKA,SAASH,KAAd,gBAChB,EAAKI,OAAS,EAAKA,OAAOJ,KAAZ,gBAlCI,E,gEAsClBX,KAAKa,SAAS,CAAEhiB,KAAMiG,KAAKkc,MAAMC,eAAeC,QAAQ,WACxDlB,KAAK9Y,gB,oCAGS,IAAD,O7B/EPxC,MAbiD,QAajCO,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BgF7BF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEhe,MAAOsC,O7B6J3CT,MAAMC,cAAqBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6B5JxCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEhC,MAAO1Z,O7BgK3CT,MAAMC,cAAqBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6B/JpCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAE1B,MAAOha,O7BpE/CT,MAAMC,gBAAuBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BqExCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEhS,QAAS1J,O7BjE/CT,MAAMC,iBAAwBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BkExCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAE/R,SAAU3J,O7B2HjDT,MAAMC,0BAAiCM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6B1HxCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAElE,WAAW,2BAAM,EAAK0D,MAAM1D,YAAlB,IAA8BU,QAASlY,S7B8HjGT,MAAMC,0BAAiCM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6B7HxCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAElE,WAAW,2BAAM,EAAK0D,MAAM1D,YAAlB,IAA8BW,QAASnY,S7ByNjGT,MAAMC,cAAqBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BxNrCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEnW,SAAUvF,O7BYjDT,MAAMC,uBAA8BM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BXxCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEpH,eAAgBtU,O7B2N7DT,MAAMC,kBAAyBM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6B1NjCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAE1Z,kBAAmBhC,O7BwBlET,MAAMC,sBAA6BM,MAAK,SAACC,GAAD,OAASA,EAAIC,U6BvBxCF,MAAK,SAACE,GAAD,OAAU,EAAK0b,SAAS,CAAEnH,cAAevU,S,+BAGzDV,GACRub,KAAKa,SAAS,CAAEN,YAAY,2BAAMP,KAAKK,MAAME,aAAlB,IAA+BG,MAAOjc,Q,uLAGzCY,E,+BAAS,QAASC,E,+BAAU,Q,SAC9CuM,QAAQC,IAAI,CACjB1M,EAAkBC,EAAQC,GAASL,MAAK,SAACE,GACxC,EAAK0b,SAAS,CACbN,YAAY,2BACR,EAAKF,MAAME,aADJ,IAEVC,eAAgBrb,EAAKqb,eACrBC,YAAatb,EAAKsb,mBAIrBpa,IAAWpB,MAAK,SAACE,GAAD,OACf,EAAK0b,SAAS,CACbN,YAAY,2BAAM,EAAKF,MAAME,aAAlB,IAA+BG,MAAOvb,W,iCAI7C,G,uIAGQ8a,GACfD,KAAKa,SAAS,CAAEP,aAAcL,M,6BAGxBphB,GAAO,IAAD,Q7BpIP,SAAeA,GACrB,OAAO6F,MAAM,GAAD,OAH4C,OAG5C,UAAsB,CACjCE,OAAQ,OACRC,KAAMC,KAAKC,UAAUlG,GACrBmG,QAAS,CACR,eAAgB,sBAEfC,MAAK,SAACC,GAAD,OAASA,EAAIC,W6B8HpBrG,CAAMD,GAAMoG,MAAK,SAACkc,GACbA,GACHF,eAAeG,QAAQ,OAAQtc,KAAKC,UAAUoc,IAE/C,EAAKN,SAAS,CAAEhiB,KAAMsiB,S,+BAId,IAAD,EACgInB,KAAKK,MAArIxd,EADA,EACAA,MAAOgM,EADP,EACOA,QAASC,EADhB,EACgBA,SAAUwR,EAD1B,EAC0BA,aAAc7G,EADxC,EACwCA,eAAgBkD,EADxD,EACwDA,WAAY9d,EADpE,EACoEA,KAAM6L,EAD1E,EAC0EA,SAAUvD,EADpF,EACoFA,kBAAmBgY,EADvG,EACuGA,MAAOzF,EAD9G,EAC8GA,cACtH,OAAK7a,EAEJ,kBAAC,IAAD,KACEyhB,EAAa3f,OAAS,GACtB,kBAAC,GAAD,CAAcsf,QAASK,EAAae,UAAU,EAAGf,EAAa3f,QAASmN,OAAQwS,EAAa,GAAIlZ,gBAAiB4Y,KAAK5Y,kBAEvH,yBAAK7H,UAAU,UACd,kBAAC,GAAD,CAAYsP,QAASA,EAASC,SAAUA,EAAU1M,SAAUvD,EAAKuD,SAASkf,UAE3E,8BACC,kBAAC,IAAD,KAEEziB,EAAKuD,SAASkf,OAAOlW,SACrB,kBAAC,IAAD,CAAOmW,OAAK,EAACC,KAAK,YACjB,kBAAC,GAAD,CACC/H,eAAgBA,EAChBC,cAAeA,EACftX,SAAUvD,EAAKuD,SAASqf,aACxBra,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,eAKpBrI,EAAKuD,SAASkf,OAAOlW,SAAWvM,EAAKuD,SAASqf,aAAazH,kBAC3D,kBAAC,IAAD,CAAOuH,OAAK,EAACC,KAAK,6BACjB,kBAAC,GAAD,CACC/H,eAAgBA,EAChB/O,SAAUA,EACVvD,kBAAmBA,EACnBC,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASqf,gBAK1B5iB,EAAKuD,SAASkf,OAAOlW,SAAWvM,EAAKuD,SAASqf,aAAalH,wBAC3D,kBAAC,IAAD,CAAOgH,OAAK,EAACC,KAAK,mCACjB,kBAAC,GAAD,CACC9H,cAAeA,EACfhP,SAAUA,EACVvD,kBAAmBA,EACnBtE,MAAOA,EACPuE,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASqf,gBAK1B5iB,EAAKuD,SAASkf,OAAOlW,SAAWvM,EAAKuD,SAASqf,aAAanH,oBAC3D,kBAAC,IAAD,CAAOiH,OAAK,EAACC,KAAK,kCACjB,kBAAC,GAAD,CACC9W,SAAUA,EACVvD,kBAAmBA,EACnBtE,MAAOA,EACPuE,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASqf,gBAM1B5iB,EAAKuD,SAASkf,OAAO3E,YACrB,kBAAC,IAAD,CAAO4E,OAAK,EAACC,KAAK,eACjB,kBAAC,GAAD,CACC7E,WAAYA,EACZva,SAAUvD,EAAKuD,SAASsf,gBACxBta,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,eAKpBrI,EAAKuD,SAASkf,OAAO3E,YAAc9d,EAAKuD,SAASsf,gBAAgB5E,4BACjE,kBAAC,IAAD,CAAOyE,OAAK,EAACC,KAAK,8BACjB,kBAAC,GAAD,CACC7E,WAAYA,EACZ9Z,MAAOA,EACPob,OAAQ+B,KAAK5Y,gBACbyH,QAASA,EACTC,SAAUA,EACVpE,SAAUA,EACVvD,kBAAmBA,EACnBD,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASsf,gBACxBrhB,KAAK,WAKPxB,EAAKuD,SAASkf,OAAO3E,YAAc9d,EAAKuD,SAASsf,gBAAgBxE,4BACjE,kBAAC,IAAD,CAAOqE,OAAK,EAACC,KAAK,+BACjB,kBAAC,GAAD,CACC7E,WAAYA,EACZ9Z,MAAOA,EACPob,OAAQ+B,KAAK5Y,gBACbyH,QAASA,EACTC,SAAUA,EACVpE,SAAUA,EACVvD,kBAAmBA,EACnBD,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASsf,gBACxBrhB,KAAK,YAKPxB,EAAKuD,SAASkf,OAAO3E,YAAc9d,EAAKuD,SAASsf,gBAAgB9E,wBACjE,kBAAC,IAAD,CAAO2E,OAAK,EAACC,KAAK,yBACjB,kBAAC,GAAD,CACC7E,WAAYA,EACZ9Z,MAAOA,EACPob,OAAQ+B,KAAK5Y,gBACbyH,QAASA,EACTC,SAAUA,EACV3H,kBAAmBA,EACnBuD,SAAUA,EACVxD,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASsf,gBACxBrhB,KAAK,WAKPxB,EAAKuD,SAASkf,OAAO3E,YAAc9d,EAAKuD,SAASsf,gBAAgBzE,wBACjE,kBAAC,IAAD,CAAOsE,OAAK,EAACC,KAAK,0BACjB,kBAAC,GAAD,CACC7E,WAAYA,EACZ9Z,MAAOA,EACPob,OAAQ+B,KAAK5Y,gBACbyH,QAASA,EACTC,SAAUA,EACV3H,kBAAmBA,EACnBuD,SAAUA,EACVxD,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASsf,gBACxBrhB,KAAK,YAMPxB,EAAKuD,SAASkf,OAAOK,eACrB,kBAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,aACjB,kBAAC,GAAD,CACC3S,QAASA,EACTC,SAAUA,EACV1H,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASwf,sBAK1B/iB,EAAKuD,SAASkf,OAAOK,eAAiB9iB,EAAKuD,SAASwf,mBAAmB/T,kBACvE,kBAAC,IAAD,CAAO0T,OAAK,EAACC,KAAK,gBACjB,kBAAC,GAAD,CACC3S,QAASA,EACTzH,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASwf,sBAK1B/iB,EAAKuD,SAASkf,OAAOK,eAAiB9iB,EAAKuD,SAASwf,mBAAmB1T,sBACvE,kBAAC,IAAD,CAAOqT,OAAK,EAACC,KAAK,qBACjB,kBAAC,GAAD,CACC3S,QAASA,EACTzH,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASwf,sBAK1B/iB,EAAKuD,SAASkf,OAAOK,eAAiB9iB,EAAKuD,SAASwf,mBAAmB7T,gBACvE,kBAAC,IAAD,CAAOwT,OAAK,EAACC,KAAK,iBACjB,kBAAC,GAAD,CACC1S,SAAUA,EACV1H,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASwf,sBAK1B/iB,EAAKuD,SAASkf,OAAOK,eAAiB9iB,EAAKuD,SAASwf,mBAAmBpT,oBACvE,kBAAC,IAAD,CAAO+S,OAAK,EAACC,KAAK,sBACjB,kBAAC,GAAD,CACC1S,SAAUA,EACV1H,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASwf,sBAM1B/iB,EAAKuD,SAASkf,OAAOO,YACrB,kBAAC,IAAD,CAAON,OAAK,EAACC,KAAK,YACjB,kBAAC,GAAD,CAAUpf,SAAUvD,EAAKuD,SAAS0f,mBAKnCjjB,EAAKuD,SAASkf,OAAOS,SACrB,kBAAC,IAAD,CAAOR,OAAK,EAACC,KAAK,YACjB,kBAAC,GAAD,CAASpa,gBAAiB4Y,KAAK5Y,gBAAiBhF,SAAUvD,EAAKuD,SAAS4f,gBAKzEnjB,EAAKuD,SAASkf,OAAOW,UACrB,kBAAC,IAAD,CAAOV,OAAK,EAACC,KAAK,UACjB,kBAAC,GAAD,CACC3C,MAAOmB,KAAKK,MAAMxB,MAClBhgB,KAAMmhB,KAAKK,MAAMxhB,KACjBuD,SAAUvD,EAAKuD,SAAS8f,cACxB9a,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,eAKpBrI,EAAKuD,SAASkf,OAAOW,UAAYpjB,EAAKuD,SAAS8f,cAAclD,eAC7D,kBAAC,IAAD,CAAOuC,OAAK,EAACC,KAAK,cACjB,kBAAC,GAAD,CACCta,YAAa8Y,KAAK9Y,YAClB2X,MAAOmB,KAAKK,MAAMxB,MAClBzc,SAAUvD,EAAKuD,SAAS8f,cACxB/C,MAAOA,EACP/X,gBAAiB4Y,KAAK5Y,mBAKxBvI,EAAKuD,SAASkf,OAAOW,UACrB,kBAAC,IAAD,CAAOV,OAAK,EAACC,KAAI,sBAAiBxB,KAAKK,MAAMxhB,KAAK0D,MACjD,kBAAC,GAAD,CACC2E,YAAa8Y,KAAK9Y,YAClBrI,KAAMmhB,KAAKK,MAAMxhB,KACjBsgB,MAAOA,EACP/X,gBAAiB4Y,KAAK5Y,gBACtBhF,SAAUvD,EAAKuD,SAAS8f,iBAK1BrjB,EAAKuD,SAASkf,OAAOW,UAAYpjB,EAAKuD,SAAS8f,cAAcxD,mBAC7D,kBAAC,IAAD,CAAO6C,OAAK,EAACC,KAAK,mBACjB,kBAAC,GAAD,CACCta,YAAa8Y,KAAK9Y,YAClB2X,MAAOmB,KAAKK,MAAMxB,MAClBzc,SAAUvD,EAAKuD,SAAS8f,cACxB/C,MAAOA,EACP/X,gBAAiB4Y,KAAK5Y,mBAOxBvI,EAAKuD,SAASkf,OAAOa,aAAetjB,EAAKuD,SAASggB,SAAShe,WAC3D,kBAAC,IAAD,CAAOmd,OAAK,EAACC,KAAK,QACjB,kBAAC,EAAD,CAAW3e,MAAOA,EAAOuE,gBAAiB4Y,KAAK5Y,gBAAiBF,YAAa8Y,KAAK9Y,YAAa9E,SAAUvD,EAAKuD,SAASggB,YAIxHvjB,EAAKuD,SAASkf,OAAOa,aAAetjB,EAAKuD,SAASggB,SAAS/f,eAC3D,kBAAC,IAAD,CAAOkf,OAAK,EAACC,KAAK,aACjB,kBAAC,EAAD,CACC3e,MAAOA,EACPuE,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClBC,kBAAmBA,EACnB/E,SAAUvD,EAAKuD,SAASggB,YAK1BvjB,EAAKuD,SAASkf,OAAOa,aAAetjB,EAAKuD,SAASggB,SAASra,aAC3D,kBAAC,IAAD,CAAOwZ,OAAK,EAACC,KAAK,uBACjB,kBAAC,GAAD,CACC3e,MAAOA,EACPgM,QAASA,EACTC,SAAUA,EACVpE,SAAUA,EACVvD,kBAAmBA,EACnBC,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASggB,YAK1BvjB,EAAKuD,SAASkf,OAAOa,aAAetjB,EAAKuD,SAASggB,SAAS9Z,kBAC3D,kBAAC,IAAD,CAAOiZ,OAAK,EAACC,KAAK,+BACjB,kBAAC,GAAD,CACC3e,MAAOA,EACPgM,QAASA,EACTC,SAAUA,EACVpE,SAAUA,EACVvD,kBAAmBA,EACnBC,gBAAiB4Y,KAAK5Y,gBACtBF,YAAa8Y,KAAK9Y,YAClB9E,SAAUvD,EAAKuD,SAASggB,YAK1BvjB,EAAKuD,SAASkf,OAAOa,aACrB,kBAAC,IAAD,CAAOX,KAAK,KACX,kBAAC,EAAD,CAAO3e,MAAOA,EAAOT,SAAUvD,EAAKuD,SAASggB,aAIhD,yBAAKhjB,MAAO,CAAEK,UAAW,QAhUV,kBAAC,EAAD,CAAOZ,KAAMA,EAAMC,MAAOkhB,KAAKe,a,GAhGjCb,IAAMC,YAualBkC,GAAa,SAAC,GAAqC,IAAnCxT,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,SAAU1M,EAAe,EAAfA,SAClCD,EAAU2B,cACVwe,EAAWC,cAFsC,EAGjBxjB,mBAAS,GAHQ,mBAGhDyjB,EAHgD,KAGnCC,EAHmC,OAInB1jB,oBAAS,GAJU,mBAIhD2jB,EAJgD,KAIpCC,EAJoC,KAsDvD,OAhDApb,qBAAU,WACLsH,EAAQlO,OAAS,GAAKmO,EAASnO,OAAS,EAE1CkO,EAAQ4M,MAAK,SAAC1b,GAKb,OAJeA,EAAEoO,SAASsN,MAAK,SAACmH,GAE/B,OAD+B,IAAfA,EAAGlT,eAKrBZ,EAAS2M,MAAK,SAAC1b,GAQd,OAPeA,EAAE0O,YAAYgN,MAAK,SAACmH,GAKlC,OAJgBA,EAAGzU,SAASsN,MAAK,SAACoH,GAEjC,OAD+B,IAAfA,EAAGnT,iBAQtBiT,GAAc,GAEdA,GAAc,GAGfA,GAAc,KAEb,CAAC9T,EAASC,IAEbvH,qBAAU,WACL+a,EAASQ,SAAS5H,SAAS,YAC9B9Y,EAASgJ,SAAWqX,EAAe,GACzBH,EAASQ,SAAS5H,SAAS,eACrC9Y,EAASua,YAAc8F,EAAe,GAC5BH,EAASQ,SAAS5H,SAAS,aACrC9Y,EAASuf,eAAiBc,EAAe,GAC/BH,EAASQ,SAAS5H,SAAS,YACrC9Y,EAASyf,YAAcY,EAAe,GAC5BH,EAASQ,SAAS5H,SAAS,YACrC9Y,EAAS2f,SAAWU,EAAe,GACzBH,EAASQ,SAAS5H,SAAS,UACrC9Y,EAAS6f,UAAYQ,EAAe,GAEpCrgB,EAAS+f,aAAeM,EAAe,KAEtC,CAACrgB,EAAUkgB,EAASQ,WAGtB,wBAAIvjB,UAAU,cACb,yBAAKG,IAAKqjB,KAAUxjB,UAAU,WAAWK,IAAI,cAC5CwC,EAAS+f,aACT,wBACC5iB,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,MAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,mBAcApgB,EAASgJ,SACT,wBACC7L,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,aAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,WAcApgB,EAASua,YACT,wBACCpd,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,gBAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,iBAcApgB,EAASuf,eACT,wBACCpiB,UAAWmjB,EAAa,cAAgB,uBACxC9hB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,cAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,iBAcApgB,EAASyf,YACT,wBACCtiB,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,aAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,iBAcApgB,EAAS2f,SACT,wBACCxiB,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,aAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,WAcApgB,EAAS6f,UACT,wBACC1iB,UAAU,cACVqB,QAAS,WACR6hB,EAAe,GACftgB,EAAQG,KAAK,WAEdlD,MAAO,CACN4jB,QAAyB,IAAhBR,EAAoB,EAAI,GACjCS,WAA4B,IAAhBT,EAAoB,OAAS,WAR3C,YAcD,wBACCjjB,UAAU,cACVqB,QAAS,WACRqgB,eAAeiC,QACfvd,OAAO2c,SAASa,SAChBhhB,EAAQG,KAAK,OALf,YAcY8d,MC9nBKgD,QACW,cAA7Bzd,OAAO2c,SAASe,UAEe,UAA7B1d,OAAO2c,SAASe,UAEhB1d,OAAO2c,SAASe,SAASxc,MACvB,2DCZNyc,IAASC,OAAO,kBAAC,GAAD,MAASxd,SAASyd,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1e,MAAK,SAAA2e,GACjCA,EAAaC,iB,iBErInBnlB,EAAOC,QAAU,0kM,iBCAjBD,EAAOC,QAAU,uuG","file":"static/js/main.2de999f9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/robot.4f0f8dcf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/loading.a902167c.gif\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABYCAMAAABWB0yfAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAP1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////9KjZoYAAAAFHRSTlMAkOU+owr78RIDHnLbvzDPYk2ugyhHpsUAAAZbSURBVGgF7VrZsoMoEMVdjNEY/f9vHVCWXoBAbuZhpvRW3aAROJxe6G4ixH3dDNwM3AzcDNwM/JcYkB25PHjyRee/Aa2z/9iN6pqmcdKf6k79dRK89YPm9n6i6zHaQeULf/XgSGU3vfb2uaprVld9/s36dl3fy0+Rdu/hQNfLw6nwV2+3BLuUrqnqHvX2N/3OXrfdvvrcMJjjOflhCNCWzCynPQrz6N9gID/k163ujRnpAaEiDVQ2T88fa83NTwUvthpPAQlNA5XNiteIBhrggr+m0XfsWix5RSggohoQFCz6ZkXI8E1fxQUPJvBAPrRkkyI0yej0RIvAOI/nEp1ZLlM5VEk09HiNcBDGqP9SEv3FQOvNv0kRT+8v3AEldMWuj4ABomeiQEB774spTNHtwztON3v9esBoIWutsGK0nu6uTQheeaYooXKbj7rUIchlxkTMmNCEjlJRoHHWxu8ZlKJFq3aCcPr+ef+JUA7UEUWUAuEcXmRjAJN3p9qXyp4QelBCOVA75ZRwTSnPJB6nDEtlv2M3eexeBy9EUavfSE/NaD8MtQ5MVCziiLcLs59mj0gZm30VfC5kZ2GERhmVO94mFMp+bR/NMukrrqCTDYCK4gA22842E2b1Zpkddfb9+lA8XheggjTlbr1ISSAgJ0xoH1AcYjLOj07YWxzHM2HnDq32TOZCoY97IdJ4EPFVVEMFF71RPuqc5i0ubj/76ZkM0jbuaX2HqyVJ3FQHSIkx+iJrJPsEneq6H8FofYnsSeAUIFQxivYftzMRoEMOofJhFVSTWiR7pKQhQrnoDVdEa+YmzCF8SqLXvmWWC9/GbfkCawwRKpjVGx39AqgKDpB0uC/E4NDd6KPmIKH5jEY9vJuPKFqZ7MUy21WGJQHUXyuW01HCaJ0heoFUVA9WIHvhFLwOmwMDaggiQLNMeMHhQb8WBaWj2dMiy2NWHwPqJBxvUNkXZn/NuVnE/Esmo4E9jQN20tNKpK9E+sd7i2v7jcUIP7R6IWjWWiZ7Man0LkZortVnMSpo7Sg6a4BP/UhFCtEUh4n+ez+qZqJ2/0H2NKqV1RwtajCgZrHE6vMYlZc9XAqq/ydyfz3PRBI4sTx42GQAMauPMfrZ4asRR1JE+CD7nVkOLOIYhA6oX79quXj0K0aN4YIRk0HXtBY4sEyrz9qZ1Np94HyhTcpekbFm5/+ZOpq1MwkhqeyThR+d7TgRYkHzu0yguYzyLC1qHVKHvH228DOBZjIqQNJ0yT5eiJiuGnFSOQCxmVafy6igpcq47G0OkbQ3jzSP0VD+6seALVpDip5HjE+TlYXjZDjm2c60+lzRC/FyCXNa9j73YM6UgdQP8hgtKCMy2YcdEDgBwbX6IMoQ0PDOlK2jQhXzgMNXdh0uQG4gmctKrsiwzq2RnSlf9MLL1Mg+lJCgOCtZHLQMZ1t9Yq+XnT4itS8s5GgquEZciImkSRbj+ZnHaNLq1VmpOlCtGlPbpQlJSPb0nQx7YlZvlkFEnwjz5NLWfd8Ps61Ck6A0UIigBftjCBwWIz5zrT7FqC0d9LaORpNRLnvqbA9eCScwA0CLrX6zlQNLnUVujZ8X/Gl8rSNsq+IMoXnwZx0F7MwmjyeyZ4UI6sGOPNHbSspJQHmlRPqikZUxLcjToDNAaMiFYW7/zKhwxfDDZsfISar1kwJkgNBoSufBMqsv11FbyPF+Oy17SvhhldujCrT+zuho1jq40zxVKLWGdH2i81cWWx/xUBAAZkCLGZVTtQ7qAOq5udM8mpCgMJ4RelSuIwBGmwyoeQE7/JQfFXLaqlYdQfnTiFQRSuKRFeUz6Enh+Xu21weBqjDPd2Et9bMo9Tso6AipXa+LWwUjNBpa43l+wCge8LzT5S54AZ9PDU35CrjEwGDXo79bfXBo77MuvJVFY1I6v4r+8zZ/zvDvMMoLEa+LNpUjY64/laccDQxosdW7oWCDJiSDyTVHesSKHAIcgbYZUPMCts2k1dMh9b0/vDVCNvl9MytPBq+MSPQaf69ht8GnIvi53cZDoILPNu1bwbVeP+ppWnKFj0D4kHJr37Cr3XQlGdEZAx8i+ET9pg8O27bVBfT8aef5s07zL8vi9RS0p5029tx+/+lTQjS6jfzsp97ffp+97G8nuPvdDNwM3AzcDNwM3Az8Pxj4B0dwHY59HKOUAAAAAElFTkSuQmCC\"","import React, { useState } from 'react';\r\nimport Logo_Xira_Color from './assets/Logo_Xira-2.png';\r\nimport logo from './assets/LogoCliente.png';\r\n\r\n/* Roles\r\n1.- Admin\r\n2.- Reportería y Monitoreo\r\n*/\r\nconst Login = ({ user, login }) => {\r\n\tconst [username, setUsername] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '120px auto' }}>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<div style={{ textAlign: 'center', marginTop: '-20px' }}>\r\n\t\t\t\t\t<img src={Logo_Xira_Color} alt='Logo_Xira_Color' className='Logo_Xira_Color' />\r\n\t\t\t\t\t<img src={logo} className='LoginComponent-image' alt='Logo_Izzi' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3 className='LoginComponent-header'>PLATAFORMA DE CHATBOTS</h3>\r\n\t\t\t\t\t<hr className='LoginComponent-header-line' />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='LoginComponent-middle-container'>\r\n\t\t\t\t\t<div className='LoginComponent-fields-container'>\r\n\t\t\t\t\t\t<b>Usuario</b>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t\t\tonKeyPress={(e) => (e.keyCode || e.which) === 13 && login({ username: username, password: password })}\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<b>Contraseña</b>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\tonKeyPress={(e) => (e.keyCode || e.which) === 13 && login({ username: username, password: password })}\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='LoginComponent-buttons' align='right'>\r\n\t\t\t\t\t{user === false && (\r\n\t\t\t\t\t\t<div style={{ display: 'inline', color: 'red', marginRight: 20 }}>Usuario o Contraseña incorrectos</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={username.length === 0 || password.length === 0}\r\n\t\t\t\t\t\tonClick={() => login({ username: username, password: password })}\r\n\t\t\t\t\t\tclassName='form-button primary-button'>\r\n\t\t\t\t\t\tIniciar Sesión\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Graph from \"react-graph-vis\";\r\nimport LogoCliente from \"./assets/LogoCliente.png\";\r\n\r\nconst options = {\r\n  layout: {\r\n    hierarchical: {\r\n      enabled: false,\r\n      levelSeparation: 300,\r\n      nodeSpacing: 2000,\r\n      treeSpacing: 3000,\r\n      blockShifting: false,\r\n      edgeMinimization: false,\r\n      parentCentralization: false,\r\n      direction: \"RL\", // UD, DU, LR, RL\r\n      sortMethod: \"directed\", // hubsize, directed\r\n    },\r\n  },\r\n  edges: {\r\n    color: \"#000000\",\r\n    length: 200,\r\n  },\r\n  nodes: {\r\n    shape: \"box\",\r\n    scaling: {\r\n      min: 10,\r\n      max: 20,\r\n      label: {\r\n        min: 10,\r\n        max: 20,\r\n      },\r\n    },\r\n    physics: true,\r\n  },\r\n};\r\nconst Nodos = ({ nodos, permisos }) => {\r\n  const [graphMode, setMode] = useState(true);\r\n  const graph = {\r\n    nodes: nodos.map((nodo, index) => {\r\n      return {\r\n        id: nodo.nodo,\r\n        label: nodo.nombre,\r\n        color: getColor(nodo),\r\n        value: 20,\r\n      };\r\n    }),\r\n    edges: nodos.flatMap((nodo) => {\r\n      return nodo.aristas.map((arista) => {\r\n        return {\r\n          from: nodo.nodo,\r\n          to: arista.nodoDestino,\r\n        };\r\n      });\r\n    }),\r\n  };\r\n\r\n  const events = {\r\n    doubleClick: function (event) {\r\n      var { nodes } = event;\r\n      const nodo = nodos.find((x) => x.nodo === nodes[0]);\r\n      if (nodo) permisos.modificarNodo && history.push(\"/edit/\" + nodo._id);\r\n    },\r\n  };\r\n\r\n  const history = useHistory();\r\n  return (\r\n    <>\r\n      <h1 style={{ textAlign: \"center\" }}>\r\n        Nodos\r\n        <label className=\"switch\" style={{ marginLeft: 20 }}>\r\n          <input type=\"checkbox\" onClick={() => setMode(!graphMode)} />\r\n          <span className=\"slider\"></span>\r\n        </label>\r\n        {nodos.filter((x) => x.nodoInicial).length > 1 && (\r\n          <p style={{ color: \"red\" }}>Hay mas de un nodo inicial!</p>\r\n        )}\r\n      </h1>\r\n      {graphMode ? (\r\n        <Graph\r\n          graph={graph}\r\n          options={options}\r\n          events={events}\r\n          style={{ height: \"70vh\" }}\r\n        />\r\n      ) : (\r\n        <table className=\"nodos-table\">\r\n          <thead>\r\n            <tr>\r\n              <td>Número del nodo</td>\r\n              <td>Nombre del nodo</td>\r\n              <td>Número de aristas</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {nodos.map((nodo) => (\r\n              <Nodo\r\n                key={nodo._id}\r\n                nodo={nodo}\r\n                history={history}\r\n                permisos={permisos}\r\n              />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n      {permisos.crearNodo && (\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Link to=\"/new\">\r\n            <button className=\"floatingButton\">+</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n\r\n      {graphMode && (\r\n        <div className=\"floating-legends\">\r\n          <span\r\n            style={{ padding: \"1px 5px 0 5px\", backgroundColor: \"#DEC90B\" }}\r\n          />\r\n          <small>Nodo inical</small>\r\n          <br />\r\n          <span\r\n            style={{ padding: \"1px 5px 0 5px\", backgroundColor: \"#D19100\" }}\r\n          />\r\n          <small>Nodo final</small>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      )}\r\n      <div>\r\n        <img src={LogoCliente} alt=\"LogoCliente\" className=\"LogoCliente\" />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Nodo = ({ nodo, history, permisos }) => {\r\n  return (\r\n    <tr\r\n      className={\"nodo\"}\r\n      onClick={() =>\r\n        permisos.modificarNodo && history.push(\"/edit/\" + nodo._id)\r\n      }\r\n      style={{ backgroundColor: getColor(nodo) }}\r\n    >\r\n      <td>{nodo.nodo}</td>\r\n      <td>{nodo.nombre}</td>\r\n      <td>{nodo.aristas.length}</td>\r\n    </tr>\r\n  );\r\n};\r\nexport default Nodos;\r\n\r\nfunction getColor(nodo) {\r\n  if (nodo.nodoInicial) {\r\n    return \"#DEC90B\";\r\n  } else if (nodo.nodoFinal) {\r\n    return \"#D19100\";\r\n  } else {\r\n    return \"#cccccc\";\r\n  }\r\n}\r\n","import { backendPort } from '../config';\r\n\r\nconst base_url = process.env.NODE_ENV === 'production' ? '/api' : ' http://localhost:' + backendPort + '/api';\r\n\r\nexport function login(user) {\r\n\treturn fetch(`${base_url}/login`, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(user),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getNodos() {\r\n\treturn fetch(base_url).then((res) => res.json());\r\n}\r\n\r\nexport function postNodo(data) {\r\n\treturn fetch(base_url + '/create', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getIntents() {\r\n\treturn fetch(base_url + '/intents').then((res) => res.json());\r\n}\r\n\r\nexport function getEntities() {\r\n\treturn fetch(base_url + '/entities').then((res) => res.json());\r\n}\r\n\r\nexport function postIntent(data) {\r\n\treturn fetch(base_url + '/intents/create', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function postEntity(data) {\r\n\treturn fetch(base_url + '/entities/create', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function putArista(id, data) {\r\n\treturn fetch(base_url + '/edit/' + id, {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\nexport function putIntent(id, data) {\r\n\treturn fetch(base_url + '/intents/edit/' + id, {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function putEntity(id, data) {\r\n\treturn fetch(base_url + '/entities/edit/' + id, {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function deleteIntent(id) {\r\n\treturn fetch(base_url + '/intents', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify({ _id: id }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function deleteEntity(id) {\r\n\treturn fetch(base_url + '/entities', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify({ _id: id }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function trainModel() {\r\n\treturn fetch(base_url + '/train').then((res) => res.json());\r\n}\r\n\r\nexport function changeTelegramWebHook(newUrl) {\r\n\treturn fetch(base_url + '/telegram_bot?url=' + newUrl).then((res) => res.json());\r\n}\r\n\r\nexport function getScriptsNoFlujo() {\r\n\treturn fetch(base_url + '/scriptsNoFlujo').then((res) => res.json());\r\n}\r\n\r\nexport function putScriptNoFlujo(data) {\r\n\treturn fetch(base_url + '/scriptsNoFlujo', {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getRecordatorios() {\r\n\treturn fetch(base_url + '/recordatorios').then((res) => res.json());\r\n}\r\n\r\nexport function deleteRecordatorio(id) {\r\n\treturn fetch(base_url + '/recordatorios', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify({ _id: id }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function putRecordatorio(id, data) {\r\n\treturn fetch(base_url + '/recordatorios', {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify({ _id: id, recordatorio: data }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function postRecordatorio(data) {\r\n\treturn fetch(base_url + '/recordatorios', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ recordatorio: data }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function putGramaticaFuerte(data) {\r\n\treturn fetch(base_url + '/gramaticasFuertes', {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function postGramaticaFuerte(data) {\r\n\treturn fetch(base_url + '/gramaticasFuertes', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function deleteGramaticaFuerte(id) {\r\n\treturn fetch(base_url + '/gramaticasFuertes', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify({ id: id }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function putGramaticaDebil(data) {\r\n\treturn fetch(base_url + '/gramaticasDebiles', {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function postGramaticaDebil(data) {\r\n\treturn fetch(base_url + '/gramaticasDebiles', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function deleteGramaticaDebil(id) {\r\n\treturn fetch(base_url + '/gramaticasDebiles', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify({ id: id }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getGramaticasFuertes() {\r\n\treturn fetch(base_url + '/gramaticasFuertes').then((res) => res.json());\r\n}\r\n\r\nexport function getGramaticasDebiles() {\r\n\treturn fetch(base_url + '/gramaticasDebiles').then((res) => res.json());\r\n}\r\n\r\nexport function getConversaciones(fbPage, channel) {\r\n\treturn fetch(base_url + '/conversaciones?filter=' + fbPage + '|' + channel).then((res) => res.json());\r\n}\r\n\r\nexport function getPM2Processes() {\r\n\treturn fetch(base_url + '/pm2_processes').then((res) => res.json());\r\n}\r\n\r\nexport function downloadPM2Logs(log_path, filename) {\r\n\treturn fetch(base_url + '/download_logs?path=' + log_path)\r\n\t\t.then((res) => res.blob())\r\n\t\t.then((blob) => downloadFile(blob, filename));\r\n}\r\n\r\nexport function restartPM2Process(process_name) {\r\n\treturn fetch(base_url + '/restart_process?process=' + process_name).then((res) => res.json());\r\n}\r\n\r\nexport function stopPM2Process(process_name) {\r\n\treturn fetch(base_url + '/stop_process?process=' + process_name).then((res) => res.json());\r\n}\r\n\r\nexport function getUsers() {\r\n\treturn fetch(base_url + '/users').then((res) => res.json());\r\n}\r\n\r\nexport function getUserRoles() {\r\n\treturn fetch(base_url + '/roles').then((res) => res.json());\r\n}\r\n\r\nexport function postUser(data) {\r\n\treturn fetch(base_url + '/sign_up', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function editUser(data) {\r\n\treturn fetch(base_url + '/users', {\r\n\t\tmethod: 'PUT',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function deleteUser(data) {\r\n\treturn fetch(base_url + '/users', {\r\n\t\tmethod: 'DELETE',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function create_new_intents(nuevaArista, intents) {\r\n\tif (!nuevaArista.condiciones.length) return;\r\n\tconst intents_in_db = intents.map((intent) => intent.intent);\r\n\tconst intents_in_arista = nuevaArista.condiciones.filter((cond) => cond.nombreIE === 'intent').map((cond) => cond.valor);\r\n\tconst new_intents = intents_in_arista.filter((a) => !intents_in_db.includes(a));\r\n\treturn fetch(base_url + '/intents/create_multiple', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(new_intents),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function create_new_entities(nuevaArista, entities) {\r\n\tif (!nuevaArista.condiciones.length) return;\r\n\tconst entities_in_db = entities.map((entity) => entity.entity);\r\n\tconst entities_in_arista = nuevaArista.condiciones.filter((cond) => cond.nombreIE !== undefined && cond.nombreIE !== 'intent').map((cond) => cond.nombreIE);\r\n\tconst new_entities = entities_in_arista.filter((a) => !entities_in_db.includes(a));\r\n\treturn fetch(base_url + '/entities/create_multiple', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(new_entities),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getArchivos() {\r\n\treturn fetch(base_url + '/files').then((res) => res.json());\r\n}\r\n\r\nexport function getChatbotFunctions() {\r\n\treturn fetch(base_url + '/functions').then((res) => res.json());\r\n}\r\n\r\nfunction download(dataurl, filename) {\r\n\tconst url = window.URL.createObjectURL(dataurl);\r\n\tconst a = document.createElement('a');\r\n\ta.href = url;\r\n\ta.download = filename;\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\ta.remove();\r\n}\r\n\r\nfunction downloadFile(blob, filename) {\r\n\tconst url = window.URL.createObjectURL(new Blob([blob]));\r\n\tconst link = document.createElement('a');\r\n\tlink.href = url;\r\n\tlink.setAttribute('download', filename);\r\n\tdocument.body.appendChild(link);\r\n\tlink.click();\r\n\tlink.parentNode.removeChild(link);\r\n}\r\n\r\n//#region SECCION DE FUNCIONES PARA LA REPORTERIA (LEGACY)\r\n\r\nexport function getTemas(dates = '') {\r\n\tvar from = dates.split('|')[0];\r\n\tvar to = dates.split('|')[1];\r\n\tvar fbPage = dates.split('|')[2] || 'Todas';\r\n\r\n\treturn fetch(base_url + '/temas', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ from: from, to: to, fbPage: fbPage }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function downloadTemas() {\r\n\treturn fetch(base_url + '/download/temas')\r\n\t\t.then((res) => res.blob())\r\n\t\t.then((blob) => download(blob, `Temas.xlsx`));\r\n}\r\n\r\nexport function downloadConversaciones(from = '', to = '', fbPage = 'Todas') {\r\n\tlet data = { from: from, to: to, fbPage: fbPage };\r\n\r\n\treturn fetch(base_url + '/download/conversaciones', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn res.blob();\r\n\t\t})\r\n\t\t.then((blob) => {\r\n\t\t\treturn download(blob, from && to ? `conversaciones_${from}_${to}.xlsx` : `conversaciones.xlsx`);\r\n\t\t});\r\n}\r\n\r\nexport function downloadNoEntendidos(from = '', to = '', fbPage = 'Todas') {\r\n\tlet data = { from: from, to: to, fbPage: fbPage };\r\n\r\n\treturn fetch(base_url + '/download/noEntendidos', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn res.blob();\r\n\t\t})\r\n\t\t.then((blob) => {\r\n\t\t\treturn download(blob, from && to ? `noEntendidos_${from}_${to}.xlsx` : `noEntendidos.xlsx`);\r\n\t\t});\r\n}\r\n\r\nexport function getLegends() {\r\n\treturn fetch(base_url + '/legends').then((res) => res.json());\r\n}\r\n\r\nexport function getDayStats(date = '', fbPage = 'Todas', channel = 'Todos') {\r\n\treturn fetch(base_url + '/dayStats', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ date: date, fbPage: fbPage, channel: channel }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\nexport function getAllFbPages() {\r\n\treturn fetch(base_url + '/getAllFbPages').then((res) => res.json());\r\n}\r\n\r\nexport function getAllChannels() {\r\n\treturn fetch(base_url + '/getAllChannels').then((res) => res.json());\r\n}\r\n\r\n//#endregion\r\n\r\n//#region SECCION DE FUNCIONES PARA LA REPORTERIA (NEW FEATURES)\r\n\r\nexport function getAllConversationsData(startDate = new Date(), endDate = new Date()) {\r\n\tconst from = startDate.toISOString().match(/[0-9]{2,4}-[0-9]{2}-[0-9]{2}/gi)[0];\r\n\tconst to = endDate.toISOString().match(/[0-9]{2,4}-[0-9]{2}-[0-9]{2}/gi)[0];\r\n\treturn fetch(base_url + `/all/conversaciones?from=${from}&to=${to}`).then((res) => res.json());\r\n}\r\n\r\nexport function getAllNotUnderstandedMessagesStats(startDate = new Date(), endDate = new Date()) {\r\n\tconst from = startDate.toISOString().match(/[0-9]{2,4}-[0-9]{2}-[0-9]{2}/gi)[0];\r\n\tconst to = endDate.toISOString().match(/[0-9]{2,4}-[0-9]{2}-[0-9]{2}/gi)[0];\r\n\treturn fetch(base_url + `/all/noentendidos?from=${from}&to=${to}`).then((res) => res.json());\r\n}\r\n\r\nexport function getAllSubjectsStats() {\r\n\treturn fetch(base_url + `/all/temas`).then((res) => res.json());\r\n}\r\n\r\nexport function getAllSubjects() {\r\n\treturn fetch(base_url + `/all/temas/nombres`).then((res) => res.json());\r\n}\r\n\r\nexport function analyzeExpression(utterance) {\r\n\treturn fetch(`${base_url}/analyze`, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ utterance: utterance }),\r\n\t\tmode: 'cors',\r\n\t\tcache: 'no-cache',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n\r\n//#endregion\r\n\r\nexport function deleteNodo(id) {\r\n\treturn fetch(`${base_url}/delete/${id}`, {\r\n\t\tmethod: 'DELETE',\r\n\t\tmode: 'cors',\r\n\t\tcache: 'no-cache',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t}).then((res) => res.json());\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { putArista, deleteNodo } from \"../routing/routes\";\r\n\r\nconst VerNodo = ({\r\n  nodos,\r\n  refreshData,\r\n  functionesChatbot,\r\n  setNotification,\r\n  permisos,\r\n}) => {\r\n  const { id } = useParams();\r\n  const nodo = nodos.find((nodo) => nodo._id === id);\r\n\r\n  if (nodo) {\r\n    return (\r\n      <Nodo\r\n        id={id}\r\n        nodo={nodo}\r\n        nodos={nodos}\r\n        refreshData={refreshData}\r\n        setNotification={setNotification}\r\n        functionesChatbot={functionesChatbot}\r\n        permisos={permisos}\r\n      />\r\n    );\r\n  } else {\r\n    return <p>Loading...</p>;\r\n  }\r\n};\r\n\r\nfunction toggle_variable(parametro) {\r\n  if (parametro[0] === \"&\") {\r\n    parametro = parametro.slice(1, -1);\r\n  } else {\r\n    parametro = \"&\" + parametro + \"*\";\r\n  }\r\n  return parametro;\r\n}\r\n\r\nconst Nodo = ({\r\n  id,\r\n  nodo,\r\n  nodos,\r\n  refreshData,\r\n  functionesChatbot,\r\n  setNotification,\r\n  permisos,\r\n}) => {\r\n  const [nodoNuevo, nuevoNodoChanged] = useState(nodo);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    nuevoNodoChanged(nodo);\r\n  }, [nodo]);\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <div className=\"centered-flex\" style={{ backgroundColor: \"#2536462b\" }}>\r\n        {permisos.eliminarNodo && (\r\n          <DeleteNodo\r\n            id={id}\r\n            setNotification={setNotification}\r\n            refreshData={refreshData}\r\n          />\r\n        )}\r\n        <div className={\"centered-flex2\"}>\r\n          <div>\r\n            <h3>Nodo {nodo.nodo}</h3>\r\n            <p>{nodo.nombre}</p>\r\n            <div style={{ padding: \"10px 0 -0 80px\", marginBottom: \"0\" }}>\r\n              <button\r\n                className={\r\n                  \"nodo-button \" + (nodo.nodoInicial && \"nodo-button-green\")\r\n                }\r\n                onClick={() => cambiaTipoNodo(nodo, \"inicial\")}\r\n              >\r\n                Inicial\r\n              </button>\r\n              <button\r\n                className={\r\n                  \"nodo-button \" +\r\n                  (!nodo.nodoInicial && !nodo.nodoFinal && \"nodo-button-normal\")\r\n                }\r\n                onClick={() => cambiaTipoNodo(nodo, \"normal\")}\r\n              >\r\n                Normal\r\n              </button>\r\n              <button\r\n                className={\r\n                  \"nodo-button \" + (nodo.nodoFinal && \"nodo-button-red\")\r\n                }\r\n                onClick={() => cambiaTipoNodo(nodo, \"final\")}\r\n              >\r\n                Final\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginLeft: 80 }}>\r\n            <h4>Aristas</h4>\r\n            {nodo.aristas.map((arista, index) => (\r\n              <Arista\r\n                key={index}\r\n                nodos={nodos}\r\n                arista={arista}\r\n                id={nodo._id}\r\n                index={index}\r\n                history={history}\r\n                borrar={() => borrarArista(nodo, index)}\r\n                permisos={permisos}\r\n              />\r\n            ))}\r\n            {permisos.crearArista && (\r\n              <Link to={\"/new_connection/\" + nodo._id}>\r\n                <button className=\"add-button rectangle\">+</button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container-funciones\">\r\n        <FunctionNodo\r\n          nodoNuevo={nodoNuevo}\r\n          nuevoNodoChanged={nuevoNodoChanged}\r\n          functionesChatbot={functionesChatbot}\r\n        />\r\n        <SaveDelete\r\n          nodoNuevo={nodoNuevo}\r\n          nuevoNodoChanged={nuevoNodoChanged}\r\n          setNotification={setNotification}\r\n          refreshData={refreshData}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  function cambiaTipoNodo(nodo, cambio) {\r\n    if (window.confirm(\"¿Estás seguro que quieres cambiar el tipo de nodo?\")) {\r\n      if (cambio === \"inicial\") {\r\n        nodo.nodoInicial = true;\r\n        nodo.nodoFinal = false;\r\n      } else if (cambio === \"final\") {\r\n        nodo.nodoInicial = false;\r\n        nodo.nodoFinal = true;\r\n      } else {\r\n        nodo.nodoInicial = false;\r\n        nodo.nodoFinal = false;\r\n      }\r\n      const id = nodo._id;\r\n      delete nodo._id;\r\n      putArista(id, nodo).then(() => refreshData());\r\n    }\r\n  }\r\n\r\n  function borrarArista(nodo, index) {\r\n    if (\r\n      window.confirm(\"¿Estás seguro que quieres borrar esta arista? \" + index)\r\n    ) {\r\n      nodo.aristas = [\r\n        ...nodo.aristas.slice(0, index),\r\n        ...nodo.aristas.slice(index + 1),\r\n      ];\r\n      const id = nodo._id;\r\n      delete nodo._id;\r\n      putArista(id, nodo).then(() => refreshData());\r\n    }\r\n  }\r\n};\r\n\r\nconst Arista = ({ arista, id, index, history, nodos, borrar, permisos }) => {\r\n  const nombreNodoConectado = nodos.find(\r\n    (nodo) => nodo.nodo === arista.nodoDestino\r\n  ).nombre;\r\n  return (\r\n    <div style={{ minWidth: 500, margin: 10 }}>\r\n      <small>\r\n        Conexión al nodo {arista.nodoDestino} ({nombreNodoConectado})\r\n      </small>\r\n      <div style={{ display: \"inline\" }} align=\"right\">\r\n        {permisos.modificarAristas && (\r\n          <button\r\n            onClick={() => history.push(\"/edit_connection/\" + id + \"/\" + index)}\r\n            className=\"edit-button\"\r\n            align=\"right\"\r\n          >\r\n            &#9998;\r\n          </button>\r\n        )}\r\n\r\n        {permisos.eliminarArista && (\r\n          <button onClick={borrar} className=\"remove-button\">\r\n            x\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerNodo;\r\n\r\n// nuevoIntentChanged({...nuevoIntent, frases:[...nuevoIntent.frases.slice(0,index),...nuevoIntent.frases.slice(index+1)]})\r\n\r\nconst funcionDefault = { nombreFuncion: \"\", guardarEn: \"\", parametros: [] };\r\n\r\nfunction FunctionNodo({ nodoNuevo, nuevoNodoChanged, functionesChatbot }) {\r\n  return (\r\n    <div style={{ textAlign: \"left\", width: \"100%\", marginTop: \"5px\" }}>\r\n      <div>\r\n        <h3>Funciones que Ejecuta</h3>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-start\",\r\n          flexWrap: \"wrap\",\r\n        }}\r\n      >\r\n        {nodoNuevo.ejecutaFuncion &&\r\n          nodoNuevo.ejecutaFuncion.map((funcion, index) => {\r\n            return (\r\n              <div key={index} style={{ margin: \"10px\" }}>\r\n                <button\r\n                  onClick={() => {\r\n                    const temp = { ...nodoNuevo };\r\n\r\n                    if (temp.ejecutaFuncion.length === 1) {\r\n                      delete temp.ejecutaFuncion;\r\n                    } else {\r\n                      temp.ejecutaFuncion = [\r\n                        ...temp.ejecutaFuncion.slice(0, index),\r\n                        ...temp.ejecutaFuncion.slice(index + 1),\r\n                      ];\r\n                    }\r\n\r\n                    nuevoNodoChanged(temp);\r\n                  }}\r\n                  className=\"remove-button\"\r\n                  style={{ marginLeft: \"0px\" }}\r\n                >\r\n                  x\r\n                </button>\r\n                <br />\r\n                <small>Nombre de la función</small>\r\n                <br />\r\n                <select\r\n                  onChange={(e) =>\r\n                    nuevoNodoChanged({\r\n                      ...nodoNuevo,\r\n                      ejecutaFuncion: [\r\n                        ...nodoNuevo.ejecutaFuncion.slice(0, index),\r\n                        {\r\n                          ...nodoNuevo.ejecutaFuncion[index],\r\n                          nombreFuncion: e.target.value,\r\n                        },\r\n                        ...nodoNuevo.ejecutaFuncion.slice(index + 1),\r\n                      ],\r\n                    })\r\n                  }\r\n                  value={nodoNuevo.ejecutaFuncion[index].nombreFuncion}\r\n                >\r\n                  <option key=\"\" value=\"\">\r\n                    Selecciona un archivo\r\n                  </option>\r\n                  {functionesChatbot.map((funcion) => (\r\n                    <option key={funcion} value={funcion}>\r\n                      {funcion}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                <br />\r\n                <small>Parámetros</small>\r\n                {funcion.parametros &&\r\n                  funcion.parametros.map((parametro, index2) => {\r\n                    return (\r\n                      <div key={index2}>\r\n                        <input\r\n                          onChange={(e) =>\r\n                            nuevoNodoChanged({\r\n                              ...nodoNuevo,\r\n                              ejecutaFuncion: [\r\n                                ...nodoNuevo.ejecutaFuncion.slice(0, index),\r\n                                {\r\n                                  ...nodoNuevo.ejecutaFuncion[index],\r\n                                  parametros: [\r\n                                    ...nodoNuevo.ejecutaFuncion[\r\n                                      index\r\n                                    ].parametros.slice(0, index2),\r\n                                    e.target.value,\r\n                                    ...nodoNuevo.ejecutaFuncion[\r\n                                      index\r\n                                    ].parametros.slice(index2 + 1),\r\n                                  ],\r\n                                },\r\n                                ...nodoNuevo.ejecutaFuncion.slice(index + 1),\r\n                              ],\r\n                            })\r\n                          }\r\n                          value={\r\n                            nodoNuevo.ejecutaFuncion[index].parametros[index2]\r\n                          }\r\n                        />\r\n\r\n                        <button\r\n                          onClick={() =>\r\n                            nuevoNodoChanged({\r\n                              ...nodoNuevo,\r\n                              ejecutaFuncion: [\r\n                                ...nodoNuevo.ejecutaFuncion.slice(0, index),\r\n                                {\r\n                                  ...nodoNuevo.ejecutaFuncion[index],\r\n                                  parametros: [\r\n                                    ...nodoNuevo.ejecutaFuncion[\r\n                                      index\r\n                                    ].parametros.slice(0, index2),\r\n                                    toggle_variable(\r\n                                      nodoNuevo.ejecutaFuncion[index]\r\n                                        .parametros[index2]\r\n                                    ),\r\n                                    ...nodoNuevo.ejecutaFuncion[\r\n                                      index\r\n                                    ].parametros.slice(index2 + 1),\r\n                                  ],\r\n                                },\r\n                                ...nodoNuevo.ejecutaFuncion.slice(index + 1),\r\n                              ],\r\n                            })\r\n                          }\r\n                          className=\"toggle-button\"\r\n                          style={{ wordWrap: \"unset\" }}\r\n                        >\r\n                          {parametro[0] === \"&\"\r\n                            ? \"Convertir a constante\"\r\n                            : \"Convertir a variable\"}\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            const aristaTemp = { ...nodoNuevo };\r\n                            const funcion = aristaTemp.ejecutaFuncion[index];\r\n\r\n                            funcion.parametros = [\r\n                              ...funcion.parametros.slice(0, index2),\r\n                              ...funcion.parametros.slice(index2 + 1),\r\n                            ];\r\n\r\n                            aristaTemp.ejecutaFuncion[index] = funcion;\r\n\r\n                            nuevoNodoChanged(aristaTemp);\r\n                          }}\r\n                          className=\"remove-button\"\r\n                          style={{ marginLeft: \"5px\" }}\r\n                        >\r\n                          x\r\n                        </button>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                <button\r\n                  onClick={() =>\r\n                    nuevoNodoChanged({\r\n                      ...nodoNuevo,\r\n                      ejecutaFuncion: [\r\n                        ...nodoNuevo.ejecutaFuncion.slice(0, index),\r\n                        {\r\n                          ...nodoNuevo.ejecutaFuncion[index],\r\n                          parametros: nodoNuevo.ejecutaFuncion[index].parametros\r\n                            ? [\r\n                                ...nodoNuevo.ejecutaFuncion[index].parametros,\r\n                                \"\",\r\n                              ]\r\n                            : [\"\"],\r\n                        },\r\n                        ...nodoNuevo.ejecutaFuncion.slice(index + 1),\r\n                      ],\r\n                    })\r\n                  }\r\n                  className=\"add-button rectangle\"\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        <button\r\n          onClick={() =>\r\n            nodoNuevo.ejecutaFuncion\r\n              ? nuevoNodoChanged({\r\n                  ...nodoNuevo,\r\n                  ejecutaFuncion: [...nodoNuevo.ejecutaFuncion, funcionDefault],\r\n                })\r\n              : nuevoNodoChanged({\r\n                  ...nodoNuevo,\r\n                  ejecutaFuncion: [funcionDefault],\r\n                })\r\n          }\r\n          className=\"add-button square\"\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SaveDelete({ nodoNuevo, refreshData, setNotification }) {\r\n  const history = useHistory();\r\n\r\n  // Se valida que no haya funciones con nombres vacios\r\n  const functionsValidation = nodoNuevo.ejecutaFuncion\r\n    ? !nodoNuevo.ejecutaFuncion.every((funcion) => funcion.nombreFuncion !== \"\")\r\n    : false;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"form-actions\" align=\"right\">\r\n        <button\r\n          className=\"form-button secondary-button\"\r\n          onClick={() => history.push(\"/\")}\r\n        >\r\n          Cancelar\r\n        </button>\r\n        <button\r\n          disabled={functionsValidation}\r\n          onClick={() => {\r\n            const temp = { ...nodoNuevo };\r\n            const id = temp._id;\r\n            delete temp._id;\r\n            putArista(id, temp)\r\n              .then(() => {\r\n                refreshData();\r\n                setNotification(\"mSe modificó correctamente la arista\");\r\n              })\r\n              .catch(() => {\r\n                setNotification(\"eHubo un error almacenando la información\");\r\n              });\r\n          }}\r\n          className=\"form-button primary-button\"\r\n        >\r\n          Guardar\r\n        </button>\r\n      </div>\r\n      {functionsValidation && (\r\n        <div align=\"right\">\r\n          <span style={{ fontSize: \"12px\", color: \"red\" }}>\r\n            * Existen funciones sin nombre *\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DeleteNodo({ id, refreshData, setNotification }) {\r\n  const history = useHistory();\r\n  return (\r\n    <div style={{ alignItems: \"left\", textAlign: \"left\" }}>\r\n      <button\r\n        onClick={() => {\r\n          deleteNodo(id)\r\n            .then(() => {\r\n              refreshData();\r\n              setNotification(\"mNodo eliminado correctamente\");\r\n              history.push(`/`);\r\n            })\r\n            .catch(() => {\r\n              setNotification(\"eEl nodo no se pudo eliminar\");\r\n              history.push(`/`);\r\n            });\r\n        }}\r\n        className=\"deleteNodo-button\"\r\n        align=\"left\"\r\n      >\r\n        BORRAR\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { postNodo } from '../routing/routes';\r\n\r\nconst NuevoNodo = ({nodos,refreshData,setNotification}) => {\r\n    const history = useHistory();\r\n    const [nuevoNodo,nuevoNodoChanged] = useState({nodo:'', nombre:'', aristas: [], nodoInicial: undefined, nodoFinal: undefined})\r\n    const nodoValidation = nodos.find(nodo => nodo.nodo === nuevoNodo.nodo) !== undefined\r\n    const nombreValidation = nuevoNodo.nombre.length === 0\r\n    function create(){\r\n        postNodo(nuevoNodo)\r\n        .then((res) => {\r\n            refreshData()\r\n            history.push(\"/edit/\"+res.insertedId)\r\n            setNotification(\"mNodo creado correctamente!\")\r\n        })\r\n        .catch(error => {\r\n            setNotification(\"eOcurrió un error creando el nodo!\");\r\n            console.error('Error:', error)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div style={{width:'80%',margin:'40px auto'}}>\r\n            <div align=\"right\">\r\n                <div className='taby'>\r\n                Nuevo Nodo\r\n                </div>\r\n            </div>\r\n            <div className='form-container'>\r\n                <div className='form-row'>\r\n                    <div>\r\n                        <label>Número</label><br/>\r\n                        { nodoValidation && \r\n                            <>\r\n                                <small style={{color:'red'}}>Número ocupado, favor de usar otro</small>\r\n                            <br/></>\r\n                        }\r\n                        <input type=\"number\" onChange={(e)=>nuevoNodoChanged({...nuevoNodo, nodo: Number(e.target.value)})}\r\n                            value={nuevoNodo.nodo}>\r\n                        </input>\r\n                    </div>\r\n                    <div>\r\n                        <label>Nombre</label><br/>\r\n                        <input onChange={(e)=>nuevoNodoChanged({...nuevoNodo, nombre: e.target.value})}\r\n                            value={nuevoNodo.nombre}\r\n                        ></input>\r\n                    </div>\r\n                </div>\r\n                <div style={{padding:'20px 0 -0 80px', marginBottom:'-40px' }}>\r\n                        <button className={'nodo-button ' + (nuevoNodo.nodoInicial && 'nodo-button-green')} onClick={()=>nuevoNodoChanged({...nuevoNodo, nodoInicial: true, nodoFinal: undefined})}>Inicial</button>\r\n                        <button className={'nodo-button ' + (!nuevoNodo.nodoInicial && !nuevoNodo.nodoFinal && 'nodo-button-normal')} onClick={()=>nuevoNodoChanged({...nuevoNodo, nodoInicial: undefined, nodoFinal: undefined})}>Normal</button>\r\n                        <button className={'nodo-button ' + (nuevoNodo.nodoFinal && 'nodo-button-red')} onClick={()=>nuevoNodoChanged({...nuevoNodo, nodoInicial: undefined, nodoFinal: true})}>Final</button>\r\n                </div>\r\n                <div className='form-actions' align=\"right\">\r\n                    <button className='form-button secondary-button'\r\n                        onClick={()=>history.push(\"/\")}\r\n                    >Cancelar</button>\r\n                    <button disabled={nodoValidation || nombreValidation}\r\n                        onClick={()=>create()} className='form-button primary-button'\r\n                    >Guardar</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NuevoNodo;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst funcionDefault = { nombreFuncion: '', guardarEn: '', parametros: [] };\r\nconst dataTypes = ['texto', 'imagen', 'audio', 'video', 'documento'];\r\n\r\nconst AristaForm = ({ nodo, nodos, archivos, guardarArista, arista, editing, functionesChatbot }) => {\r\n\tconst [nuevaArista, nuevaAristaChanged] = useState(arista);\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>{editing ? 'Editar' : 'Crear'} Arista</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<DestSelection nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} nodos={nodos} nodo={nodo} />\r\n\t\t\t\t<Scripts nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} archivos={archivos} />\r\n\t\t\t\t<Buttons nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} />\r\n\t\t\t\t<Conditions nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} />\r\n\t\t\t\t<Functions nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} functionesChatbot={functionesChatbot} />\r\n\t\t\t\t<SaveDelete nuevaArista={nuevaArista} nodo={nodo} guardarArista={guardarArista} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AristaForm;\r\n\r\nfunction toggle_variable(parametro) {\r\n\tif (parametro[0] === '&') {\r\n\t\tparametro = parametro.slice(1, -1);\r\n\t} else {\r\n\t\tparametro = '&' + parametro + '*';\r\n\t}\r\n\treturn parametro;\r\n}\r\n\r\n//#region Seccion para la seleccion del nodo destino\r\n\r\nfunction DestSelection({ nuevaArista, nuevaAristaChanged, nodos, nodo }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<b style={{ marginRight: 10 }}>Del nodo {nodo.nodo} a: </b>\r\n\t\t\t<select\r\n\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\tnodoDestino: Number(e.target.value),\r\n\t\t\t\t\t\tnombre: '' + nodo.nodo + '_' + e.target.value,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tvalue={nuevaArista.nodoDestino}\r\n\t\t\t>\r\n\t\t\t\t<option key='default' value={0}>\r\n\t\t\t\t\tSelecciona un Nodo...\r\n\t\t\t\t</option>\r\n\t\t\t\t{nodos.map((nodo) => (\r\n\t\t\t\t\t<option key={nodo.nodo} value={nodo.nodo}>\r\n\t\t\t\t\t\tNodo {nodo.nodo} ({nodo.nombre})\r\n\t\t\t\t\t</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los scripts\r\n\r\nfunction Scripts({ nuevaArista, nuevaAristaChanged, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{nuevaArista.scripts &&\r\n\t\t\t\tnuevaArista.scripts.map((script, index) => {\r\n\t\t\t\t\t// script => {tipo:XXXX, valor:XXXX, externo:XXXX}\r\n\t\t\t\t\tswitch (script.tipo) {\r\n\t\t\t\t\t\tcase 'imagen':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevaArista={nuevaArista}\r\n\t\t\t\t\t\t\t\t\tnuevaAristaChanged={nuevaAristaChanged}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.imagenes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'audio':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevaArista={nuevaArista}\r\n\t\t\t\t\t\t\t\t\tnuevaAristaChanged={nuevaAristaChanged}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.audios}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'video':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevaArista={nuevaArista}\r\n\t\t\t\t\t\t\t\t\tnuevaAristaChanged={nuevaAristaChanged}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.videos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'documento':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevaArista={nuevaArista}\r\n\t\t\t\t\t\t\t\t\tnuevaAristaChanged={nuevaAristaChanged}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.documentos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn <TextScript key={index} index={index} nuevaArista={nuevaArista} nuevaAristaChanged={nuevaAristaChanged} />;\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t<button\r\n\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\tscripts: [...nuevaArista.scripts, { tipo: 'texto', valor: '', externo: false }],\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction TextScript({ index, nuevaArista, nuevaAristaChanged }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = {\r\n\t\t\t\t\t\t\ttipo: 'texto',\r\n\t\t\t\t\t\t\tvalor: e.target.value,\r\n\t\t\t\t\t\t\texterno: false,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevaArista.scripts[index].valor}\r\n\t\t\t\t\tstyle={{ width: '60%', height: 64, resize: 'none' }}\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: [...nuevaArista.scripts.slice(0, index), ...nuevaArista.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = {\r\n\t\t\t\t\t\t\ttipo: e.target.value,\r\n\t\t\t\t\t\t\tvalor: '',\r\n\t\t\t\t\t\t\texterno: false,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevaArista.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MultimediaScript({ index, nuevaArista, nuevaAristaChanged, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t{!nuevaArista.scripts[index].externo ? (\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={nuevaArista.scripts[index].valor}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{archivos.map((file) => (\r\n\t\t\t\t\t\t\t<option key={file} value={file}>\r\n\t\t\t\t\t\t\t\t{file}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{ marginRight: '15px' }}>URL del archivo:</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\t\tvalue={nuevaArista.scripts[index].valor}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: [...nuevaArista.scripts.slice(0, index), ...nuevaArista.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span>¿El archivo es externo?</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\tchecked={nuevaArista.scripts[index].externo}\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\tnewScripts[index].externo = !newScripts[index].externo;\r\n\t\t\t\t\t\tnewScripts[index].valor = '';\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevaArista.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = {\r\n\t\t\t\t\t\t\ttipo: e.target.value,\r\n\t\t\t\t\t\t\tvalor: '',\r\n\t\t\t\t\t\t\texterno: false,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevaArista.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion de botones\r\n\r\nfunction Buttons({ nuevaArista, nuevaAristaChanged }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b>Botones</b>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'flex-start',\r\n\t\t\t\t\tflexWrap: 'wrap',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{nuevaArista.botones &&\r\n\t\t\t\t\tnuevaArista.botones.map((boton, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<small>Opcion {index + 1}</small>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...nuevaArista.botones.slice(0, index), ...nuevaArista.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...nuevaArista.botones.slice(0, index), e.target.value, ...nuevaArista.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevaArista.botones[index]}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevaArista.botones\r\n\t\t\t\t\t\t\t? nuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\tbotones: [...nuevaArista.botones, ''],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: nuevaAristaChanged({ ...nuevaArista, botones: [''] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button'\r\n\t\t\t\t\tstyle={{ width: 80, height: 80, marginTop: 10 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion y eliminacion de condiciones\r\n\r\nfunction Conditions({ nuevaArista, nuevaAristaChanged }) {\r\n\tconst condicionesDefaultObj = {\r\n\t\tintent: { esIntent: true, nombreIE: 'intent', condicional: '', valor: '' },\r\n\t\tentity: { esIntent: false, nombreIE: '', condicional: '', valor: '' },\r\n\t\tvariable: { variable: '', condicional: '', valor: '' },\r\n\t};\r\n\r\n\tconst [creandoCondicion, setCreandoCondicion] = useState(false);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b style={{ marginRight: 20 }}>Condiciones</b>\r\n\t\t\t\t{nuevaArista.condiciones && nuevaArista.condiciones.length > 1 && (\r\n\t\t\t\t\t<div style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t<small>Relación: </small>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder='Ej: * AND *'\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\toperacion: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={nuevaArista.operacion}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'flex-start',\r\n\t\t\t\t\tflexWrap: 'wrap',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{nuevaArista.condiciones &&\r\n\t\t\t\t\tnuevaArista.condiciones.map((condicion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [...nuevaArista.condiciones.slice(0, index), ...nuevaArista.condiciones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t\toperacion: nuevaArista.condiciones.length <= 2 ? '' : nuevaArista.operacion,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '65px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{condicion.variable !== undefined && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<small>Variable</small>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariable: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={nuevaArista.condiciones[index].variable}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{condicion.esIntent === false && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<small>Nombre Entity</small>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnombreIE: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={nuevaArista.condiciones[index].nombreIE}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<small>Condicional</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcondicional: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevaArista.condiciones[index].condicional}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option key='default' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona una condición\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='==' value='=='>\r\n\t\t\t\t\t\t\t\t\t\tIgual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='!=' value='!='>\r\n\t\t\t\t\t\t\t\t\t\tDiferente a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='<' value='<'>\r\n\t\t\t\t\t\t\t\t\t\tMenor a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='<=' value='<='>\r\n\t\t\t\t\t\t\t\t\t\tMenor o igual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='>' value='>'>\r\n\t\t\t\t\t\t\t\t\t\tMayor a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='>=' value='>='>\r\n\t\t\t\t\t\t\t\t\t\tMayor o igual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\tValor <b>{condicion.variable !== undefined ? 'Variable' : condicion.esIntent ? 'Intent' : 'Entity'}</b>\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalor: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevaArista.condiciones[index].valor}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t{creandoCondicion ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.intent)} className='toggle-button'>\r\n\t\t\t\t\t\t\tIntent\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.entity)} className='toggle-button'>\r\n\t\t\t\t\t\t\tEntity\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.variable)} className='toggle-button'>\r\n\t\t\t\t\t\t\tVariable\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button onClick={() => setCreandoCondicion(true)} className='add-button square'>\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tfunction addCondicion(nuevaCond) {\r\n\t\tif (nuevaArista.condiciones) {\r\n\t\t\tnuevaAristaChanged({\r\n\t\t\t\t...nuevaArista,\r\n\t\t\t\tcondiciones: [...nuevaArista.condiciones, nuevaCond],\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnuevaAristaChanged({ ...nuevaArista, condiciones: [nuevaCond] });\r\n\t\t}\r\n\t\t// setTimeout(() => {\r\n\t\t// \tsetCreandoCondicion(false);\r\n\t\t// }, 2000)\r\n\t\tsetCreandoCondicion(false);\r\n\t}\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la asignacion de funciones\r\n\r\nfunction Functions({ nuevaArista, nuevaAristaChanged, functionesChatbot }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\r\n\t\t\t{!nuevaArista.ejecutaFuncion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Funciones que Ejecuta </b>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div>\r\n\t\t\t\t{nuevaArista.ejecutaFuncion &&\r\n\t\t\t\t\tnuevaArista.ejecutaFuncion.map((funcion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10, textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<hr style={{ borderWidth: '2px' }} />\r\n\t\t\t\t\t\t\t\t<h2>Función número {index + 1}</h2>\r\n\t\t\t\t\t\t\t\t<h3>- {funcion.nombreFuncion} -</h3>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst temp = { ...nuevaArista };\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (temp.ejecutaFuncion.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tdelete temp.ejecutaFuncion;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\ttemp.ejecutaFuncion = [...temp.ejecutaFuncion.slice(0, index), ...temp.ejecutaFuncion.slice(index + 1)];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged(temp);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Escoge la función</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnombreFuncion: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevaArista.ejecutaFuncion[index].nombreFuncion}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{functionesChatbot.map((funcion) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={funcion} value={funcion}>\r\n\t\t\t\t\t\t\t\t\t\t\t{funcion}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Parámetros</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{funcion.parametros &&\r\n\t\t\t\t\t\t\t\t\tfuncion.parametros.map((parametro, index2) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={nuevaArista.ejecutaFuncion[index].parametros[index2]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggle_variable(nuevaArista.ejecutaFuncion[index].parametros[index2]),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='toggle-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ wordWrap: 'unset' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{parametro[0] === '&' ? 'Convertir a constante' : 'Convertir a variable'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst aristaTemp = { ...nuevaArista };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst funcion = aristaTemp.ejecutaFuncion[index];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfuncion.parametros = [...funcion.parametros.slice(0, index2), ...funcion.parametros.slice(index2 + 1)];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taristaTemp.ejecutaFuncion[index] = funcion;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged(aristaTemp);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tnuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: nuevaArista.ejecutaFuncion[index].parametros ? [...nuevaArista.ejecutaFuncion[index].parametros, ''] : [''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevaArista.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevaArista.ejecutaFuncion\r\n\t\t\t\t\t\t\t? nuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\tejecutaFuncion: [...nuevaArista.ejecutaFuncion, funcionDefault],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: nuevaAristaChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevaArista,\r\n\t\t\t\t\t\t\t\t\tejecutaFuncion: [funcionDefault],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button square'\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los botones para guardado\r\n\r\nfunction SaveDelete({ nuevaArista, nodo, guardarArista }) {\r\n\tconst history = useHistory();\r\n\r\n\t// Las validaciones deben de regresar true cuando algo no esta validado\r\n\t// Se valida que se haya escogido un nodo de destino\r\n\tconst nodoDestinoValidation = nuevaArista.nodoDestino === 0;\r\n\r\n\t// Se valida que se haya definido al menos un script de mensaje\r\n\tconst scriptValidation = nuevaArista.scripts.length === 0;\r\n\r\n\t// Se valida que se hayan definido los scripts correctamente\r\n\tconst scriptEmptyValidation = !nuevaArista.scripts.every((script) => script.valor !== '');\r\n\r\n\t// Se valida que no haya funciones con nombres vacios\r\n\tconst functionsValidation = nuevaArista.ejecutaFuncion ? !nuevaArista.ejecutaFuncion.every((funcion) => funcion.nombreFuncion !== '') : false;\r\n\r\n\t// Se valida que la operacion entre condiciones sea congruente\r\n\tlet operationValidation;\r\n\tif (nuevaArista.condiciones.length > 1) {\r\n\t\toperationValidation = nuevaArista.operacion.match(/\\*/gi) ? nuevaArista.operacion.match(/\\*/gi).length !== nuevaArista.condiciones.length : true;\r\n\t} else {\r\n\t\toperationValidation = false;\r\n\t}\r\n\r\n\t// Se valida que no haya condiciones con parámetros vacíos\r\n\tconst condicionalValidation =\r\n\t\tnuevaArista.condiciones &&\r\n\t\t!nuevaArista.condiciones.every(\r\n\t\t\t(condicion) => condicion.condicional !== '' && condicion.nombreIE !== '' && condicion.valor !== '' && condicion.variable !== ''\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t<button className='form-button secondary-button' onClick={() => history.push('/edit/' + nodo._id)}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tnodoDestinoValidation || scriptValidation || condicionalValidation || operationValidation || functionsValidation || scriptEmptyValidation\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => guardarArista(nuevaArista)}\r\n\t\t\t\t\tclassName='form-button primary-button'\r\n\t\t\t\t>\r\n\t\t\t\t\tGuardar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t{nodoDestinoValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe especificar el nodo destino *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{scriptValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Debe existir al menos un script *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{scriptEmptyValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen scripts que no se encuentran definidos *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{operationValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* El numero de asteriscos no coincide con el número de condiciones *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{condicionalValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen condiciones sin definir *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{functionsValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen funciones sin nombre *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport AristaForm from './ModificacionArista/AristaFormComponent';\r\nimport { putArista } from '../routing/routes';\r\n\r\nconst NuevaArista = ({ nodos, archivos, functionesChatbot, setNotification, refreshData }) => {\r\n\tconst { id } = useParams();\r\n\tconst history = useHistory();\r\n\tconst nodo = nodos.find((nodo) => nodo._id === id);\r\n\tfunction guardarArista(nuevaArista) {\r\n\t\tconst temp = { ...nodo };\r\n\t\ttemp.aristas = [...nodo.aristas, nuevaArista];\r\n\t\tdelete temp._id\r\n\t\tputArista(nodo._id, temp)\r\n\t\t\t.then(() => {\r\n\t\t\t\thistory.push('/edit/' + nodo._id);\r\n\t\t\t\tsetNotification('mArista creada correctamente!');\r\n\t\t\t\tsetTimeout(refreshData, 1000);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetNotification('eOcurrió un error creando la arista!');\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (nodo) {\r\n\t\tconst aristaDefault = { scripts: [], nodoDestino: 0, nombre: '', operacion: '', condiciones: [] };\r\n\t\treturn (\r\n\t\t\t<AristaForm\r\n\t\t\t\tnodo={nodo}\r\n\t\t\t\tarista={aristaDefault}\r\n\t\t\t\tnodos={nodos}\r\n\t\t\t\tguardarArista={guardarArista}\r\n\t\t\t\tediting={false}\r\n\t\t\t\tarchivos={archivos}\r\n\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <p>Loading...</p>;\r\n\t}\r\n};\r\nexport default NuevaArista;\r\n","import React from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport AristaForm from './AristaFormComponent';\r\nimport { putArista } from '../../routing/routes';\r\n\r\nconst EditarArista = ({ nodos, archivos, functionesChatbot, setNotification, refreshData }) => {\r\n\tconst { id, index } = useParams();\r\n\tconst history = useHistory();\r\n\tconst nodo = nodos.find((nodo) => nodo._id === id);\r\n\tfunction guardarArista(nuevaArista) {\r\n\t\tconst temp = { ...nodo };\r\n\t\ttemp.aristas = [...nodo.aristas.slice(0, Number(index)), nuevaArista, ...nodo.aristas.slice(Number(index) + 1)];\r\n\t\tdelete temp._id;\r\n\t\tputArista(nodo._id, temp)\r\n\t\t\t.then(() => {\r\n\t\t\t\thistory.push('/edit/' + nodo._id);\r\n\t\t\t\tsetNotification('mArista editada correctamente!');\r\n\t\t\t\tsetTimeout(refreshData, 1000);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetNotification('eOcurrió un error editando la arista!');\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (nodo) {\r\n\t\tconst arista = nodo.aristas[index];\r\n\t\treturn (\r\n\t\t\t<AristaForm\r\n\t\t\t\tnodo={nodo}\r\n\t\t\t\tnodos={nodos}\r\n\t\t\t\tguardarArista={guardarArista}\r\n\t\t\t\tarista={arista}\r\n\t\t\t\tediting={true}\r\n\t\t\t\tarchivos={archivos}\r\n\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <p>Loading...</p>;\r\n\t}\r\n};\r\n\r\nexport default EditarArista;\r\n","import React, { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport chatbotImage from '../robot.jpg';\r\nimport { trainModel, deleteIntent, deleteEntity } from '../routing/routes';\r\n\r\nconst Entrenamiento = ({ intents, entities, setNotification, refreshData, permisos }) => {\r\n\tconst [training, trainingChanged] = useState(false);\r\n\tconst [mode, setMode] = useState(true);\r\n\tfunction train() {\r\n\t\tif (training) return;\r\n\t\ttrainingChanged(true);\r\n\t\ttrainModel()\r\n\t\t\t.then((json) => {\r\n\t\t\t\trefreshData();\r\n\t\t\t\tif (json.n > 0) {\r\n\t\t\t\t\tsetNotification('mChatbot entrenado correctamente, reiniciando chatbots...');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (json.sent) {\r\n\t\t\t\t\t\tsetNotification('wNo se pudo entrenar al chatbot en estos momentos, intenta mas tarde...');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetNotification('wEl chatbot ya ha sido entrenado con todos los ejemplos previamente disponibles...');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttrainingChanged(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetNotification('eHubo un error entrenando al chatbot');\r\n\t\t\t\tconsole.error('Error:', err);\r\n\t\t\t\ttrainingChanged(false);\r\n\t\t\t});\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{permisos.entrenar && (\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<img src={chatbotImage} alt='entrenar chatbots' className='train-chatbots' onClick={() => train()} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className='tabMenu' style={{ marginTop: 20, marginBottom: 15 }}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={() => setMode(true)}\r\n\t\t\t\t\tstyle={{ paddingTop: 5, paddingBottom: 5 }}\r\n\t\t\t\t\tclassName={mode ? 'tabChild tabChild-selected' : 'tabChild'}>\r\n\t\t\t\t\tIntents\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={() => setMode(false)}\r\n\t\t\t\t\tstyle={{ paddingTop: 5, paddingBottom: 5 }}\r\n\t\t\t\t\tclassName={!mode ? 'tabChild tabChild-selected' : 'tabChild'}>\r\n\t\t\t\t\tEntities\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<h1 style={{ textAlign: 'center', marginTop: 0 }}>{mode ? 'Intents' : 'Entities'}</h1>\r\n\t\t\t<TrainingBody\r\n\t\t\t\tdata={mode ? intents : entities}\r\n\t\t\t\tmode={mode}\r\n\t\t\t\tpermisos={permisos}\r\n\t\t\t\trefreshData={refreshData}\r\n\t\t\t\tsetNotification={setNotification}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst TrainingBody = ({ data, mode, permisos, setNotification, refreshData }) => {\r\n\tconst history = useHistory();\r\n\tif (mode) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{permisos.crearIntenciones && (\r\n\t\t\t\t\t<Link to='/intents/new'>\r\n\t\t\t\t\t\t<button className='floatingButton'>+</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t\t{data.map((intent) => (\r\n\t\t\t\t\t<Intent\r\n\t\t\t\t\t\tkey={intent._id}\r\n\t\t\t\t\t\tintent={intent}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tpermisos={permisos}\r\n\t\t\t\t\t\trefreshData={refreshData}\r\n\t\t\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{permisos.crearEntidades && (\r\n\t\t\t\t\t<Link to='/entities/new'>\r\n\t\t\t\t\t\t<button className='floatingButton'>+</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t\t{data.map((entity) => (\r\n\t\t\t\t\t<Entity\r\n\t\t\t\t\t\tkey={entity._id}\r\n\t\t\t\t\t\tentity={entity}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tpermisos={permisos}\r\n\t\t\t\t\t\trefreshData={refreshData}\r\n\t\t\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst Intent = ({ intent, history, permisos, setNotification, refreshData }) => {\r\n\treturn (\r\n\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t<div className='intent' onClick={() => permisos.modificarIntenciones && history.push('/intents/edit/' + intent._id)}>\r\n\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>\r\n\t\t\t\t\t{intent.intent}\r\n\t\t\t\t\t{intent.examples.length === 0 && (\r\n\t\t\t\t\t\t<b style={{ color: 'red', fontSize: 'medium' }}>Es necesario dar de alta frases de entrenamiento</b>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{intent.examples\r\n\t\t\t\t\t\t.slice(0, 4)\r\n\t\t\t\t\t\t.map((example, index) =>\r\n\t\t\t\t\t\t\tindex !== 3 ? <li key={index}>{example.phrase}</li> : <li key={index}>...</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t{permisos.eliminarIntenciones && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tdeleteIntent(intent._id)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\tsetNotification('mIntencion borrada correctamente');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\tsetNotification('eNo se ha podido borrar la intencion');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='floatingButtonDelete'>\r\n\t\t\t\t\tX\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Entity = ({ entity, history, permisos, setNotification, refreshData }) => {\r\n\treturn (\r\n\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t<div className='entity' onClick={() => permisos.modificarEntidades && history.push('/entities/edit/' + entity._id)}>\r\n\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>\r\n\t\t\t\t\t{entity.entity}\r\n\t\t\t\t\t{entity.subentities.length === 0 && (\r\n\t\t\t\t\t\t<b style={{ color: 'red', fontSize: 'medium' }}>Es necesario dar de alta frases de entrenamiento</b>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{entity.subentities\r\n\t\t\t\t\t\t.slice(0, 4)\r\n\t\t\t\t\t\t.map((example, index) =>\r\n\t\t\t\t\t\t\tindex !== 3 ? <li key={index}>{example.subentity}</li> : <li key={index}>...</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t{permisos.eliminarEntidades && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tdeleteEntity(entity._id)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\tsetNotification('mEntidad borrada correctamente');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\tsetNotification('eNo se ha podido borrar la entidad');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='floatingButtonDelete'>\r\n\t\t\t\t\tX\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Entrenamiento;\r\n","import React, { useState } from 'react';\r\n\r\nconst defaultFrase = { phrase: '', trained: false };\r\n\r\nconst IntentForm = ({ intent, intents, guardarIntent, history, editing }) => {\r\n\tconst [nuevoIntent, nuevoIntentChanged] = useState(intent);\r\n\tconst intentLengthValidation = nuevoIntent.intent.length === 0;\r\n    const intentValidation = intents.find((intent) => intent.intent === nuevoIntent.intent) !== undefined;\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>{editing ? 'Editar' : 'Crear'} Intent</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t{editing ? (\r\n\t\t\t\t\t<h1>{intent.intent}</h1>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{intentValidation && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<small style={{ color: 'red' }}>Ese intent ya existe</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<b>Intent </b>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={(e) => nuevoIntentChanged({ ...nuevoIntent, intent: e.target.value })}\r\n\t\t\t\t\t\t\tvalue={nuevoIntent.intent}\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 'large' }}></input>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<b>Frases</b>\r\n\t\t\t\t{nuevoIntent.examples.map((example, index) => (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tnuevoIntentChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevoIntent,\r\n\t\t\t\t\t\t\t\t\texamples: [\r\n\t\t\t\t\t\t\t\t\t\t...nuevoIntent.examples.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t{ phrase: e.target.value, trained: false },\r\n\t\t\t\t\t\t\t\t\t\t...nuevoIntent.examples.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={example.phrase}\r\n\t\t\t\t\t\t\tstyle={{ width: '90%', marginTop: 10 }}\r\n\t\t\t\t\t\t\tdisabled={example.trained}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tnuevoIntentChanged({\r\n\t\t\t\t\t\t\t\t\t...nuevoIntent,\r\n\t\t\t\t\t\t\t\t\texamples: [...nuevoIntent.examples.slice(0, index), ...nuevoIntent.examples.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='remove-button'>\r\n\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => nuevoIntentChanged({ ...nuevoIntent, examples: [...nuevoIntent.examples, defaultFrase] })}\r\n\t\t\t\t\tclassName='add-button rectangle'>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t\t<button className='form-button secondary-button' onClick={() => history.push('/training')}>\r\n\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={(intentLengthValidation || intentValidation) && !editing}\r\n\t\t\t\t\t\tonClick={() => guardarIntent(nuevoIntent)}\r\n\t\t\t\t\t\tclassName='form-button primary-button'>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default IntentForm;\r\n","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport IntentForm from './IntentFormComponent';\r\nimport { postIntent } from '../routing/routes';\r\n\r\nconst NuevoIntent = ({intents,refreshData,setNotification}) => {\r\n    const history = useHistory();\r\n    const defaultIntent = {intent:'', examples:[{phrase:\"\", trained:false}]}\r\n    function create(nuevoIntent){\r\n        postIntent(nuevoIntent)\r\n        .catch(error => {setNotification(\"eOcurrió un error creando el intent!\");console.error('Error:', error)})\r\n        .then((res) => {\r\n            refreshData()\r\n            history.push(\"/intents/edit/\"+res.insertedId)\r\n            setNotification(\"mIntent creado correctamente!\")     \r\n        });\r\n    }\r\n\r\n    return <IntentForm intent={defaultIntent} intents={intents} guardarIntent={create} history={history} editing={false}/>\r\n}\r\n\r\nexport default NuevoIntent;","import React from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport IntentForm from './IntentFormComponent';\r\nimport { putIntent } from '../routing/routes';\r\n\r\nconst EditarIntent = ({ intents, setNotification, refreshData }) => {\r\n\tconst { id } = useParams();\r\n\tconst history = useHistory();\r\n\tconst intent = intents.find((nodo) => nodo._id === id);\r\n\tfunction guardarIntent(nuevoIntent) {\r\n\t\tconst data = { intent: nuevoIntent.intent, examples: nuevoIntent.examples };\r\n\t\tputIntent(nuevoIntent._id, data)\r\n\t\t\t.then(() => {\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/training');\r\n\t\t\t\tsetNotification('mIntent editado correctamente!');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetNotification('eOcurrió un error editando el intent!');\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t});\r\n\t}\r\n\tif (intent) {\r\n\t\treturn <IntentForm intent={intent} intents={intents} guardarIntent={guardarIntent} history={history} editing={true} />;\r\n\t} else {\r\n\t\treturn <p>Loading...</p>;\r\n\t}\r\n};\r\n\r\nexport default EditarIntent;\r\n","import React, {useState} from 'react';\r\n\r\nconst defaultSubentity = {subentity:\"\", examples:[]}\r\nconst defaultFrase = { phrase: \"\", trained: false }\r\n\r\nconst EntityForm = ({entity,entities,guardarEntity,history, editing}) => {\r\n    const [nuevoEntity,setNuevoEntity] = useState(entity);\r\n    const entityLengthValidation = nuevoEntity.entity.length === 0\r\n    const entityDuplicateValidation = entities.find(entity => entity.entity === nuevoEntity.entity) !== undefined\r\n    return(\r\n        <div style={{width:'80%',margin:'40px auto'}}>\r\n            <div align=\"right\">\r\n                <div className='taby'>\r\n                    {editing ? 'Editar' : 'Crear'} Entity\r\n                </div>\r\n            </div>\r\n            <div className='form-container'>\r\n                {editing ? \r\n                    <h1>{entity.entity}</h1> \r\n                : \r\n                    <>{ entityDuplicateValidation && <><small style={{color:'red'}}>Ese entity ya existe</small><br/></>}\r\n                    <b>Entity </b>\r\n                        <input onChange={(e)=>setNuevoEntity({...nuevoEntity, entity: e.target.value})}\r\n                            value={nuevoEntity.entity} style={{fontSize:'large'}}\r\n                        ></input>\r\n                    <br/>\r\n                    </>\r\n                }        \r\n                <b>Subentities</b>\r\n                {nuevoEntity.subentities.map((subentity,index) => \r\n                    <div key={index} style={{border: '3px solid #253646', padding: 20}}>\r\n                    <input onChange={(e)=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities.slice(0,index),{...subentity, subentity: e.target.value},...nuevoEntity.subentities.slice(index+1)]})}\r\n                        value={subentity.subentity}  style={{width:'90%',marginTop:10}}\r\n                    />\r\n                    <button onClick={()=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities.slice(0,index),...nuevoEntity.subentities.slice(index+1)]})}\r\n                        className='remove-button'>\r\n                        x\r\n                    </button>\r\n                    <b style={{marginLeft:20}}>Ejemplos</b>\r\n                    <div style={{margin: 40,marginTop: 10}}>\r\n                        {subentity.examples.map( (example, index2) =>{\r\n                            return(\r\n                            <div key={index2}>\r\n                                <input onChange={(e)=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities.slice(0,index),{...subentity, examples: [...nuevoEntity.subentities[index].examples.slice(0,index2),{...example, phrase: e.target.value},...nuevoEntity.subentities[index].examples.slice(index2+1)]},...nuevoEntity.subentities.slice(index+1)]})}\r\n                                    value={example.phrase}  style={{width:'90%',marginTop:10}}\r\n                                />\r\n                                <button onClick={()=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities.slice(0,index),{...subentity, examples: [...nuevoEntity.subentities[index].examples.slice(0,index2),...nuevoEntity.subentities[index].examples.slice(index2+1)]},...nuevoEntity.subentities.slice(index+1)]})}\r\n                                    className='remove-button'>\r\n                                    x\r\n                                </button>\r\n                            </div>\r\n                        )})}\r\n                        <button onClick={()=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities.slice(0,index),{...subentity, examples: [...nuevoEntity.subentities[index].examples, defaultFrase]},...nuevoEntity.subentities.slice(index+1)]})}\r\n                            className='add-button rectangle'>\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                    </div>)\r\n                    }\r\n                <button onClick={()=>setNuevoEntity({...nuevoEntity, subentities:[...nuevoEntity.subentities, defaultSubentity]})}\r\n                    className='add-button rectangle'>\r\n                    +\r\n                </button>\r\n                <div className='form-actions' align=\"right\">\r\n                    <button className='form-button secondary-button'\r\n                        onClick={()=>history.push(\"/training\")}\r\n                    >Cancelar</button>\r\n                    <button disabled={entityLengthValidation || (!editing && entityDuplicateValidation)}\r\n                        onClick={()=>guardarEntity(nuevoEntity)}  className='form-button primary-button'\r\n                    >Guardar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EntityForm","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport EntityForm from './EntityFormComponent';\r\nimport { postEntity } from '../routing/routes';\r\n\r\nconst NuevoEntity = ({entities,refreshData,setNotification}) => {\r\n    const history = useHistory();\r\n    const defaultEntity = {entity:'', subentities:[]}\r\n    function create(nuevoEntity){\r\n        postEntity(nuevoEntity)\r\n        .catch(error => {setNotification(\"eOcurrió un error creando el entity!\");console.error('Error:', error)})\r\n        .then((res) => {\r\n            refreshData()\r\n            history.push(\"/entities/edit/\"+res.insertedId)\r\n            setNotification(\"mEntity creado correctamente!\")     \r\n        });\r\n    }\r\n\r\n    return <EntityForm entity={defaultEntity} entities={entities} guardarEntity={create} history={history} editing={false}/>\r\n}\r\n\r\nexport default NuevoEntity;","import React from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport EntityForm from './EntityFormComponent';\r\nimport { putEntity } from '../routing/routes';\r\n\r\nconst EditarEntity = ({entities, setNotification, refreshData}) => {\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n    const entity = entities.find(entity => entity._id === id)\r\n    function guardarEntity(nuevoEntity){\r\n        const data = {entity: nuevoEntity.entity, subentities: nuevoEntity.subentities}\r\n        putEntity(nuevoEntity._id, data)\r\n        .then(() => {\r\n            refreshData()\r\n            history.push(\"/training\")\r\n            setNotification(\"mEntity editado correctamente!\")\r\n        })\r\n        .catch(error => {\r\n            setNotification(\"eOcurrió un error editando el entity!\");\r\n            console.error('Error:', error)\r\n        })\r\n    }\r\n    if (entity){\r\n        return <EntityForm entity={entity} entities={entities} guardarEntity={guardarEntity} history={history} editing={true}/>\r\n    } else {\r\n        return <p>Loading...</p>\r\n    }\r\n}\r\n\r\nexport default EditarEntity","import React, { useState, useEffect } from 'react';\r\nimport Calendar from 'rc-year-calendar';\r\nimport 'rc-year-calendar/locales/rc-year-calendar.es';\r\nimport LoadingGIF from '../assets/loading.gif';\r\nimport Descargar from '../assets/download.png';\r\n\r\nimport {\r\n\tgetAllConversationsData,\r\n\tgetAllNotUnderstandedMessagesStats,\r\n\tgetAllSubjectsStats,\r\n\tgetAllSubjects,\r\n\tdownloadConversaciones,\r\n\tdownloadNoEntendidos,\r\n\tdownloadTemas,\r\n} from '../../routing/routes';\r\nimport './ReportesEstilos.css';\r\nimport {\r\n\tPieChart,\r\n\tPie,\r\n\tSector,\r\n\tCell,\r\n\tBarChart,\r\n\tBar,\r\n\tBrush,\r\n\tReferenceLine,\r\n\tXAxis,\r\n\tYAxis,\r\n\tCartesianGrid,\r\n\tTooltip,\r\n\tLegend,\r\n} from 'recharts';\r\n\r\nimport Dropdown from 'react-dropdown';\r\nimport 'react-dropdown/style.css';\r\n\r\nconst Reporteria = ({ permisos }) => {\r\n\t/* \r\n\t\tfetched es una variable que indica que al menos la primera peticion de informacion fue hecha\r\n\t\tactiveTab indica cual de todos los paneles se encuentran activos\r\n\t\tconversationsStats aloja toda la informacion relacionada al panel de conversaciones\r\n\t\tnotUnderMessagesStats aloja toda la informacion relacionada al panel de mensajes no entendidos\r\n\t\tsubjectStats aloja toda la informacion relacionada al panel de temas\r\n\t*/\r\n\tconst [fetched, setFetched] = useState(null);\r\n\tconst [activeTab, setActiveTab] = useState(0);\r\n\tconst [conversationsStats, setConversationsStats] = useState(null);\r\n\tconst [notUnderMessagesStats, setNotUnderMessagesStats] = useState(null);\r\n\tconst [subjectStats, setSubjectStats] = useState(null);\r\n\tconst [subjects, setSubjects] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst startDate = new Date(new Date() - (new Date().getTimezoneOffset() / 60) * 1000 * 60 * 60);\r\n\t\tconst endDate = new Date(new Date() - (new Date().getTimezoneOffset() / 60) * 1000 * 60 * 60);\r\n\t\tPromise.all([\r\n\t\t\tgetAllConversationsData(startDate, endDate),\r\n\t\t\tgetAllNotUnderstandedMessagesStats(startDate, endDate),\r\n\t\t\tgetAllSubjectsStats(),\r\n\t\t\tgetAllSubjects(),\r\n\t\t])\r\n\t\t\t.then((resultado) => {\r\n\t\t\t\tsetConversationsStats(resultado[0]);\r\n\t\t\t\tsetNotUnderMessagesStats(resultado[1]);\r\n\t\t\t\tsetSubjectStats(resultado[2]);\r\n\t\t\t\tsetSubjects(resultado[3]);\r\n\t\t\t\tsetFetched(true);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetFetched(false);\r\n\t\t\t});\r\n\t}, []);\r\n\t/* \r\n        AQUI SE DEFINEN LAS OPCIONES QUE CONTENDRA EL MENU SUPERIOR\r\n    */\r\n\tconst opcionesMenu = ['Conversaciones', 'Mensajes no entendidos', 'Temas'];\r\n\r\n\t/* \r\n        AQUI SE DEFINE EL PANEL QUE SERA MOSTRADO DE ACUERDO AL MENU\r\n    */\r\n\r\n\tconst paneles = [PanelConversaciones, PanelMensajesNoEntendidos, PanelTemas];\r\n\tconst PanelPrincipal = paneles[activeTab];\r\n\r\n\t/*\r\n        AQUI REGRESA EL PANEL CORRESPONDIENTE SI ESTA CARGADA LA INFORMACION, SI NO, REGRESA LA LEYENDA DE \"CARGANDO\"\r\n    */\r\n\tif (fetched === true) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Menu opcionesMenu={opcionesMenu} setActiveTab={setActiveTab} activeTab={activeTab} />\r\n\t\t\t\t<PanelPrincipal\r\n\t\t\t\t\t// Datos para el panel de conversaciones\r\n\t\t\t\t\tconversationsStats={conversationsStats}\r\n\t\t\t\t\tsetConversationsStats={setConversationsStats}\r\n\t\t\t\t\t// Datos para el panel de mensajes no entendidos\r\n\t\t\t\t\tnotUnderMessagesStats={notUnderMessagesStats}\r\n\t\t\t\t\tsetNotUnderMessagesStats={setNotUnderMessagesStats}\r\n\t\t\t\t\t// Datos para el panel de temas\r\n\t\t\t\t\tsubjectStats={subjectStats}\r\n\t\t\t\t\tsubjects={subjects}\r\n\t\t\t\t\tpermisos={permisos}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else if (fetched === false) {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>ERROR</h3>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>CARGANDO...</h3>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img style={{ height: '200px', width: '200px' }} src={LoadingGIF} alt={'Cargando'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Reporteria;\r\n\r\nconst Menu = ({ opcionesMenu, setActiveTab, activeTab }) => {\r\n\treturn (\r\n\t\t<div className='tabMenu'>\r\n\t\t\t{opcionesMenu.map((item, index) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={() => setActiveTab(index)}\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tclassName={activeTab === index ? 'tabChild tabChild-selected' : 'tabChild'}>\r\n\t\t\t\t\t{item}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n//#region SECCION DESTINADA AL PANEL DE CONVERSACIONES\r\n\r\nconst PanelConversaciones = ({ conversationsStats, setConversationsStats, permisos }) => {\r\n\tconst [startDate, setStartDate] = useState(new Date());\r\n\tconst [endDate, setEndDate] = useState(null);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<LeyendasConversaciones\r\n\t\t\t\tconversationsStats={conversationsStats}\r\n\t\t\t\tstartDate={startDate}\r\n\t\t\t\tendDate={endDate}\r\n\t\t\t\tpermisos={permisos}\r\n\t\t\t/>\r\n\t\t\t<Calendar\r\n\t\t\t\tlanguage='es'\r\n\t\t\t\tenableRangeSelection={true}\r\n\t\t\t\troundRangeLimits={true}\r\n\t\t\t\tonRangeSelected={(data) => {\r\n\t\t\t\t\tgetAllConversationsData(data.startDate, data.endDate).then((stats) => {\r\n\t\t\t\t\t\tsetStartDate(data.startDate);\r\n\t\t\t\t\t\tsetEndDate(data.endDate);\r\n\t\t\t\t\t\tsetConversationsStats(stats);\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tdataSource={[{ id: 0, startDate: startDate, endDate: endDate }]}\r\n\t\t\t\tstyle='background'\r\n\t\t\t\tenableContextMenu={true}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst LeyendasConversaciones = ({ conversationsStats, startDate, endDate, permisos }) => {\r\n\tconst currentDate = toLongDateString(startDate, endDate);\r\n\tconst complementaryString = startDate !== endDate && endDate !== null ? 'dentro del rango: ' : 'del día: ';\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='Reporteria-Leyenda-Container'>\r\n\t\t\t\t<span className='Reporteria-Leyenda'>Total conversaciones: {conversationsStats.conversacionesTotales}</span>\r\n\r\n\t\t\t\t<span className='Reporteria-Leyenda'>\r\n\t\t\t\t\tTotal de derivaciones con agente: {conversationsStats.transferenciasTotales}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='Reporteria-Leyenda-Container'>\r\n\t\t\t\t<span className='Reporteria-Leyenda'>\r\n\t\t\t\t\tConversaciones {complementaryString + conversationsStats.conversacionesPeriodo}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span className='Reporteria-Leyenda'>\r\n\t\t\t\t\tDerivaciones {complementaryString + conversationsStats.transferenciasPeriodo}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t{permisos.descargarReportes && (\r\n\t\t\t\t<div style={{ textAlign: 'center', marginTop: '10px' }}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName='Reporteria-Descarga'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlet from = undefined;\r\n\t\t\t\t\t\t\tlet to = undefined;\r\n\t\t\t\t\t\t\tif (startDate !== undefined && startDate !== null && endDate !== undefined && endDate !== null) {\r\n\t\t\t\t\t\t\t\tfrom =\r\n\t\t\t\t\t\t\t\t\tstartDate.getFullYear() +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + (startDate.getMonth() + 1)).slice(-2) +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + startDate.getDate()).slice(-2);\r\n\t\t\t\t\t\t\t\tto =\r\n\t\t\t\t\t\t\t\t\tendDate.getFullYear() +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + (endDate.getMonth() + 1)).slice(-2) +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + endDate.getDate()).slice(-2);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdownloadConversaciones(from, to);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>Descargar</p>\r\n\t\t\t\t\t\t<img style={{ height: '50px', width: '50px', marginTop: '-12px' }} src={Descargar} alt={'Descargar'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className='Reporteria-Leyenda-Container'>\r\n\t\t\t\t<h3>{currentDate}</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n//#endregion\r\n\r\n//#region SECCION DESTINADA AL PANEL DE MENSAJES NO ENTENDIDOS\r\n\r\nconst PanelMensajesNoEntendidos = ({ notUnderMessagesStats, setNotUnderMessagesStats, permisos }) => {\r\n\tconst [startDate, setStartDate] = useState(new Date());\r\n\tconst [endDate, setEndDate] = useState(null);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<LeyendasMensajesNoEntendidos\r\n\t\t\t\tnotUnderMessagesStats={notUnderMessagesStats}\r\n\t\t\t\tstartDate={startDate}\r\n\t\t\t\tendDate={endDate}\r\n\t\t\t\tpermisos={permisos}\r\n\t\t\t/>\r\n\t\t\t<Calendar\r\n\t\t\t\tlanguage='es'\r\n\t\t\t\tenableRangeSelection={true}\r\n\t\t\t\troundRangeLimits={true}\r\n\t\t\t\tonRangeSelected={(data) => {\r\n\t\t\t\t\tgetAllNotUnderstandedMessagesStats(data.startDate, data.endDate).then((stats) => {\r\n\t\t\t\t\t\tsetStartDate(data.startDate);\r\n\t\t\t\t\t\tsetEndDate(data.endDate);\r\n\t\t\t\t\t\tsetNotUnderMessagesStats(stats);\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tdataSource={[{ id: 0, startDate: startDate, endDate: endDate }]}\r\n\t\t\t\tstyle='background'\r\n\t\t\t\tenableContextMenu={true}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst LeyendasMensajesNoEntendidos = ({ notUnderMessagesStats, startDate, endDate, permisos }) => {\r\n\tconst currentDate = toLongDateString(startDate, endDate);\r\n\tconst complementaryString = startDate !== endDate && endDate !== null ? 'dentro del rango: ' : 'del día: ';\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='Reporteria-Leyenda-Container' style={{}}>\r\n\t\t\t\t<span className='Reporteria-Leyenda'>Total de mensajes: {notUnderMessagesStats.mensajesTotales}</span>\r\n\r\n\t\t\t\t<span className='Reporteria-Leyenda'>\r\n\t\t\t\t\tTotal de mensajes no entendidos: {notUnderMessagesStats.mensajesNoEntendidos}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='Reporteria-Leyenda-Container'>\r\n\t\t\t\t<span className='Reporteria-Leyenda'>Mensajes {complementaryString + notUnderMessagesStats.mensajesRango}</span>\r\n\r\n\t\t\t\t<span className='Reporteria-Leyenda'>\r\n\t\t\t\t\tMensajes no entendidos {complementaryString + notUnderMessagesStats.mensajesNoEntendidosRango}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t{permisos.descargarReportes && (\r\n\t\t\t\t<div style={{ textAlign: 'center', marginTop: '10px' }}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName='Reporteria-Descarga'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlet from = undefined;\r\n\t\t\t\t\t\t\tlet to = undefined;\r\n\t\t\t\t\t\t\tif (startDate !== undefined && startDate !== null && endDate !== undefined && endDate !== null) {\r\n\t\t\t\t\t\t\t\tfrom =\r\n\t\t\t\t\t\t\t\t\tstartDate.getFullYear() +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + (startDate.getMonth() + 1)).slice(-2) +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + startDate.getDate()).slice(-2);\r\n\t\t\t\t\t\t\t\tto =\r\n\t\t\t\t\t\t\t\t\tendDate.getFullYear() +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + (endDate.getMonth() + 1)).slice(-2) +\r\n\t\t\t\t\t\t\t\t\t'-' +\r\n\t\t\t\t\t\t\t\t\t('00' + endDate.getDate()).slice(-2);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdownloadNoEntendidos(from, to);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>Descargar</p>\r\n\t\t\t\t\t\t<img style={{ height: '50px', width: '50px', marginTop: '-12px' }} src={Descargar} alt={'Descargar'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className='Reporteria-Leyenda-Container'>\r\n\t\t\t\t<h3>{currentDate}</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n//#endregion\r\n\r\n//#region SECCION DESTINADA AL PANEL DE TEMAS\r\n\r\nconst PanelTemas = ({ subjects, subjectStats, permisos }) => {\r\n\treturn (\r\n\t\t<div style={{ textAlign: 'center', minWidth: '800px' }}>\r\n\t\t\t{permisos.descargarReportes && (\r\n\t\t\t\t<div style={{ textAlign: 'center', marginTop: '5px' }}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName='Reporteria-Descarga'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdownloadTemas();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>Descargar</p>\r\n\t\t\t\t\t\t<img style={{ height: '50px', width: '50px', marginTop: '-12px' }} src={Descargar} alt={'Descargar'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{Object.keys(subjectStats).map((Canal, index) => {\r\n\t\t\t\treturn <ContenedorTemas key={index} subjectStats={subjectStats[Canal]} Canal={Canal} />;\r\n\t\t\t})}\r\n\t\t\t<ContenedorComparativas subjectStats={subjectStats} subjects={subjects} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst ContenedorComparativas = ({ subjects, subjectStats }) => {\r\n\tconst COLORS = ['#0088FE', '#D19100', '#263646', '#00C49F', '#DEC90B', '#DE6C0B'];\r\n\tconst [data, setData] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tconst bars = [];\r\n\t\tfor (let i = 0; i < subjects.length; i++) {\r\n\t\t\tconst subject = subjects[i];\r\n\t\t\tconst barObject = { name: subject };\r\n\t\t\tfor (const canal in subjectStats) {\r\n\t\t\t\tif (subjectStats.hasOwnProperty(canal)) {\r\n\t\t\t\t\tconst datosCanal = subjectStats[canal].Total;\r\n\t\t\t\t\tbarObject[canal] = datosCanal[subject];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbars.push(barObject);\r\n\t\t}\r\n\t\tsetData(bars);\r\n\t}, [subjects, subjectStats]);\r\n\r\n\tif (data.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className='Reporteria-ContenedorTemas'>\r\n\t\t\t\t<h1>NO HAY TEMAS REGISTRADOS</h1>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div className='Reporteria-ContenedorTemas'>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<h3 style={{ fontSize: '50px' }}>Canales</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<BarChart\r\n\t\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\t\twidth={750}\r\n\t\t\t\t\theight={600}\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\tmargin={{\r\n\t\t\t\t\t\ttop: 10,\r\n\t\t\t\t\t\tright: 35,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tbottom: 100,\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<CartesianGrid strokeDasharray='3 3' />\r\n\t\t\t\t\t<XAxis dataKey='name' />\r\n\t\t\t\t\t<YAxis />\r\n\t\t\t\t\t<Tooltip />\r\n\t\t\t\t\t<Legend verticalAlign='top' wrapperStyle={{ lineHeight: '40px' }} layout='vertical' iconType='diamond' />\r\n\t\t\t\t\t<ReferenceLine y={0} stroke='#000' />\r\n\t\t\t\t\t<Brush dataKey='name' height={30} stroke='#000000' width={500} x={125} />\r\n\t\t\t\t\t{Object.keys(subjectStats).map((canal, index) => {\r\n\t\t\t\t\t\treturn <Bar dataKey={canal} fill={COLORS[index % COLORS.length]} key={canal} />;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</BarChart>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst ContenedorTemas = ({ subjectStats, Canal }) => {\r\n\tconst [activeRecipient, setActiveRecipient] = useState(0);\r\n\tconst data = [];\r\n\tconst recipientes = Object.keys(subjectStats).filter((data) => data !== 'Total');\r\n\trecipientes.unshift('Total');\r\n\r\n\tObject.entries(subjectStats[recipientes[activeRecipient]]).map((entradas) => {\r\n\t\treturn data.push({ name: entradas[0], value: entradas[1] });\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className='Reporteria-ContenedorTemas'>\r\n\t\t\t{/* Aqui va el titulo de cada recuadro, en este caso, cada Canal */}\r\n\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t<h3 style={{ fontSize: '50px' }}>{Canal}</h3>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Aqui se dibuja la grafica de cada tema */}\r\n\t\t\t<Grafica data={data} />\r\n\r\n\t\t\t{/* Aqui van las estadisticas de cada Pagina */}\r\n\t\t\t<div className='Reporteria-ContenedorEstadisticas'>\r\n\t\t\t\t<h3 style={{ fontSize: '30px' }}>{recipientes[activeRecipient]} - Estadísticas</h3>\r\n\t\t\t\t{data.map((entradas, index) => {\r\n\t\t\t\t\treturn <Indicador key={index} nombre={entradas.name} valor={entradas.value} />;\r\n\t\t\t\t})}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='Reporteria-DropdownMenu'\r\n\t\t\t\t\t\tmenuClassName='Reporteria-DropdownMenuPlaceHolder'\r\n\t\t\t\t\t\toptions={recipientes}\r\n\t\t\t\t\t\tonChange={(data) => {\r\n\t\t\t\t\t\t\tsetActiveRecipient(recipientes.findIndex((element) => element === data.value));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={recipientes[activeRecipient]}\r\n\t\t\t\t\t\tplaceholder='Select an option'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Indicador = ({ nombre, valor }) => {\r\n\treturn (\r\n\t\t<span className='Reporteria-LeyendaEstadisticas'>\r\n\t\t\tTema: {nombre}, Cantidad de consultas: {valor}\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\n//#region REGION DE LAS GRAFICAS\r\n\r\nconst Grafica = ({ data }) => {\r\n\tconst [index, setIndex] = useState(0);\r\n\tconst COLORS = ['#263646', '#D19100', '#0088FE', '#00C49F', '#DEC90B', '#DE6C0B'];\r\n\tuseEffect(() => {}, [data]);\r\n\r\n\treturn (\r\n\t\t<PieChart width={550} height={350} style={{ display: 'inline' }}>\r\n\t\t\t<Pie\r\n\t\t\t\tactiveIndex={index}\r\n\t\t\t\tactiveShape={(data) => renderActiveShape({ ...data })}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcx={270}\r\n\t\t\t\tcy={170}\r\n\t\t\t\tinnerRadius={85}\r\n\t\t\t\touterRadius={120}\r\n\t\t\t\tfill='#0069d1'\r\n\t\t\t\tdataKey='value'\r\n\t\t\t\tonMouseEnter={(value, index) => setIndex(index)}>\r\n\t\t\t\t{data.map((entry, index) => (\r\n\t\t\t\t\t<Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n\t\t\t\t))}\r\n\t\t\t</Pie>\r\n\t\t</PieChart>\r\n\t);\r\n};\r\n\r\nconst renderActiveShape = (props) => {\r\n\tconst RADIAN = Math.PI / 180;\r\n\tconst { cx, cy, midAngle, innerRadius, outerRadius, startAngle, endAngle, fill, payload, percent, value } = props;\r\n\tconst sin = Math.sin(-RADIAN * midAngle);\r\n\tconst cos = Math.cos(-RADIAN * midAngle);\r\n\tconst sx = cx + (outerRadius + 10) * cos;\r\n\tconst sy = cy + (outerRadius + 10) * sin;\r\n\tconst mx = cx + (outerRadius + 30) * cos;\r\n\tconst my = cy + (outerRadius + 30) * sin;\r\n\tconst ex = mx + (cos >= 0 ? 1 : -1) * 22;\r\n\tconst ey = my;\r\n\tconst textAnchor = cos >= 0 ? 'start' : 'end';\r\n\r\n\treturn (\r\n\t\t<g>\r\n\t\t\t<text x={cx} y={cy} dy={8} textAnchor='middle' fill='black'>\r\n\t\t\t\t{payload.name}\r\n\t\t\t</text>\r\n\t\t\t<Sector\r\n\t\t\t\tcx={cx}\r\n\t\t\t\tcy={cy}\r\n\t\t\t\tinnerRadius={innerRadius}\r\n\t\t\t\touterRadius={outerRadius}\r\n\t\t\t\tstartAngle={startAngle}\r\n\t\t\t\tendAngle={endAngle}\r\n\t\t\t\tfill={fill}\r\n\t\t\t/>\r\n\t\t\t<Sector\r\n\t\t\t\tcx={cx}\r\n\t\t\t\tcy={cy}\r\n\t\t\t\tstartAngle={startAngle}\r\n\t\t\t\tendAngle={endAngle}\r\n\t\t\t\tinnerRadius={outerRadius + 6}\r\n\t\t\t\touterRadius={outerRadius + 10}\r\n\t\t\t\tfill={fill}\r\n\t\t\t/>\r\n\t\t\t<path d={`M${sx},${sy}L${mx},${my}L${ex},${ey}`} stroke={fill} fill='none' />\r\n\t\t\t<circle cx={ex} cy={ey} r={2} fill={fill} stroke='none' />\r\n\t\t\t<text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} textAnchor={textAnchor} fill='#333'>{`Cantidad: ${value}`}</text>\r\n\t\t\t<text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} dy={18} textAnchor={textAnchor} fill='#999'>\r\n\t\t\t\t{`(${(percent * 100).toFixed(2)}%)`}\r\n\t\t\t</text>\r\n\t\t</g>\r\n\t);\r\n};\r\n\r\n//#endregion\r\n\r\n//#endregion\r\n\r\n//#region REGION DE FUNCIONES GENERALES\r\n\r\nfunction toLongDateString(startDate = new Date(), endDate = null) {\r\n\tconst meses = [\r\n\t\t'Enero',\r\n\t\t'Febrero',\r\n\t\t'Marzo',\r\n\t\t'Abril',\r\n\t\t'Mayo',\r\n\t\t'Junio',\r\n\t\t'Julio',\r\n\t\t'Agosto',\r\n\t\t'Septiembre',\r\n\t\t'Octubre',\r\n\t\t'Noviembre',\r\n\t\t'Diciembre',\r\n\t];\r\n\r\n\tif (!endDate || startDate === endDate) {\r\n\t\treturn startDate.getDate() + ' de ' + meses[startDate.getMonth()] + ' del ' + startDate.getFullYear();\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tstartDate.getDate() +\r\n\t\t\t' de ' +\r\n\t\t\tmeses[startDate.getMonth()] +\r\n\t\t\t' del ' +\r\n\t\t\tstartDate.getFullYear() +\r\n\t\t\t'    al    ' +\r\n\t\t\tendDate.getDate() +\r\n\t\t\t' de ' +\r\n\t\t\tmeses[endDate.getMonth()] +\r\n\t\t\t' del ' +\r\n\t\t\tendDate.getFullYear()\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//#endregion\r\n","import React, { useState } from 'react';\r\nimport { analyzeExpression } from '../../routing/routes';\r\n\r\nconst AnalysisComponent = ({ setNotification, permisos }) => {\r\n\treturn (\r\n\t\t<div style={{ minWidth: '1100px', width: '1100px', margin: 'auto' }}>\r\n\t\t\t<UtteranceAnalysisComponent setNotification={setNotification} permisos={permisos} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AnalysisComponent;\r\n\r\nconst UtteranceAnalysisComponent = ({ setNotification, permisos }) => {\r\n\tconst [utterance, setUtterance] = useState('');\r\n\tconst [results, setResults] = useState([]);\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>Analizar expresiones</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<h3> Expresión </h3>\r\n\t\t\t\t<input onChange={(event) => setUtterance(event.target.value)} style={{ width: '80%' }}>\r\n\t\t\t\t\t{}\r\n\t\t\t\t</input>\r\n\r\n\t\t\t\t{/* Boton para analizar expresiones */}\r\n\t\t\t\t{permisos.analizarExpresion && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tanalyzeExpression(utterance)\r\n\t\t\t\t\t\t\t\t.then((results) => {\r\n\t\t\t\t\t\t\t\t\tsetNotification('mSe analizó la expresión');\r\n\t\t\t\t\t\t\t\t\tsetResults(results);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\t\tsetNotification('eHubo un error al analizar la expresión');\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName='form-button primary-button'>\r\n\t\t\t\t\t\tAnalizar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className='PruebasComponent-UtteranceHeaders'>\r\n\t\t\t\t\t<span className='PruebasComponent-UtteranceCell'>\r\n\t\t\t\t\t\t<h4>Tipo</h4>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='PruebasComponent-UtteranceCell'>\r\n\t\t\t\t\t\t<h4>Nombre</h4>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='PruebasComponent-UtteranceCell'>\r\n\t\t\t\t\t\t<h4>Valor</h4>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t\t{results.map((result, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='PruebasComponent-UtteranceHeaders-Result' key={index}>\r\n\t\t\t\t\t\t\t<span className='PruebasComponent-UtteranceCell-Result'>\r\n\t\t\t\t\t\t\t\t<h4>{result.esIntent ? 'Intent' : 'Entity'}</h4>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='PruebasComponent-UtteranceCell-Result'>\r\n\t\t\t\t\t\t\t\t<h4>{result.nombre}</h4>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='PruebasComponent-UtteranceCell-Result'>\r\n\t\t\t\t\t\t\t\t<h4>{result.valor}</h4>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { deleteRecordatorio } from '../../routing/routes';\r\nimport LoadingGIF from '../assets/loading.gif';\r\n\r\nconst NoFlujo = ({ scriptsNoFlujo, recordatorios, permisos, setNotification, refreshData }) => {\r\n\tconst [tabSelected, setTabSelected] = useState(0);\r\n\tconst Menu = [MenuScriptsNoFlujo, MenuRecordatorios, MenuSeguimientos][tabSelected];\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='tabMenu' style={{ marginTop: 20, marginBottom: 15 }}>\r\n\t\t\t\t{true && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={() => setTabSelected(0)}\r\n\t\t\t\t\t\tstyle={{ paddingTop: 5, paddingBottom: 5 }}\r\n\t\t\t\t\t\tclassName={tabSelected === 0 ? 'tabChild tabChild-selected' : 'tabChild'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tScripts No Flujo\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{true && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={() => setTabSelected(1)}\r\n\t\t\t\t\t\tstyle={{ paddingTop: 5, paddingBottom: 5 }}\r\n\t\t\t\t\t\tclassName={tabSelected === 1 ? 'tabChild tabChild-selected' : 'tabChild'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRecordatorios\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{false && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={() => setTabSelected(2)}\r\n\t\t\t\t\t\tstyle={{ paddingTop: 5, paddingBottom: 5 }}\r\n\t\t\t\t\t\tclassName={tabSelected === 2 ? 'tabChild tabChild-selected' : 'tabChild'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSeguimiento\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Menu scriptsNoFlujo={scriptsNoFlujo} recordatorios={recordatorios} permisos={permisos} setNotification={setNotification} refreshData={refreshData} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NoFlujo;\r\n\r\nconst MenuScriptsNoFlujo = ({ scriptsNoFlujo, permisos }) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2 style={{ textAlign: 'center' }}>Scripts No Flujo</h2>\r\n\t\t\t{scriptsNoFlujo.map((script) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={script._id} className={'intent'} onClick={() => permisos.modificarScripts && history.push('/scripts/edit/noflujo/' + script._id)}>\r\n\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{script.tipoScript}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst MenuRecordatorios = ({ recordatorios, permisos, setNotification, refreshData }) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [recordatoriosLocal, setRecordatoriosLocal] = useState(recordatorios);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetRecordatoriosLocal(recordatorios);\r\n\t}, [recordatorios]);\r\n\r\n\tconst { global, genericos } = recordatoriosLocal;\r\n\r\n\tif (global) {\r\n\t\treturn (\r\n\t\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t\t{permisos.crearRecordatorios && (\r\n\t\t\t\t\t<Link to='/scripts/create/recordatorios/'>\r\n\t\t\t\t\t\t<button className='floatingButton'>+</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2 style={{ textAlign: 'center' }}>Recordatorios</h2>\r\n\r\n\t\t\t\t\t<div className={'intent'} onClick={() => permisos.modificarRecordatorios && history.push('/scripts/edit/recordatorios/' + global._id)}>\r\n\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{global.nombre}</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{genericos.map((recordatorio) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={recordatorio._id} style={{ position: 'relative' }}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={'intent'}\r\n\t\t\t\t\t\t\t\t\tonClick={() => permisos.modificarRecordatorios && history.push('/scripts/edit/recordatorios/' + recordatorio._id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{recordatorio.nombre}</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{permisos.eliminarRecordatorios && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteRecordatorio(recordatorio._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotification('mRecordatorio borrado correctamente');\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotification('eNo se ha podido borrar el recordatorio');\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='floatingButtonDelete'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>CARGANDO...</h3>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img style={{ height: '200px', width: '200px' }} src={LoadingGIF} alt={'Cargando'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst MenuSeguimientos = ({ scriptsNoFlujo, permisos }) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2 style={{ textAlign: 'center' }}>Seguimientos</h2>\r\n\t\t\t{scriptsNoFlujo.map((script) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={script._id} className={'intent'} onClick={() => permisos.modificarScripts && history.push('/scripts/' + script._id)}>\r\n\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{script.tipoScript}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { putScriptNoFlujo } from '../../routing/routes';\r\nimport LoadingGIF from '../assets/loading.gif';\r\n\r\nconst dataTypes = ['texto', 'imagen', 'audio', 'video', 'documento'];\r\n\r\nconst ModifyScript = ({ scriptsNoFlujo, archivos, functionesChatbot, refreshData, setNotification }) => {\r\n\tconst { id } = useParams();\r\n\tconst [script, setScript] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetScript(scriptsNoFlujo.find((script) => script._id === id));\r\n\t}, [scriptsNoFlujo, id]);\r\n\r\n\tif (script) {\r\n\t\treturn (\r\n\t\t\t<ScriptNF\r\n\t\t\t\tscript={script}\r\n\t\t\t\tarchivos={archivos}\r\n\t\t\t\trefreshData={refreshData}\r\n\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>CARGANDO...</h3>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img style={{ height: '200px', width: '200px' }} src={LoadingGIF} alt={'Cargando'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default ModifyScript;\r\n\r\nconst ScriptNF = ({ script, archivos, refreshData, setNotification, functionesChatbot }) => {\r\n\tconst [nuevoScript, setNuevoScript] = useState(script);\r\n\tconst [flagFunctions, setFlagFunctions] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (nuevoScript.ejecutaFuncion && nuevoScript.ejecutaFuncion.length > 0) {\r\n\t\t\tconst temp = { ...nuevoScript };\r\n\t\t\tlet flag = false;\r\n\t\t\ttemp.ejecutaFuncion = temp.ejecutaFuncion.map((funcion) => {\r\n\t\t\t\tif (functionesChatbot.includes(funcion.nombreFuncion)) {\r\n\t\t\t\t\treturn funcion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfuncion.nombreFuncion = '';\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\treturn funcion;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetFlagFunctions(flag);\r\n\t\t\tsetNuevoScript(temp);\r\n\t\t}\r\n\t}, [functionesChatbot, nuevoScript]);\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>{script.tipoScript}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<Scripts nuevoScript={nuevoScript} setNuevoScript={setNuevoScript} archivos={archivos} />\r\n\t\t\t\t<Buttons nuevoScript={nuevoScript} setNuevoScript={setNuevoScript} />\r\n\t\t\t\t<Functions nuevoScript={nuevoScript} setNuevoScript={setNuevoScript} functionesChatbot={functionesChatbot} />\r\n\t\t\t\t<SaveDelete\r\n\t\t\t\t\tnuevoScript={nuevoScript}\r\n\t\t\t\t\trefreshData={refreshData}\r\n\t\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\t\tflagFunctions={flagFunctions}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction toggle_variable(parametro) {\r\n\tif (parametro[0] === '&') {\r\n\t\tparametro = parametro.slice(1, -1);\r\n\t} else {\r\n\t\tparametro = '&' + parametro + '*';\r\n\t}\r\n\treturn parametro;\r\n}\r\n\r\n//#region Seccion de los scripts\r\n\r\nfunction Scripts({ nuevoScript, setNuevoScript, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{nuevoScript.scripts &&\r\n\t\t\t\tnuevoScript.scripts.map((script, index) => {\r\n\t\t\t\t\t// script => {tipo:XXXX, valor:XXXX, externo:XXXX}\r\n\t\t\t\t\tswitch (script.tipo) {\r\n\t\t\t\t\t\tcase 'imagen':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoScript={nuevoScript}\r\n\t\t\t\t\t\t\t\t\tsetNuevoScript={setNuevoScript}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.imagenes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'audio':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoScript={nuevoScript}\r\n\t\t\t\t\t\t\t\t\tsetNuevoScript={setNuevoScript}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.audios}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'video':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoScript={nuevoScript}\r\n\t\t\t\t\t\t\t\t\tsetNuevoScript={setNuevoScript}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.videos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'documento':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoScript={nuevoScript}\r\n\t\t\t\t\t\t\t\t\tsetNuevoScript={setNuevoScript}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.documentos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<TextScript key={index} index={index} nuevoScript={nuevoScript} setNuevoScript={setNuevoScript} />\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t<button\r\n\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\tscripts: [...nuevoScript.scripts, { tipo: 'texto', valor: '', externo: false }],\r\n\t\t\t\t\t})\r\n\t\t\t\t}>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction TextScript({ index, nuevoScript, setNuevoScript }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: 'texto', valor: e.target.value, externo: false };\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoScript.scripts[index].valor}\r\n\t\t\t\t\tstyle={{ width: '60%', height: 64, resize: 'none' }}></textarea>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: [...nuevoScript.scripts.slice(0, index), ...nuevoScript.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoScript.scripts[index].tipo}>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MultimediaScript({ index, nuevoScript, setNuevoScript, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t{!nuevoScript.scripts[index].externo ? (\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={nuevoScript.scripts[index].valor}>\r\n\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{archivos.map((file) => (\r\n\t\t\t\t\t\t\t<option key={file} value={file}>\r\n\t\t\t\t\t\t\t\t{file}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{ marginRight: '15px' }}>URL del archivo:</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\t\tvalue={nuevoScript.scripts[index].valor}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: [...nuevoScript.scripts.slice(0, index), ...nuevoScript.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span>¿El archivo es externo?</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\tchecked={nuevoScript.scripts[index].externo}\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\tnewScripts[index].externo = !newScripts[index].externo;\r\n\t\t\t\t\t\tnewScripts[index].valor = '';\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoScript.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoScript.scripts[index].tipo}>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion de botones\r\n\r\nfunction Buttons({ nuevoScript, setNuevoScript }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b>Botones</b>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', flexWrap: 'wrap' }}>\r\n\t\t\t\t{nuevoScript.botones &&\r\n\t\t\t\t\tnuevoScript.botones.map((boton, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<small>Opcion {index + 1}</small>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.botones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.botones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.botones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.botones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoScript.botones[index]}></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevoScript.botones\r\n\t\t\t\t\t\t\t? setNuevoScript({ ...nuevoScript, botones: [...nuevoScript.botones, ''] })\r\n\t\t\t\t\t\t\t: setNuevoScript({ ...nuevoScript, botones: [''] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button'\r\n\t\t\t\t\tstyle={{ width: 80, height: 80, marginTop: 10 }}>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la asignacion de funciones\r\n\r\nfunction Functions({ nuevoScript, setNuevoScript, functionesChatbot }) {\r\n\tconst funcionDefault = { nombreFuncion: '', guardarEn: '', parametros: [] };\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\r\n\t\t\t{!nuevoScript.ejecutaFuncion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Funciones que Ejecuta </b>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div>\r\n\t\t\t\t{nuevoScript.ejecutaFuncion &&\r\n\t\t\t\t\tnuevoScript.ejecutaFuncion.map((funcion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10, textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<hr style={{ borderWidth: '2px' }} />\r\n\t\t\t\t\t\t\t\t<h2>Función número {index + 1}</h2>\r\n\t\t\t\t\t\t\t\t<h3>- {funcion.nombreFuncion} -</h3>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst temp = { ...nuevoScript };\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (temp.ejecutaFuncion.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tdelete temp.ejecutaFuncion;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\ttemp.ejecutaFuncion = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...temp.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t...temp.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript(temp);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0px' }}>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Nombre de la función</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{/* <input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...nuevoScript.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoScript.ejecutaFuncion[index].nombreFuncion}></input> */}\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...nuevoScript.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoScript.ejecutaFuncion[index].nombreFuncion}>\r\n\t\t\t\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{functionesChatbot.map((funcion) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={funcion} value={funcion}>\r\n\t\t\t\t\t\t\t\t\t\t\t{funcion}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Parámetros</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{funcion.parametros &&\r\n\t\t\t\t\t\t\t\t\tfuncion.parametros.map((parametro, index2) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index].parametros.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index].parametros.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex2 + 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={nuevoScript.ejecutaFuncion[index].parametros[index2]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index].parametros.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggle_variable(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnuevoScript.ejecutaFuncion[index].parametros[index2]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index].parametros.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex2 + 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='toggle-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ wordWrap: 'unset' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{parametro[0] === '&' ? 'Convertir a constante' : 'Convertir a variable'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst aristaTemp = { ...nuevoScript };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst funcion = aristaTemp.ejecutaFuncion[index];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfuncion.parametros = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...funcion.parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...funcion.parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taristaTemp.ejecutaFuncion[index] = funcion;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoScript(aristaTemp);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoScript({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: nuevoScript.ejecutaFuncion[index].parametros\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? [...nuevoScript.ejecutaFuncion[index].parametros, '']\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: [''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoScript.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='add-button rectangle'>\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevoScript.ejecutaFuncion\r\n\t\t\t\t\t\t\t? setNuevoScript({\r\n\t\t\t\t\t\t\t\t\t...nuevoScript,\r\n\t\t\t\t\t\t\t\t\tejecutaFuncion: [...nuevoScript.ejecutaFuncion, funcionDefault],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: setNuevoScript({ ...nuevoScript, ejecutaFuncion: [funcionDefault] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button square'>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los botones para guardado\r\n\r\nfunction SaveDelete({ nuevoScript, refreshData, setNotification, flagFunctions }) {\r\n\tconst history = useHistory();\r\n\r\n\tfunction saveScript() {\r\n\t\tputScriptNoFlujo(nuevoScript)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetNotification('mScript editado correctamente!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/scripts');\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetNotification('mNo ha sido posible editar el script!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/scripts');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Las validaciones deben de regresar true cuando algo no esta validado\r\n\t// Se valida que se haya escogido un nodo de destino\r\n\tconst nodoDestinoValidation = nuevoScript.nodoDestino === 0;\r\n\r\n\t// Se valida que se haya definido al menos un script de mensaje\r\n\tconst scriptValidation = nuevoScript.scripts.length === 0;\r\n\r\n\t// Se valida que se hayan definido los scripts correctamente\r\n\tconst scriptEmptyValidation = !nuevoScript.scripts.every((script) => script.valor !== '');\r\n\r\n\t// Se valida que no haya funciones con nombres vacios\r\n\tconst functionsValidation = nuevoScript.ejecutaFuncion\r\n\t\t? !nuevoScript.ejecutaFuncion.every((funcion) => funcion.nombreFuncion !== '')\r\n\t\t: false;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={flagFunctions}\r\n\t\t\t\t\tclassName='form-button secondary-button'\r\n\t\t\t\t\tonClick={() => history.push('/scripts')}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={nodoDestinoValidation || scriptValidation || functionsValidation || scriptEmptyValidation}\r\n\t\t\t\t\tonClick={saveScript}\r\n\t\t\t\t\tclassName='form-button primary-button'>\r\n\t\t\t\t\tGuardar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{flagFunctions && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>\r\n\t\t\t\t\t\t* Se ha detectado un cambio en las funciones, es forzoso guardar el script *\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{nodoDestinoValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe especificar el nodo destino *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{scriptValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Debe existir al menos un script *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{scriptEmptyValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen scripts que no se encuentran definidos *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{functionsValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen funciones sin nombre *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst dataTypes = ['texto', 'imagen', 'audio', 'video', 'documento'];\r\n\r\nconst Reminders = ({ recordatorio, archivos, refreshData, setNotification, functionesChatbot, nodos, operacion }) => {\r\n\tconst [nuevoRecordatorio, setNuevoRecordatorio] = useState(recordatorio);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetNuevoRecordatorio(recordatorio);\r\n\t}, [recordatorio]);\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>\r\n\t\t\t\t\t{recordatorio.global ? (\r\n\t\t\t\t\t\trecordatorio.nombre\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<input onChange={(e) => setNuevoRecordatorio({ ...nuevoRecordatorio, nombre: e.target.value })} value={nuevoRecordatorio.nombre} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t{!recordatorio.global && <DestSelection nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} nodos={nodos} />}\r\n\t\t\t\t<Scripts nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} archivos={archivos} />\r\n\t\t\t\t<Buttons nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} />\r\n\t\t\t\t<Conditions nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} />\r\n\t\t\t\t<Functions nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} functionesChatbot={functionesChatbot} />\r\n\t\t\t\t<SaveDelete nuevoRecordatorio={nuevoRecordatorio} operacion={operacion} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Reminders;\r\n\r\nfunction toggle_variable(parametro) {\r\n\tif (parametro[0] === '&') {\r\n\t\tparametro = parametro.slice(1, -1);\r\n\t} else {\r\n\t\tparametro = '&' + parametro + '*';\r\n\t}\r\n\treturn parametro;\r\n}\r\n\r\n//#region Seccion para la seleccion del nodo destino\r\n\r\nfunction DestSelection({ nuevoRecordatorio, setNuevoRecordatorio, nodos }) {\r\n\tconst [listNodos, setListNodos] = useState(nodos);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetListNodos(nodos.filter((infoNodo) => !nuevoRecordatorio.nodos.some((nodo) => nodo === infoNodo.nodo)));\r\n\t}, [nuevoRecordatorio, nodos]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<b>Nodos Asociados</b>\r\n\t\t\t<br />\r\n\t\t\t{nuevoRecordatorio.nodos.map((nodo, indice) => {\r\n\t\t\t\tconst NodoActual = nodos.filter((infoNodo) => infoNodo.nodo === nodo);\r\n\t\t\t\tconst list = NodoActual.concat(listNodos);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<NodoAsociado\r\n\t\t\t\t\t\tkey={indice}\r\n\t\t\t\t\t\tnodo={nodo}\r\n\t\t\t\t\t\tindice={indice}\r\n\t\t\t\t\t\tnodos={list}\r\n\t\t\t\t\t\tsetNuevoRecordatorio={setNuevoRecordatorio}\r\n\t\t\t\t\t\tnuevoRecordatorio={nuevoRecordatorio}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<button\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\tnodos: [...nuevoRecordatorio.nodos, 'none'],\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tstyle={{ width: '230px' }}\r\n\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction NodoAsociado({ nodo, indice, nodos, setNuevoRecordatorio, nuevoRecordatorio }) {\r\n\treturn (\r\n\t\t<div style={{ display: 'inline-block', width: '230px' }}>\r\n\t\t\t<select\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tconst tmp = nuevoRecordatorio.nodos;\r\n\t\t\t\t\ttmp[indice] = Number(e.target.value);\r\n\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\tnodos: tmp,\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={nodo}\r\n\t\t\t>\r\n\t\t\t\t<option key='default' value={'none'}>\r\n\t\t\t\t\tSelecciona un Nodo...\r\n\t\t\t\t</option>\r\n\t\t\t\t{nodos.map((nodo, index) => (\r\n\t\t\t\t\t<option key={index} value={nodo.nodo}>\r\n\t\t\t\t\t\tNodo {nodo.nodo} ({nodo.nombre})\r\n\t\t\t\t\t</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\r\n\t\t\t<button\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tconst tmp = [...nuevoRecordatorio.nodos.slice(0, indice), ...nuevoRecordatorio.nodos.slice(indice + 1)];\r\n\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\tnodos: tmp,\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='remove-button'\r\n\t\t\t\tstyle={{ marginLeft: '20px' }}\r\n\t\t\t>\r\n\t\t\t\tx\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los scripts\r\n\r\nfunction Scripts({ nuevoRecordatorio, setNuevoRecordatorio, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{nuevoRecordatorio.scripts.length === 0 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<hr /> <b>Scripts</b>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{nuevoRecordatorio.scripts &&\r\n\t\t\t\tnuevoRecordatorio.scripts.map((recordatorio, index) => {\r\n\t\t\t\t\t// recordatorio => {tipo:XXXX, valor:XXXX, externo:XXXX}\r\n\t\t\t\t\tswitch (recordatorio.tipo) {\r\n\t\t\t\t\t\tcase 'imagen':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoRecordatorio={nuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio={setNuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.imagenes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'audio':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoRecordatorio={nuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio={setNuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.audios}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'video':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoRecordatorio={nuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio={setNuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.videos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'documento':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tnuevoRecordatorio={nuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio={setNuevoRecordatorio}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.documentos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn <TextScript key={index} index={index} nuevoRecordatorio={nuevoRecordatorio} setNuevoRecordatorio={setNuevoRecordatorio} />;\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t<button\r\n\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\tscripts: [...nuevoRecordatorio.scripts, { tipo: 'texto', valor: '', externo: false }],\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction TextScript({ index, nuevoRecordatorio, setNuevoRecordatorio }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: 'texto', valor: e.target.value, externo: false };\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoRecordatorio.scripts[index].valor}\r\n\t\t\t\t\tstyle={{ width: '60%', height: 64, resize: 'none' }}\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: [...nuevoRecordatorio.scripts.slice(0, index), ...nuevoRecordatorio.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de recordatorio</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoRecordatorio.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MultimediaScript({ index, nuevoRecordatorio, setNuevoRecordatorio, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t{!nuevoRecordatorio.scripts[index].externo ? (\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={nuevoRecordatorio.scripts[index].valor}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{archivos.map((file) => (\r\n\t\t\t\t\t\t\t<option key={file} value={file}>\r\n\t\t\t\t\t\t\t\t{file}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{ marginRight: '15px' }}>URL del archivo:</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\t\tvalue={nuevoRecordatorio.scripts[index].valor}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: [...nuevoRecordatorio.scripts.slice(0, index), ...nuevoRecordatorio.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span>¿El archivo es externo?</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\tchecked={nuevoRecordatorio.scripts[index].externo}\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\tnewScripts[index].externo = !newScripts[index].externo;\r\n\t\t\t\t\t\tnewScripts[index].valor = '';\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de recordatorio</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = nuevoRecordatorio.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={nuevoRecordatorio.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion de botones\r\n\r\nfunction Buttons({ nuevoRecordatorio, setNuevoRecordatorio }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b>Botones</b>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', flexWrap: 'wrap' }}>\r\n\t\t\t\t{nuevoRecordatorio.botones &&\r\n\t\t\t\t\tnuevoRecordatorio.botones.map((boton, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<small>Opcion {index + 1}</small>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...nuevoRecordatorio.botones.slice(0, index), ...nuevoRecordatorio.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...nuevoRecordatorio.botones.slice(0, index), e.target.value, ...nuevoRecordatorio.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoRecordatorio.botones[index]}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevoRecordatorio.botones\r\n\t\t\t\t\t\t\t? setNuevoRecordatorio({ ...nuevoRecordatorio, botones: [...nuevoRecordatorio.botones, ''] })\r\n\t\t\t\t\t\t\t: setNuevoRecordatorio({ ...nuevoRecordatorio, botones: [''] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button'\r\n\t\t\t\t\tstyle={{ width: 80, height: 80, marginTop: 10 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion y eliminacion de condiciones\r\n\r\nfunction Conditions({ nuevoRecordatorio, setNuevoRecordatorio }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b style={{ marginRight: 20 }}>Condiciones</b>\r\n\t\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t\t<h5>¿Deseas habilitar el recordatorio?</h5>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\tchecked={nuevoRecordatorio.habilitado}\r\n\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\thabilitado: !nuevoRecordatorio.habilitado,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t\t<h5>¿Cuántas veces se le debe recordar al usuario?</h5>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\tmin='-1'\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tif (e.target.value < -1) {\r\n\t\t\t\t\t\t\t\tsetNuevoRecordatorio({ ...nuevoRecordatorio, numeroRecordatorios: -1 });\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetNuevoRecordatorio({ ...nuevoRecordatorio, numeroRecordatorios: Number(e.target.value) });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={nuevoRecordatorio.numeroRecordatorios}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t{nuevoRecordatorio.numeroRecordatorios === 0 && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span style={{ fontSize: '12px', color: 'orange' }}>\r\n\t\t\t\t\t\t\t\t* Asignar el número cero no se tomará en cuenta, se le enviará al usuario el recordatorio al menos una vez. Si desea deshabilitar el\r\n\t\t\t\t\t\t\t\trecordatorio, por favor use la opción correspondiente *\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{nuevoRecordatorio.numeroRecordatorios === -1 && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span style={{ fontSize: '12px', color: 'orange' }}>\r\n\t\t\t\t\t\t\t\t* Asignar el valor \"-1\" a esta opción indicará al robot que se envíe el recordatorio infinitamente hasta que el usuario reanude su\r\n\t\t\t\t\t\t\t\tconversación *\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t\t<h5>¿Cuántos minutos debe esperar el robot para mandar el recordatorio?</h5>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\tmin='1'\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tif (e.target.value < 1) {\r\n\t\t\t\t\t\t\t\tsetNuevoRecordatorio({ ...nuevoRecordatorio, tiempoEspera: 1 });\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetNuevoRecordatorio({ ...nuevoRecordatorio, tiempoEspera: Number(e.target.value) });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={nuevoRecordatorio.tiempoEspera}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la asignacion de funciones\r\n\r\nfunction Functions({ nuevoRecordatorio, setNuevoRecordatorio, functionesChatbot }) {\r\n\tconst funcionDefault = { nombreFuncion: '', guardarEn: '', parametros: [] };\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\r\n\t\t\t{!(nuevoRecordatorio.ejecutaFuncion && nuevoRecordatorio.ejecutaFuncion.length > 0) && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Funciones que Ejecuta </b>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div>\r\n\t\t\t\t{nuevoRecordatorio.ejecutaFuncion &&\r\n\t\t\t\t\tnuevoRecordatorio.ejecutaFuncion.map((funcion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10, textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<hr style={{ borderWidth: '2px' }} />\r\n\t\t\t\t\t\t\t\t<h2>Función número {index + 1}</h2>\r\n\t\t\t\t\t\t\t\t<h3>- {funcion.nombreFuncion} -</h3>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst temp = { ...nuevoRecordatorio };\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (temp.ejecutaFuncion.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tdelete temp.ejecutaFuncion;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\ttemp.ejecutaFuncion = [...temp.ejecutaFuncion.slice(0, index), ...temp.ejecutaFuncion.slice(index + 1)];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio(temp);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Nombre de la función</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{/* <input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...nuevoRecordatorio.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoRecordatorio.ejecutaFuncion[index].nombreFuncion}></input> */}\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...nuevoRecordatorio.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={nuevoRecordatorio.ejecutaFuncion[index].nombreFuncion}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{functionesChatbot.map((funcion) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={funcion} value={funcion}>\r\n\t\t\t\t\t\t\t\t\t\t\t{funcion}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Parámetros</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{funcion.parametros &&\r\n\t\t\t\t\t\t\t\t\tfuncion.parametros.map((parametro, index2) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={nuevoRecordatorio.ejecutaFuncion[index].parametros[index2]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggle_variable(nuevoRecordatorio.ejecutaFuncion[index].parametros[index2]),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='toggle-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ wordWrap: 'unset' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{parametro[0] === '&' ? 'Convertir a constante' : 'Convertir a variable'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst aristaTemp = { ...nuevoRecordatorio };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst funcion = aristaTemp.ejecutaFuncion[index];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfuncion.parametros = [...funcion.parametros.slice(0, index2), ...funcion.parametros.slice(index2 + 1)];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taristaTemp.ejecutaFuncion[index] = funcion;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio(aristaTemp);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: nuevoRecordatorio.ejecutaFuncion[index].parametros\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? [...nuevoRecordatorio.ejecutaFuncion[index].parametros, '']\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: [''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...nuevoRecordatorio.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tnuevoRecordatorio.ejecutaFuncion\r\n\t\t\t\t\t\t\t? setNuevoRecordatorio({\r\n\t\t\t\t\t\t\t\t\t...nuevoRecordatorio,\r\n\t\t\t\t\t\t\t\t\tejecutaFuncion: [...nuevoRecordatorio.ejecutaFuncion, funcionDefault],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: setNuevoRecordatorio({ ...nuevoRecordatorio, ejecutaFuncion: [funcionDefault] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button square'\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los botones para guardado\r\n\r\nfunction SaveDelete({ nuevoRecordatorio, operacion }) {\r\n\tconst history = useHistory();\r\n\r\n\t// Las validaciones deben de regresar true cuando algo no esta validado\r\n\r\n\t// Se valida que se haya asociado al menos a un nodo\r\n\tconst nombreValidation = nuevoRecordatorio.nombre === '';\r\n\r\n\t// Se valida que se haya asociado al menos a un nodo\r\n\tconst nodoAsociadoValidation = !nuevoRecordatorio.global && nuevoRecordatorio.nodos.length === 0;\r\n\r\n\t// Se valida que los nodos asociados sean validos\r\n\tconst nodoAsociadoValidation2 = !nuevoRecordatorio.global && nuevoRecordatorio.nodos.some((nodo) => nodo === 'none');\r\n\r\n\t// Se valida que se haya definido al menos un script de mensaje\r\n\tconst recordatorioValidation = nuevoRecordatorio.scripts.length === 0;\r\n\r\n\t// Se valida que se hayan definido los scripts correctamente\r\n\tconst recordatorioEmptyValidation = !nuevoRecordatorio.scripts.every((recordatorio) => recordatorio.valor !== '');\r\n\r\n\t// Se valida que no haya funciones con nombres vacios\r\n\tconst functionsValidation = nuevoRecordatorio.ejecutaFuncion ? !nuevoRecordatorio.ejecutaFuncion.every((funcion) => funcion.nombreFuncion !== '') : false;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t<button className='form-button secondary-button' onClick={() => history.push('/scripts')}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tnombreValidation ||\r\n\t\t\t\t\t\tnodoAsociadoValidation ||\r\n\t\t\t\t\t\tnodoAsociadoValidation2 ||\r\n\t\t\t\t\t\trecordatorioValidation ||\r\n\t\t\t\t\t\tfunctionsValidation ||\r\n\t\t\t\t\t\trecordatorioEmptyValidation\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\toperacion(nuevoRecordatorio);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='form-button primary-button'\r\n\t\t\t\t>\r\n\t\t\t\t\tGuardar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{nombreValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe especificar un nombre *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{nodoAsociadoValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe asociar al menos un nodo *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{nodoAsociadoValidation2 && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existe uno o más nodos asociados inválidos *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{recordatorioValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Debe existir al menos un script *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{recordatorioEmptyValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen scripts que no se encuentran definidos *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{functionsValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen funciones sin nombre *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { putRecordatorio } from '../../routing/routes';\r\nimport LoadingGIF from '../assets/loading.gif';\r\nimport Reminders from './RemindersComponent';\r\n\r\nconst ModifyReminders = ({ recordatorios, archivos, functionesChatbot, refreshData, setNotification, nodos }) => {\r\n\tconst { id } = useParams();\r\n\tconst [recordatorio, setRecordatorio] = useState(null);\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (recordatorios) {\r\n\t\t\tconst { global, genericos } = recordatorios;\r\n\t\t\tif (global && global._id === id) {\r\n\t\t\t\tsetRecordatorio(global);\r\n\t\t\t} else {\r\n\t\t\t\tsetRecordatorio(genericos.find((recordatorio) => recordatorio._id === id));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [recordatorios, id]);\r\n\r\n\tfunction saveRecordatorio(nuevoRecordatorio) {\r\n\t\tconst tmp = { ...nuevoRecordatorio };\r\n\t\tdelete tmp._id;\r\n\t\tputRecordatorio(nuevoRecordatorio._id, tmp)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetNotification('mrecordatorio editado correctamente!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/recordatorios');\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetNotification('mNo ha sido posible editar el recordatorio!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/recordatorios');\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (recordatorio) {\r\n\t\treturn (\r\n\t\t\t<Reminders\r\n\t\t\t\trecordatorio={recordatorio}\r\n\t\t\t\tarchivos={archivos}\r\n\t\t\t\trefreshData={refreshData}\r\n\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\tnodos={nodos}\r\n\t\t\t\toperacion={saveRecordatorio}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>CARGANDO...</h3>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img style={{ height: '200px', width: '200px' }} src={LoadingGIF} alt={'Cargando'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default ModifyReminders;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { postRecordatorio } from '../../routing/routes';\r\nimport LoadingGIF from '../assets/loading.gif';\r\nimport Reminders from './RemindersComponent';\r\n\r\nconst CreateReminders = ({ archivos, functionesChatbot, refreshData, setNotification, nodos }) => {\r\n\tconst history = useHistory();\r\n\r\n\tfunction createRecordatorio(nuevoRecordatorio) {\r\n\t\tconst tmp = { ...nuevoRecordatorio };\r\n\t\tpostRecordatorio(tmp)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetNotification('mrecordatorio creado correctamente!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/recordatorios');\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetNotification('eNo ha sido posible crear el recordatorio!');\r\n\t\t\t\trefreshData();\r\n\t\t\t\thistory.push('/recordatorios');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst recordatorio = {\r\n\t\thabilitado: false,\r\n\t\tglobal: false,\r\n\t\tnodos: [],\r\n\t\tnumeroRecordatorios: 1,\r\n\t\ttiempoEspera: 1,\r\n\t\tscripts: [],\r\n\t\tnombre: '',\r\n\t\tbotones: [],\r\n\t};\r\n\r\n\tif (recordatorio) {\r\n\t\treturn (\r\n\t\t\t<Reminders\r\n\t\t\t\trecordatorio={recordatorio}\r\n\t\t\t\tarchivos={archivos}\r\n\t\t\t\trefreshData={refreshData}\r\n\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\tnodos={nodos}\r\n\t\t\t\toperacion={createRecordatorio}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: '100px 0px' }}>\r\n\t\t\t\t<h3 style={{ textAlign: 'center' }}>CARGANDO...</h3>\r\n\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img style={{ height: '200px', width: '200px' }} src={LoadingGIF} alt={'Cargando'} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default CreateReminders;\r\n","import React, { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { deleteGramaticaDebil, deleteGramaticaFuerte } from './../../routing/routes';\r\n\r\nconst Gramaticas = ({ gramaticas, permisos, setNotification, refreshData }) => {\r\n\tconst [mode, setMode] = useState(true);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='tabMenu' style={{ marginTop: 20, marginBottom: 15 }}>\r\n\t\t\t\t<div onClick={() => setMode(true)} style={{ paddingTop: 5, paddingBottom: 5 }} className={mode ? 'tabChild tabChild-selected' : 'tabChild'}>\r\n\t\t\t\t\tFuertes\r\n\t\t\t\t</div>\r\n\t\t\t\t<div onClick={() => setMode(false)} style={{ paddingTop: 5, paddingBottom: 5 }} className={!mode ? 'tabChild tabChild-selected' : 'tabChild'}>\r\n\t\t\t\t\tDébiles\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<h1 style={{ textAlign: 'center', marginTop: 0 }}>Gramáticas {mode ? 'Fuertes' : 'Débiles'}</h1>\r\n\t\t\t{mode ? (\r\n\t\t\t\t<GramaticasFuertesTable gramaticas={gramaticas.fuertes} permisos={permisos} setNotification={setNotification} refreshData={refreshData} />\r\n\t\t\t) : (\r\n\t\t\t\t<GramaticasDebilesTable gramaticas={gramaticas.debiles} permisos={permisos} setNotification={setNotification} refreshData={refreshData} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst GramaticasDebilesTable = ({ gramaticas, permisos, setNotification, refreshData }) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t{permisos.crearGramaticasDebiles && (\r\n\t\t\t\t<Link to='/gramaticas/new/debil'>\r\n\t\t\t\t\t<button className='floatingButton'>+</button>\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t{gramaticas.map((grama) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div style={{ position: 'relative' }} key={grama.nombre}>\r\n\t\t\t\t\t\t<div className={'intent'} onClick={() => permisos.modificarGramaticasDebiles && history.push('/gramaticas/edit/debil/' + grama._id)}>\r\n\t\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{grama.nombre}</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{permisos.eliminarGramaticasDebiles && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tdeleteGramaticaDebil(grama._id)\r\n\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\t\t\t\tsetNotification('mGramática débil borrada correctamente');\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetNotification('eNo se ha podido borrar la gramática débil');\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName='floatingButtonDelete'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst GramaticasFuertesTable = ({ gramaticas, permisos, setNotification, refreshData }) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t{permisos.crearGramaticasFuertes && (\r\n\t\t\t\t<Link to='/gramaticas/new/fuerte'>\r\n\t\t\t\t\t<button className='floatingButton'>+</button>\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t{gramaticas.map((grama) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div style={{ position: 'relative' }} key={grama.nombre}>\r\n\t\t\t\t\t\t<div className={'intent'} onClick={() => permisos.modificarGramaticasFuertes && history.push('/gramaticas/edit/fuerte/' + grama._id)}>\r\n\t\t\t\t\t\t\t<h2 style={{ margin: 0, marginLeft: 30 }}>{grama.nombre}</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{permisos.eliminarGramaticaFuertes && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tdeleteGramaticaFuerte(grama._id)\r\n\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\t\t\t\tsetNotification('mGramática fuerte borrada correctamente');\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetNotification('eNo se ha podido borrar la gramática fuerte');\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName='floatingButtonDelete'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Gramaticas;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst dataTypes = ['texto', 'imagen', 'audio', 'video', 'documento'];\r\n\r\nconst GramaticaForm = ({ gramatica, type, guardaGramatica, nodos, archivos, functionesChatbot }) => {\r\n\tconst [editableGramatica, setEditableGramatica] = useState(gramatica.arista);\r\n\tconst [title, setTitle] = useState(gramatica.nombre);\r\n\tconst [flagFunctions, setFlagFunctions] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (type === 'fuerte' && !title) {\r\n\t\t\tsetEditableGramatica({ ...editableGramatica, nodoDestino: 0 });\r\n\t\t} else if (type === 'debil' && !title) {\r\n\t\t\tconst temp = editableGramatica;\r\n\t\t\tdelete temp.nodoDestino;\r\n\t\t\tsetEditableGramatica(temp);\r\n\t\t}\r\n\t}, [title, type]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (editableGramatica.ejecutaFuncion && editableGramatica.ejecutaFuncion.length) {\r\n\t\t\tconst temp = { ...editableGramatica };\r\n\t\t\tlet flag = false;\r\n\t\t\ttemp.ejecutaFuncion = temp.ejecutaFuncion.map((funcion) => {\r\n\t\t\t\tif (functionesChatbot.includes(funcion.nombreFuncion)) {\r\n\t\t\t\t\treturn funcion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfuncion.nombreFuncion = '';\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\treturn funcion;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetFlagFunctions(flag);\r\n\t\t\tsetEditableGramatica(temp);\r\n\t\t}\r\n\t}, [functionesChatbot]);\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<Title title={title} setTitle={setTitle} />\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t{type === 'fuerte' && <DestSelection editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} nodos={nodos} />}\r\n\t\t\t\t<Scripts editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} archivos={archivos} />\r\n\t\t\t\t<Buttons editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} />\r\n\t\t\t\t<Conditions editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} />\r\n\t\t\t\t<Functions editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} functionesChatbot={functionesChatbot} />\r\n\t\t\t\t<SaveDelete\r\n\t\t\t\t\teditableGramatica={editableGramatica}\r\n\t\t\t\t\tgramatica={gramatica}\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tguardaGramatica={guardaGramatica}\r\n\t\t\t\t\tflagFunctions={flagFunctions}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GramaticaForm;\r\n\r\nfunction toggle_variable(parametro) {\r\n\tif (parametro[0] === '&') {\r\n\t\tparametro = parametro.slice(1, -1);\r\n\t} else {\r\n\t\tparametro = '&' + parametro + '*';\r\n\t}\r\n\treturn parametro;\r\n}\r\n\r\n//#region Seccion de titulo, para almacenamiento de la gramatica\r\n\r\nfunction Title({ title, setTitle }) {\r\n\treturn (\r\n\t\t<div align='right'>\r\n\t\t\t<div className='taby'>\r\n\t\t\t\t<input onChange={(e) => setTitle(e.target.value)} value={title} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la seleccion del nodo de destino\r\nfunction DestSelection({ editableGramatica, setEditableGramatica, nodos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<b style={{ marginRight: 10 }}>Al nodo: </b>\r\n\t\t\t<select onChange={(e) => setEditableGramatica({ ...editableGramatica, nodoDestino: Number(e.target.value) })} value={editableGramatica.nodoDestino}>\r\n\t\t\t\t<option key='default' value={0}>\r\n\t\t\t\t\tSelecciona un Nodo...\r\n\t\t\t\t</option>\r\n\t\t\t\t{nodos.map((nodo) => (\r\n\t\t\t\t\t<option key={nodo.nodo} value={nodo.nodo}>\r\n\t\t\t\t\t\tNodo {nodo.nodo} ({nodo.nombre})\r\n\t\t\t\t\t</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n}\r\n//#endregion\r\n\r\n//#region Seccion de los scripts\r\n\r\nfunction Scripts({ editableGramatica, setEditableGramatica, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{editableGramatica.scripts &&\r\n\t\t\t\teditableGramatica.scripts.map((script, index) => {\r\n\t\t\t\t\t// script => {tipo:XXXX, valor:XXXX, externo:XXXX}\r\n\t\t\t\t\tswitch (script.tipo) {\r\n\t\t\t\t\t\tcase 'imagen':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\teditableGramatica={editableGramatica}\r\n\t\t\t\t\t\t\t\t\tsetEditableGramatica={setEditableGramatica}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.imagenes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'audio':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\teditableGramatica={editableGramatica}\r\n\t\t\t\t\t\t\t\t\tsetEditableGramatica={setEditableGramatica}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.audios}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'video':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\teditableGramatica={editableGramatica}\r\n\t\t\t\t\t\t\t\t\tsetEditableGramatica={setEditableGramatica}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.videos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tcase 'documento':\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MultimediaScript\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\teditableGramatica={editableGramatica}\r\n\t\t\t\t\t\t\t\t\tsetEditableGramatica={setEditableGramatica}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos.documentos}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn <TextScript key={index} index={index} editableGramatica={editableGramatica} setEditableGramatica={setEditableGramatica} />;\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t<button\r\n\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\tscripts: [...editableGramatica.scripts, { tipo: 'texto', valor: '', externo: false }],\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t+\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction TextScript({ index, editableGramatica, setEditableGramatica }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: 'texto', valor: e.target.value, externo: false };\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={editableGramatica.scripts[index].valor}\r\n\t\t\t\t\tstyle={{ width: '60%', height: 64, resize: 'none' }}\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: [...editableGramatica.scripts.slice(0, index), ...editableGramatica.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={editableGramatica.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MultimediaScript({ index, editableGramatica, setEditableGramatica, archivos }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<hr />\r\n\t\t\t<b>Script {index + 1}</b>\r\n\t\t\t<br />\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t{!editableGramatica.scripts[index].externo ? (\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={editableGramatica.scripts[index].valor}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{archivos.map((file) => (\r\n\t\t\t\t\t\t\t<option key={file} value={file}>\r\n\t\t\t\t\t\t\t\t{file}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{ marginRight: '15px' }}>URL del archivo:</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\t\tvalue={editableGramatica.scripts[index].valor}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\t\t\tnewScripts[index].valor = e.target.value;\r\n\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: [...editableGramatica.scripts.slice(0, index), ...editableGramatica.scripts.slice(index + 1)],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\tstyle={{ position: 'absolute' }}\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span>¿El archivo es externo?</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\tchecked={editableGramatica.scripts[index].externo}\r\n\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\tnewScripts[index].externo = !newScripts[index].externo;\r\n\t\t\t\t\t\tnewScripts[index].valor = '';\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: '10px' }}>\r\n\t\t\t\t<span style={{ marginRight: '5px' }}>Tipo de script</span>\r\n\t\t\t\t<select\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst newScripts = editableGramatica.scripts;\r\n\t\t\t\t\t\tnewScripts[index] = { tipo: e.target.value, valor: '', externo: false };\r\n\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\tscripts: newScripts,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={editableGramatica.scripts[index].tipo}\r\n\t\t\t\t>\r\n\t\t\t\t\t{dataTypes.map((type) => (\r\n\t\t\t\t\t\t<option key={type} value={type}>\r\n\t\t\t\t\t\t\t{type}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la creacion de botones\r\nfunction Buttons({ editableGramatica, setEditableGramatica }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b>Botones</b>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', flexWrap: 'wrap' }}>\r\n\t\t\t\t{editableGramatica.botones &&\r\n\t\t\t\t\teditableGramatica.botones.map((boton, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<small>Opcion {index + 1}</small>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...editableGramatica.botones.slice(0, index), ...editableGramatica.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tbotones: [...editableGramatica.botones.slice(0, index), e.target.value, ...editableGramatica.botones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={editableGramatica.botones[index]}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\teditableGramatica.botones\r\n\t\t\t\t\t\t\t? setEditableGramatica({ ...editableGramatica, botones: [...editableGramatica.botones, ''] })\r\n\t\t\t\t\t\t\t: setEditableGramatica({ ...editableGramatica, botones: [''] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button'\r\n\t\t\t\t\tstyle={{ width: 80, height: 80, marginTop: 10 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n//#endregion\r\n\r\n//#region Seccion para la creacion y eliminacion de condiciones\r\n\r\nfunction Conditions({ editableGramatica, setEditableGramatica }) {\r\n\tconst condicionesDefaultObj = {\r\n\t\tintent: { esIntent: true, nombreIE: 'intent', condicional: '', valor: '' },\r\n\t\tentity: { esIntent: false, nombreIE: '', condicional: '', valor: '' },\r\n\t\tvariable: { variable: '', condicional: '', valor: '' },\r\n\t};\r\n\r\n\tconst [creandoCondicion, setCreandoCondicion] = useState(false);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\t\t\t<div>\r\n\t\t\t\t<b style={{ marginRight: 20 }}>Condiciones</b>\r\n\t\t\t\t{editableGramatica.condiciones && editableGramatica.condiciones.length > 1 && (\r\n\t\t\t\t\t<div style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t<small>Relación: </small>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder='Ej: * AND *'\r\n\t\t\t\t\t\t\tonChange={(e) => setEditableGramatica({ ...editableGramatica, operacion: e.target.value })}\r\n\t\t\t\t\t\t\tvalue={editableGramatica.operacion}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', flexWrap: 'wrap' }}>\r\n\t\t\t\t{editableGramatica.condiciones &&\r\n\t\t\t\t\teditableGramatica.condiciones.map((condicion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10 }}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [...editableGramatica.condiciones.slice(0, index), ...editableGramatica.condiciones.slice(index + 1)],\r\n\t\t\t\t\t\t\t\t\t\t\toperacion: editableGramatica.condiciones.length <= 2 ? '' : editableGramatica.operacion,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '65px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{condicion.variable !== undefined && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<small>Variable</small>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.condiciones[index], variable: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={editableGramatica.condiciones[index].variable}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{condicion.esIntent === false && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<small>Nombre Entity</small>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.condiciones[index], nombreIE: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={editableGramatica.condiciones[index].nombreIE}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<small>Condicional</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.condiciones[index], condicional: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={editableGramatica.condiciones[index].condicional}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option key='default' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona una condición\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='==' value='=='>\r\n\t\t\t\t\t\t\t\t\t\tIgual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='!=' value='!='>\r\n\t\t\t\t\t\t\t\t\t\tDiferente a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='<' value='<'>\r\n\t\t\t\t\t\t\t\t\t\tMenor a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='<=' value='<='>\r\n\t\t\t\t\t\t\t\t\t\tMenor o igual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='>' value='>'>\r\n\t\t\t\t\t\t\t\t\t\tMayor a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key='>=' value='>='>\r\n\t\t\t\t\t\t\t\t\t\tMayor o igual a\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\tValor <b>{condicion.variable !== undefined ? 'Variable' : condicion.esIntent ? 'Intent' : 'Entity'}</b>\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tcondiciones: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.condiciones[index], valor: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.condiciones.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={editableGramatica.condiciones[index].valor}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t{creandoCondicion ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.intent)} className='toggle-button'>\r\n\t\t\t\t\t\t\tIntent\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.entity)} className='toggle-button'>\r\n\t\t\t\t\t\t\tEntity\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<button onClick={() => addCondicion(condicionesDefaultObj.variable)} className='toggle-button'>\r\n\t\t\t\t\t\t\tVariable\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button onClick={() => setCreandoCondicion(true)} className='add-button square'>\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tfunction addCondicion(nuevaCond) {\r\n\t\tif (editableGramatica.condiciones) {\r\n\t\t\tsetEditableGramatica({ ...editableGramatica, condiciones: [...editableGramatica.condiciones, nuevaCond] });\r\n\t\t} else {\r\n\t\t\tsetEditableGramatica({ ...editableGramatica, condiciones: [nuevaCond] });\r\n\t\t}\r\n\t\tsetCreandoCondicion(false);\r\n\t}\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion para la asignacion de funciones\r\n\r\nfunction Functions({ editableGramatica, setEditableGramatica, functionesChatbot }) {\r\n\tconst funcionDefault = { nombreFuncion: '', guardarEn: '', parametros: [] };\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<br />\r\n\t\t\t<hr />\r\n\r\n\t\t\t{!editableGramatica.ejecutaFuncion && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Funciones que Ejecuta </b>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div>\r\n\t\t\t\t{editableGramatica.ejecutaFuncion &&\r\n\t\t\t\t\teditableGramatica.ejecutaFuncion.map((funcion, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} style={{ margin: 10, textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<hr style={{ borderWidth: '2px' }} />\r\n\t\t\t\t\t\t\t\t<h2>Función número {index + 1}</h2>\r\n\t\t\t\t\t\t\t\t<h3>- {funcion.nombreFuncion} -</h3>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst temp = { ...editableGramatica };\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (temp.ejecutaFuncion.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tdelete temp.ejecutaFuncion;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\ttemp.ejecutaFuncion = [...temp.ejecutaFuncion.slice(0, index), ...temp.ejecutaFuncion.slice(index + 1)];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica(temp);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Nombre de la función</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{/* <input\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={editableGramatica.ejecutaFuncion[index].nombreFuncion}></input> */}\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...editableGramatica.ejecutaFuncion[index], nombreFuncion: e.target.value },\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={editableGramatica.ejecutaFuncion[index].nombreFuncion}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\t\t\t\t\tSelecciona un archivo\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{functionesChatbot.map((funcion) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={funcion} value={funcion}>\r\n\t\t\t\t\t\t\t\t\t\t\t{funcion}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<small>Parámetros</small>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{funcion.parametros &&\r\n\t\t\t\t\t\t\t\t\tfuncion.parametros.map((parametro, index2) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={editableGramatica.ejecutaFuncion[index].parametros[index2]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index].parametros.slice(0, index2),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggle_variable(editableGramatica.ejecutaFuncion[index].parametros[index2]),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index].parametros.slice(index2 + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='toggle-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ wordWrap: 'unset' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{parametro[0] === '&' ? 'Convertir a constante' : 'Convertir a variable'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst aristaTemp = { ...editableGramatica };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst funcion = aristaTemp.ejecutaFuncion[index];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfuncion.parametros = [...funcion.parametros.slice(0, index2), ...funcion.parametros.slice(index2 + 1)];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taristaTemp.ejecutaFuncion[index] = funcion;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditableGramatica(aristaTemp);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\t\t\tejecutaFuncion: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(0, index),\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparametros: editableGramatica.ejecutaFuncion[index].parametros\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? [...editableGramatica.ejecutaFuncion[index].parametros, '']\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: [''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t...editableGramatica.ejecutaFuncion.slice(index + 1),\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='add-button rectangle'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\teditableGramatica.ejecutaFuncion\r\n\t\t\t\t\t\t\t? setEditableGramatica({\r\n\t\t\t\t\t\t\t\t\t...editableGramatica,\r\n\t\t\t\t\t\t\t\t\tejecutaFuncion: [...editableGramatica.ejecutaFuncion, funcionDefault],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: setEditableGramatica({ ...editableGramatica, ejecutaFuncion: [funcionDefault] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName='add-button square'\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Seccion de los botones para guardado\r\n\r\nfunction SaveDelete({ editableGramatica, gramatica, title, guardaGramatica, flagFunctions }) {\r\n\tconst history = useHistory();\r\n\r\n\t// Las validaciones deben de regresar true cuando algo no esta validado\r\n\r\n\t// Se valida que se haya especificado un titulo a la gramatica\r\n\tconst titleValidation = title ? false : true;\r\n\r\n\t// Se valida que se haya escogido un nodo de destino\r\n\tconst nodoDestinoValidation = editableGramatica.nodoDestino === 0;\r\n\r\n\t// Se valida que se haya definido al menos un script de mensaje\r\n\tconst scriptValidation = editableGramatica.scripts.length === 0;\r\n\r\n\t// Se valida que se hayan definido los scripts correctamente\r\n\tconst scriptEmptyValidation = !editableGramatica.scripts.every((script) => script.valor !== '');\r\n\r\n\t// Se valida que no haya funciones con nombres vacios\r\n\tconst functionsValidation = editableGramatica.ejecutaFuncion ? !editableGramatica.ejecutaFuncion.every((funcion) => funcion.nombreFuncion !== '') : false;\r\n\r\n\t// Se valida que la operacion entre condiciones sea congruente\r\n\tlet operationValidation;\r\n\tif (editableGramatica.condiciones.length > 1) {\r\n\t\toperationValidation = editableGramatica.operacion.match(/\\*/gi)\r\n\t\t\t? editableGramatica.operacion.match(/\\*/gi).length !== editableGramatica.condiciones.length\r\n\t\t\t: true;\r\n\t} else {\r\n\t\toperationValidation = false;\r\n\t}\r\n\r\n\t// Se valida que no haya condiciones con parámetros vacíos\r\n\tconst condicionalValidation =\r\n\t\teditableGramatica.condiciones.length === 0 ||\r\n\t\t(editableGramatica.condiciones &&\r\n\t\t\t!editableGramatica.condiciones.every(\r\n\t\t\t\t(condicion) => condicion.condicional !== '' && condicion.nombreIE !== '' && condicion.valor !== '' && condicion.variable !== ''\r\n\t\t\t));\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t<button disabled={flagFunctions} className='form-button secondary-button' onClick={() => history.push('/gramaticas')}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tnodoDestinoValidation ||\r\n\t\t\t\t\t\tscriptValidation ||\r\n\t\t\t\t\t\tcondicionalValidation ||\r\n\t\t\t\t\t\toperationValidation ||\r\n\t\t\t\t\t\tfunctionsValidation ||\r\n\t\t\t\t\t\tscriptEmptyValidation ||\r\n\t\t\t\t\t\ttitleValidation\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => guardaGramatica({ nombre: title, arista: editableGramatica, _id: gramatica._id })}\r\n\t\t\t\t\tclassName='form-button primary-button'\r\n\t\t\t\t>\r\n\t\t\t\t\tGuardar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{flagFunctions && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se ha detectado un cambio en las funciones, es forzoso guardar la gramática *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{titleValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe especificar el titulo de la gramática *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{nodoDestinoValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Se debe especificar el nodo destino *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{scriptValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Debe existir al menos un script *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{scriptEmptyValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen scripts que no se encuentran definidos *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{operationValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* El numero de asteriscos no coincide con el número de condiciones *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{condicionalValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen condiciones sin definir *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{functionsValidation && (\r\n\t\t\t\t<div align='right'>\r\n\t\t\t\t\t<span style={{ fontSize: '12px', color: 'red' }}>* Existen funciones sin nombre *</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//#endregion\r\n","import React from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport GramaticaForm from './GramaticaFormComponent';\r\nimport { putGramaticaFuerte, putGramaticaDebil } from '../../routing/routes';\r\n\r\nconst EditGramatica = ({ gramaticas, nodos, notify, refreshData, archivos, functionesChatbot, type }) => {\r\n\tconst { id } = useParams();\r\n\tconst history = useHistory();\r\n\tconst gramatica =\r\n\t\ttype === 'fuerte'\r\n\t\t\t? gramaticas.fuertes.find((gramatica) => gramatica._id === id)\r\n\t\t\t: gramaticas.debiles.find((gramatica) => gramatica._id === id);\r\n\tif (!gramatica) return <h3 style={{ textAlign: 'center' }}>Loading...</h3>;\r\n\treturn (\r\n\t\t<GramaticaForm\r\n\t\t\tgramatica={gramatica}\r\n\t\t\ttype={type}\r\n\t\t\tarchivos={archivos}\r\n\t\t\tguardaGramatica={save}\r\n\t\t\tnodos={nodos}\r\n\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t/>\r\n\t);\r\n\r\n\tfunction save(gramatica) {\r\n\t\tconst data = { gramatica: gramatica };\r\n\t\tif (type === 'fuerte') {\r\n\t\t\tputGramaticaFuerte(data).then(() => {\r\n\t\t\t\tnotify('mGramatica actualizada');\r\n\t\t\t\thistory.push('/gramaticas');\r\n\t\t\t\tsetTimeout(refreshData, 100);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tputGramaticaDebil(data).then(() => {\r\n\t\t\t\tnotify('mGramatica actualizada');\r\n\t\t\t\thistory.push('/gramaticas');\r\n\t\t\t\tsetTimeout(refreshData, 100);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default EditGramatica;\r\n","import React from 'react';\r\nimport {useHistory } from 'react-router-dom';\r\nimport GramaticaForm from './GramaticaFormComponent';\r\nimport { postGramaticaFuerte, postGramaticaDebil } from '../../routing/routes';\r\n\r\nconst gramaticaDefault = {\r\n\tnombre: '',\r\n\tarista: { operacion: '', scripts: [], condiciones: [] },\r\n};\r\n\r\nconst CreateGramatica = ({ nodos, notify, archivos, refreshData, functionesChatbot, type }) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<GramaticaForm\r\n\t\t\tgramatica={gramaticaDefault}\r\n\t\t\ttype={type}\r\n\t\t\tguardaGramatica={save}\r\n\t\t\tnodos={nodos}\r\n\t\t\tarchivos={archivos}\r\n\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t/>\r\n\t);\r\n\r\n\tfunction save(gramatica) {\r\n\t\tdelete gramatica._id;\r\n\t\tconst data = { gramatica: gramatica };\r\n\t\tif (type === 'fuerte') {\r\n\t\t\tpostGramaticaFuerte(data)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tnotify('mGramatica actualizada');\r\n\t\t\t\t\thistory.push('/gramaticas');\r\n\t\t\t\t\tsetTimeout(refreshData, 100);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tnotify('eError al actualizar la gramática...');\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tpostGramaticaDebil(data).then(() => {\r\n\t\t\t\tnotify('mGramatica actualizada');\r\n\t\t\t\thistory.push('/gramaticas');\r\n\t\t\t\tsetTimeout(refreshData, 100);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default CreateGramatica;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { deleteUser } from '../../routing/routes';\r\n\r\nconst ListUsers = ({ users, user, permisos, setNotification, refreshData }) => {\r\n\tconst history = useHistory();\r\n\tconst [localUsers, setLocalUsers] = useState(users.filter((x) => x._id !== user._id));\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLocalUsers(users.filter((x) => x._id !== user._id));\r\n\t}, [users, user]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2 style={{ textAlign: 'center' }}> Usuario Actual </h2>\r\n\t\t\t\t<hr style={{ width: '50%', marginBottom: '20px' }} />\r\n\t\t\t\t<div align='center'>\r\n\t\t\t\t\t<h3\r\n\t\t\t\t\t\tclassName='usersList'\r\n\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push('/users/edit/' + user._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{user.username}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h2 style={{ textAlign: 'center' }}> Usuarios Registrados </h2>\r\n\t\t\t\t<hr style={{ width: '50%', marginBottom: '20px' }} />\r\n\t\t\t\t{localUsers.map((data) => (\r\n\t\t\t\t\t<UserVisualizer\r\n\t\t\t\t\t\tuser_data={data}\r\n\t\t\t\t\t\tkey={data.username}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tpermisos={permisos}\r\n\t\t\t\t\t\tsetNotification={setNotification}\r\n\t\t\t\t\t\trefreshData={refreshData}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t{permisos.crearUsuarios && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='floatingButton'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push('/users/new');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst UserVisualizer = ({ user_data, history, permisos, setNotification, refreshData }) => {\r\n\treturn (\r\n\t\t<div align='center'>\r\n\t\t\t<h3\r\n\t\t\t\tclassName='usersList'\r\n\t\t\t\talign='center'\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tpermisos.modificarUsuarios && history.push('/users/edit/' + user_data._id);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{user_data.username}\r\n\t\t\t</h3>\r\n\t\t\t{permisos.eliminarUsuarios && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tdeleteUser(user_data)\r\n\t\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t\t\t\t\t\tsetNotification('eError al eliminar el usuario');\r\n\t\t\t\t\t\t\t\thistory.push('/users');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\trefreshData();\r\n\t\t\t\t\t\t\t\tsetNotification('mUsuario eliminado correctamente');\r\n\t\t\t\t\t\t\t\thistory.push('/users');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='remove-button'\r\n\t\t\t\t>\r\n\t\t\t\t\tx\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ListUsers;\r\n","import React, { useState } from \"react\";\r\nimport { postUser } from \"../../routing/routes\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst NewUser = ({ users, roles, refreshData, setNotification }) => {\r\n  return (\r\n    <NewUserFrame\r\n      Users={users}\r\n      refreshData={refreshData}\r\n      roles={roles}\r\n      setNotification={setNotification}\r\n    />\r\n  );\r\n};\r\n\r\nconst NewUserFrame = ({ Users, refreshData, roles, setNotification }) => {\r\n  const history = useHistory();\r\n  const [UserParams, setUserParams] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    cpassword: \"\",\r\n    rol: \"\",\r\n  });\r\n\r\n  return (\r\n    <div style={{ width: \"80%\", margin: \"40px auto\" }}>\r\n      <div align=\"right\">\r\n        <div className=\"taby\">Nuevo Usuario</div>\r\n      </div>\r\n      <div className=\"form-container\">\r\n        <h3> Nombre del Usuario </h3>\r\n        <input\r\n          onChange={(event) =>\r\n            setUserParams({ ...UserParams, username: event.target.value })\r\n          }\r\n          style={{ width: \"300px\" }}\r\n        ></input>\r\n        <br />\r\n        {!Users.every((e) => e.username !== UserParams.username) && (\r\n          <span style={{ fontSize: 12, color: \"red\" }}>\r\n            Ya existe el nombre de usuario\r\n          </span>\r\n        )}\r\n        <h3> Selecciona un rol </h3>\r\n        <select\r\n          style={{ width: \"320px\" }}\r\n          onChange={(event) =>\r\n            setUserParams({ ...UserParams, rol: event.target.value })\r\n          }\r\n          value={UserParams.rol}\r\n        >\r\n          <option key=\"\" value=\"\">\r\n            Selecciona un rol...\r\n          </option>\r\n          {roles.map((rol) => (\r\n            <option key={rol} value={rol}>\r\n              {rol}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <h3> Contraseña </h3>\r\n        <input\r\n          onChange={(event) =>\r\n            setUserParams({ ...UserParams, password: event.target.value })\r\n          }\r\n          type=\"password\"\r\n          style={{ width: \"80%\" }}\r\n        ></input>\r\n        <br />\r\n        <h3> Confirmar Contraseña </h3>\r\n        <input\r\n          onChange={(event) =>\r\n            setUserParams({ ...UserParams, cpassword: event.target.value })\r\n          }\r\n          type=\"password\"\r\n          style={{ width: \"80%\" }}\r\n        ></input>\r\n        <br />\r\n        {UserParams.password !== UserParams.cpassword && (\r\n          <span style={{ fontSize: 12, color: \"red\" }}>\r\n            Las contraseñas no coinciden\r\n          </span>\r\n        )}\r\n\r\n        <br />\r\n        <br />\r\n\r\n        <div className=\"form-actions\" align=\"right\">\r\n          {/* Boton para cancelar el registro de un usuario */}\r\n          <button\r\n            className=\"form-button secondary-button\"\r\n            onClick={() => history.push(\"/users\")}\r\n          >\r\n            Cancelar\r\n          </button>\r\n\r\n          {/* Boton para guardar usuario */}\r\n          <button\r\n            disabled={\r\n              UserParams.password !== UserParams.cpassword ||\r\n              !UserParams.password ||\r\n              !UserParams.username ||\r\n              !UserParams.rol ||\r\n              !Users.every((e) => e.username !== UserParams.username)\r\n            } // !Users.every( e => e.username !== UserParams.username) <---- returns true if the user name already exists\r\n            onClick={() =>\r\n              Save(UserParams, history, refreshData, setNotification)\r\n            }\r\n            className=\"form-button primary-button\"\r\n          >\r\n            Guardar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Save(UserParams, history, refreshData, setNotification) {\r\n  const { username, password, rol } = UserParams;\r\n  const NewUser = { username, password, rol };\r\n  postUser(NewUser)\r\n    .catch((error) => {\r\n      console.error(\"Error:\", error);\r\n      setNotification(\"eError al crear el usuario\");\r\n      history.push(\"/users\");\r\n    })\r\n    .then(() => {\r\n      refreshData();\r\n      setNotification(\"mUsuario creado correctamente\");\r\n      history.push(\"/users\");\r\n    });\r\n}\r\n\r\nexport default NewUser;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { editUser } from '../../routing/routes';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst EditUserFrame = ({ user, refreshData, roles, setNotification, permisos }) => {\r\n\tconst history = useHistory();\r\n\tconst [UserParams, setUserParams] = useState({ _id: user._id, rol: user.rol, username: user.username, password: '', cpassword: '' });\r\n\r\n\tuseEffect(() => {\r\n\t\tsetUserParams({ _id: user._id, rol: user.rol, username: user.username, password: '', cpassword: '' });\r\n\t}, [user]);\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '80%', margin: '40px auto' }}>\r\n\t\t\t<div align='right'>\r\n\t\t\t\t<div className='taby'>Editar Usuario</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<h3> Nombre del usuario: {UserParams.username} </h3>\r\n\t\t\t\t<h3> Seleccione un rol: </h3>\r\n\t\t\t\t<select\r\n\t\t\t\t\tstyle={{ width: '30%' }}\r\n\t\t\t\t\tonChange={(event) => setUserParams({ ...UserParams, rol: event.target.value })}\r\n\t\t\t\t\tvalue={UserParams.rol}\r\n\t\t\t\t\tdisabled={!permisos.modificarUsuarios}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option key='' value=''>\r\n\t\t\t\t\t\tSeleccione...\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t{roles.map((rol) => (\r\n\t\t\t\t\t\t<option key={rol} value={rol}>\r\n\t\t\t\t\t\t\t{rol}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<h3> Nueva contraseña: </h3>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={(event) => setUserParams({ ...UserParams, password: event.target.value })}\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tstyle={{ width: '80%' }}\r\n\t\t\t\t\tvalue={UserParams.password}\r\n\t\t\t\t></input>\r\n\t\t\t\t<br />\r\n\t\t\t\t<h3> Confirmar nueva contraseña: </h3>\r\n\t\t\t\t<input onChange={(event) => setUserParams({ ...UserParams, cpassword: event.target.value })} type='password' style={{ width: '80%' }}></input>\r\n\t\t\t\t<br />\r\n\t\t\t\t{UserParams.password !== UserParams.cpassword && <span style={{ fontSize: 12, color: 'red' }}>Las contraseñas no coinciden</span>}\r\n\r\n\t\t\t\t<div className='form-actions' align='right'>\r\n\t\t\t\t\t{/* Boton para cancelar el registro de un usuario */}\r\n\t\t\t\t\t<button className='form-button secondary-button' onClick={() => history.push('/users')}>\r\n\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{/* Boton para guardar usuario */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={UserParams.password !== UserParams.cpassword || !UserParams.password || !UserParams.rol} // !Users.every( e => e.username !== UserParams.username) <---- returns true if the user name already exists\r\n\t\t\t\t\t\tonClick={() => Modify(UserParams, history, refreshData, setNotification)}\r\n\t\t\t\t\t\tclassName='form-button primary-button'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EditUserFrame;\r\n\r\nfunction Modify(UserParams, history, refreshData, setNotification) {\r\n\tconst ModifiedUser = { ...UserParams };\r\n\tdelete ModifiedUser.cpassword;\r\n\teditUser(ModifiedUser)\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t\tsetNotification('eError al modificar el usuario');\r\n\t\t\thistory.push('/users');\r\n\t\t})\r\n\t\t.then(() => {\r\n\t\t\trefreshData();\r\n\t\t\tsetNotification('mUsuario modificado correctamente');\r\n\t\t\thistory.push('/users');\r\n\t\t});\r\n}\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport EditUserFrame from './UsersFrameComponent';\r\n\r\nconst EditUser = ({ users, roles, refreshData, setNotification, permisos }) => {\r\n\tconst { id } = useParams();\r\n\tconst user = users.find((e) => e._id === id);\r\n\r\n\treturn <EditUserFrame user={user} refreshData={refreshData} roles={roles} setNotification={setNotification} permisos={permisos} />;\r\n};\r\n\r\nexport default EditUser;\r\n","import React from 'react';\r\n\r\nclass Notification extends React.Component {\r\n  \r\n    componentDidMount(){\r\n      setTimeout(() => {\r\n          this.props.setNotification('')\r\n      }, 4000);\r\n    }\r\n\r\n    render(){\r\n        let notificationType = '';\r\n        switch (this.props.intent) {\r\n            case 'e':\r\n                notificationType = 'notification alert';\r\n                break;\r\n\r\n            case 'm':\r\n                notificationType = 'notification success';\r\n                break;\r\n\r\n            case 'w':\r\n                notificationType = 'notification warning';\r\n                break;\r\n        \r\n            default:\r\n                notificationType = 'notification alert';\r\n                break;\r\n        }\r\n        return (<div className={notificationType}>{this.props.message}</div>)\r\n    }\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport Login from './components/LoginComponent';\r\nimport Nodos from './components/NodosComponent';\r\nimport VerNodo from './components/VerNodoComponent';\r\nimport NuevoNodo from './components/NuevoNodoComponent';\r\nimport NuevaArista from './components/NuevaAristaComponent';\r\nimport EditarArista from './components/ModificacionArista/EditarAristaComponent';\r\nimport Entrenamiento from './components/EntrenamientoComponent';\r\nimport NuevoIntent from './components/NuevoIntentComponent';\r\nimport EditarIntent from './components/EditarIntentComponent';\r\nimport NuevoEntity from './components/NuevoEntityComponent';\r\nimport EditarEntity from './components/EditarEntityComponent';\r\n// import Reportes from './components/ReportesComponent';\r\nimport Reportes from './components/ReporteriaV2/ReportesComponent';\r\n// import Monitoreo from \"./components/MonitoreoComponent\";\r\nimport Pruebas from './components/Pruebas/PruebasComponent';\r\nimport Scripts from './components/ScriptsNoFlujo/ScriptsNoFlujoComponent';\r\nimport ModifyScripts from './components/ScriptsNoFlujo/ModifyScriptsNoFlujoComponent';\r\nimport ModifyReminders from './components/ScriptsNoFlujo/ModifyRemindersComponent';\r\nimport CreateReminders from './components/ScriptsNoFlujo/CreateRemindersComponent';\r\nimport Gramaticas from './components/Gramaticas/GramaticasComponent';\r\nimport EditGramatica from './components/Gramaticas/EditGramaticaComponent';\r\nimport CreateGramatica from './components/Gramaticas/CreateGramaticaComponent';\r\nimport ListUsers from './components/Usuarios/UsersComponent';\r\nimport NewUser from './components/Usuarios/UsersNewComponent';\r\nimport EditUser from './components/Usuarios/UsersEditComponent';\r\nimport OwnUser from './components/Usuarios/UsersFrameComponent';\r\nimport LogoXira from './components/assets/Logo_Xira.png';\r\nimport Notification from './components/NotificationComponent';\r\nimport './App.css';\r\n// import logoCliente from './logo-afirme.jpg';\r\n// import logoXira from './logo-xira.jpg';\r\nimport {\r\n\tlogin,\r\n\tgetNodos,\r\n\tgetIntents,\r\n\tgetEntities,\r\n\tgetConversaciones,\r\n\tgetTemas,\r\n\tgetGramaticasDebiles,\r\n\tgetGramaticasFuertes,\r\n\tgetUsers,\r\n\tgetUserRoles,\r\n\tgetArchivos,\r\n\tgetScriptsNoFlujo,\r\n\tgetChatbotFunctions,\r\n\tgetRecordatorios,\r\n} from './routing/routes';\r\n// import * as config from './config'\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser: null,\r\n\t\t\tusers: [],\r\n\t\t\tnodos: [],\r\n\t\t\tintents: [],\r\n\t\t\tentities: [],\r\n\t\t\tgramaticas: {\r\n\t\t\t\tfuertes: [],\r\n\t\t\t\tdebiles: [],\r\n\t\t\t},\r\n\t\t\tnotification: '',\r\n\t\t\treportsData: {\r\n\t\t\t\tconversaciones: [],\r\n\t\t\t\tnoEntendido: [],\r\n\t\t\t\ttemas: [],\r\n\t\t\t},\r\n\t\t\tarchivos: {\r\n\t\t\t\timagenes: [],\r\n\t\t\t\taudios: [],\r\n\t\t\t\tvideos: [],\r\n\t\t\t\tdocumentos: [],\r\n\t\t\t},\r\n\t\t\tscriptsNoFlujo: [],\r\n\t\t\tfunctionesChatbot: [],\r\n\t\t\troles: [],\r\n\t\t};\r\n\r\n\t\tthis.setNotification = this.setNotification.bind(this);\r\n\t\tthis.refreshData = this.refreshData.bind(this);\r\n\t\tthis.refreshReportsData = this.refreshReportsData.bind(this);\r\n\t\tthis.setState = this.setState.bind(this);\r\n\t\tthis.setTemas = this.setTemas.bind(this);\r\n\t\tthis.signIn = this.signIn.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ user: JSON.parse(sessionStorage.getItem('user')) });\r\n\t\tthis.refreshData();\r\n\t}\r\n\r\n\trefreshData() {\r\n\t\tgetNodos().then((json) => this.setState({ nodos: json }));\r\n\t\tgetUsers().then((json) => this.setState({ users: json }));\r\n\t\tgetUserRoles().then((json) => this.setState({ roles: json }));\r\n\t\tgetIntents().then((json) => this.setState({ intents: json }));\r\n\t\tgetEntities().then((json) => this.setState({ entities: json }));\r\n\t\tgetGramaticasFuertes().then((json) => this.setState({ gramaticas: { ...this.state.gramaticas, fuertes: json } }));\r\n\t\tgetGramaticasDebiles().then((json) => this.setState({ gramaticas: { ...this.state.gramaticas, debiles: json } }));\r\n\t\tgetArchivos().then((json) => this.setState({ archivos: json }));\r\n\t\tgetScriptsNoFlujo().then((json) => this.setState({ scriptsNoFlujo: json }));\r\n\t\tgetChatbotFunctions().then((json) => this.setState({ functionesChatbot: json }));\r\n\t\tgetRecordatorios().then((json) => this.setState({ recordatorios: json }));\r\n\t}\r\n\r\n\tsetTemas(data) {\r\n\t\tthis.setState({ reportsData: { ...this.state.reportsData, temas: data } });\r\n\t}\r\n\r\n\tasync refreshReportsData(fbPage = 'Todas', channel = 'Todos') {\r\n\t\tawait Promise.all([\r\n\t\t\tgetConversaciones(fbPage, channel).then((json) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\treportsData: {\r\n\t\t\t\t\t\t...this.state.reportsData,\r\n\t\t\t\t\t\tconversaciones: json.conversaciones,\r\n\t\t\t\t\t\tnoEntendido: json.noEntendido,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\tgetTemas().then((json) =>\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\treportsData: { ...this.state.reportsData, temas: json },\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t]);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetNotification(message) {\r\n\t\tthis.setState({ notification: message });\r\n\t}\r\n\r\n\tsignIn(user) {\r\n\t\tlogin(user).then((logged_user) => {\r\n\t\t\tif (logged_user) {\r\n\t\t\t\tsessionStorage.setItem('user', JSON.stringify(logged_user));\r\n\t\t\t}\r\n\t\t\tthis.setState({ user: logged_user });\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { nodos, intents, entities, notification, scriptsNoFlujo, gramaticas, user, archivos, functionesChatbot, roles, recordatorios } = this.state;\r\n\t\tif (!user) return <Login user={user} login={this.signIn} />;\r\n\t\treturn (\r\n\t\t\t<Router>\r\n\t\t\t\t{notification.length > 0 && (\r\n\t\t\t\t\t<Notification message={notification.substring(1, notification.length)} intent={notification[0]} setNotification={this.setNotification} />\r\n\t\t\t\t)}\r\n\t\t\t\t<nav className='navbar'>\r\n\t\t\t\t\t<Navigation intents={intents} entities={entities} permisos={user.permisos.vistas} />\r\n\t\t\t\t</nav>\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE SCRIPTS */}\r\n\t\t\t\t\t\t{user.permisos.vistas.scripts && (\r\n\t\t\t\t\t\t\t<Route exact path='/scripts'>\r\n\t\t\t\t\t\t\t\t<Scripts\r\n\t\t\t\t\t\t\t\t\tscriptsNoFlujo={scriptsNoFlujo}\r\n\t\t\t\t\t\t\t\t\trecordatorios={recordatorios}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaScripts}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.scripts && user.permisos.vistaScripts.modificarScripts && (\r\n\t\t\t\t\t\t\t<Route exact path='/scripts/edit/noflujo/:id'>\r\n\t\t\t\t\t\t\t\t<ModifyScripts\r\n\t\t\t\t\t\t\t\t\tscriptsNoFlujo={scriptsNoFlujo}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaScripts}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.scripts && user.permisos.vistaScripts.modificarRecordatorios && (\r\n\t\t\t\t\t\t\t<Route exact path='/scripts/edit/recordatorios/:id'>\r\n\t\t\t\t\t\t\t\t<ModifyReminders\r\n\t\t\t\t\t\t\t\t\trecordatorios={recordatorios}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaScripts}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.scripts && user.permisos.vistaScripts.crearRecordatorios && (\r\n\t\t\t\t\t\t\t<Route exact path='/scripts/create/recordatorios/'>\r\n\t\t\t\t\t\t\t\t<CreateReminders\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaScripts}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE GRAMATICAS */}\r\n\t\t\t\t\t\t{user.permisos.vistas.gramaticas && (\r\n\t\t\t\t\t\t\t<Route exact path='/gramaticas'>\r\n\t\t\t\t\t\t\t\t<Gramaticas\r\n\t\t\t\t\t\t\t\t\tgramaticas={gramaticas}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaGramaticas}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.gramaticas && user.permisos.vistaGramaticas.modificarGramaticasDebiles && (\r\n\t\t\t\t\t\t\t<Route exact path='/gramaticas/edit/debil/:id'>\r\n\t\t\t\t\t\t\t\t<EditGramatica\r\n\t\t\t\t\t\t\t\t\tgramaticas={gramaticas}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tnotify={this.setNotification}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaGramaticas}\r\n\t\t\t\t\t\t\t\t\ttype='debil'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.gramaticas && user.permisos.vistaGramaticas.modificarGramaticasFuertes && (\r\n\t\t\t\t\t\t\t<Route exact path='/gramaticas/edit/fuerte/:id'>\r\n\t\t\t\t\t\t\t\t<EditGramatica\r\n\t\t\t\t\t\t\t\t\tgramaticas={gramaticas}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tnotify={this.setNotification}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaGramaticas}\r\n\t\t\t\t\t\t\t\t\ttype='fuerte'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.gramaticas && user.permisos.vistaGramaticas.crearGramaticasDebiles && (\r\n\t\t\t\t\t\t\t<Route exact path='/gramaticas/new/debil'>\r\n\t\t\t\t\t\t\t\t<CreateGramatica\r\n\t\t\t\t\t\t\t\t\tgramaticas={gramaticas}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tnotify={this.setNotification}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaGramaticas}\r\n\t\t\t\t\t\t\t\t\ttype='debil'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.gramaticas && user.permisos.vistaGramaticas.crearGramaticasFuertes && (\r\n\t\t\t\t\t\t\t<Route exact path='/gramaticas/new/fuerte'>\r\n\t\t\t\t\t\t\t\t<CreateGramatica\r\n\t\t\t\t\t\t\t\t\tgramaticas={gramaticas}\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tnotify={this.setNotification}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaGramaticas}\r\n\t\t\t\t\t\t\t\t\ttype='fuerte'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE ENTRENAMIENTO */}\r\n\t\t\t\t\t\t{user.permisos.vistas.entrenamiento && (\r\n\t\t\t\t\t\t\t<Route exact path='/training'>\r\n\t\t\t\t\t\t\t\t<Entrenamiento\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaEntrenamiento}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.entrenamiento && user.permisos.vistaEntrenamiento.crearIntenciones && (\r\n\t\t\t\t\t\t\t<Route exact path='/intents/new'>\r\n\t\t\t\t\t\t\t\t<NuevoIntent\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaEntrenamiento}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.entrenamiento && user.permisos.vistaEntrenamiento.modificarIntenciones && (\r\n\t\t\t\t\t\t\t<Route exact path='/intents/edit/:id'>\r\n\t\t\t\t\t\t\t\t<EditarIntent\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaEntrenamiento}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.entrenamiento && user.permisos.vistaEntrenamiento.crearEntidades && (\r\n\t\t\t\t\t\t\t<Route exact path='/entities/new'>\r\n\t\t\t\t\t\t\t\t<NuevoEntity\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaEntrenamiento}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.entrenamiento && user.permisos.vistaEntrenamiento.modificarEntidades && (\r\n\t\t\t\t\t\t\t<Route exact path='/entities/edit/:id'>\r\n\t\t\t\t\t\t\t\t<EditarEntity\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaEntrenamiento}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE LOS REPORTES */}\r\n\t\t\t\t\t\t{user.permisos.vistas.reporteria && (\r\n\t\t\t\t\t\t\t<Route exact path='/reports'>\r\n\t\t\t\t\t\t\t\t<Reportes permisos={user.permisos.vistaReporteria} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE PRUEBAS */}\r\n\t\t\t\t\t\t{user.permisos.vistas.pruebas && (\r\n\t\t\t\t\t\t\t<Route exact path='/pruebas'>\r\n\t\t\t\t\t\t\t\t<Pruebas setNotification={this.setNotification} permisos={user.permisos.vistaPruebas} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE USUARIOS */}\r\n\t\t\t\t\t\t{user.permisos.vistas.usuarios && (\r\n\t\t\t\t\t\t\t<Route exact path='/users'>\r\n\t\t\t\t\t\t\t\t<ListUsers\r\n\t\t\t\t\t\t\t\t\tusers={this.state.users}\r\n\t\t\t\t\t\t\t\t\tuser={this.state.user}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaUsuarios}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.usuarios && user.permisos.vistaUsuarios.crearUsuarios && (\r\n\t\t\t\t\t\t\t<Route exact path='/users/new'>\r\n\t\t\t\t\t\t\t\t<NewUser\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tusers={this.state.users}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaUsuarios}\r\n\t\t\t\t\t\t\t\t\troles={roles}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.usuarios && (\r\n\t\t\t\t\t\t\t<Route exact path={`/users/edit/${this.state.user._id}`}>\r\n\t\t\t\t\t\t\t\t<OwnUser\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tuser={this.state.user}\r\n\t\t\t\t\t\t\t\t\troles={roles}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaUsuarios}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.usuarios && user.permisos.vistaUsuarios.modificarUsuarios && (\r\n\t\t\t\t\t\t\t<Route exact path='/users/edit/:id'>\r\n\t\t\t\t\t\t\t\t<EditUser\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tusers={this.state.users}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaUsuarios}\r\n\t\t\t\t\t\t\t\t\troles={roles}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{/* SECCION DE LA VISTA DE MANEJO DE NODOS */}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.manejoNodos && user.permisos.vistaMDN.crearNodo && (\r\n\t\t\t\t\t\t\t<Route exact path='/new'>\r\n\t\t\t\t\t\t\t\t<NuevoNodo nodos={nodos} setNotification={this.setNotification} refreshData={this.refreshData} permisos={user.permisos.vistaMDN} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.manejoNodos && user.permisos.vistaMDN.modificarNodo && (\r\n\t\t\t\t\t\t\t<Route exact path='/edit/:id'>\r\n\t\t\t\t\t\t\t\t<VerNodo\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaMDN}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.manejoNodos && user.permisos.vistaMDN.crearArista && (\r\n\t\t\t\t\t\t\t<Route exact path='/new_connection/:id'>\r\n\t\t\t\t\t\t\t\t<NuevaArista\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaMDN}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.manejoNodos && user.permisos.vistaMDN.modificarAristas && (\r\n\t\t\t\t\t\t\t<Route exact path='/edit_connection/:id/:index'>\r\n\t\t\t\t\t\t\t\t<EditarArista\r\n\t\t\t\t\t\t\t\t\tnodos={nodos}\r\n\t\t\t\t\t\t\t\t\tintents={intents}\r\n\t\t\t\t\t\t\t\t\tentities={entities}\r\n\t\t\t\t\t\t\t\t\tarchivos={archivos}\r\n\t\t\t\t\t\t\t\t\tfunctionesChatbot={functionesChatbot}\r\n\t\t\t\t\t\t\t\t\tsetNotification={this.setNotification}\r\n\t\t\t\t\t\t\t\t\trefreshData={this.refreshData}\r\n\t\t\t\t\t\t\t\t\tpermisos={user.permisos.vistaMDN}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{user.permisos.vistas.manejoNodos && (\r\n\t\t\t\t\t\t\t<Route path='/'>\r\n\t\t\t\t\t\t\t\t<Nodos nodos={nodos} permisos={user.permisos.vistaMDN} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t\t<div style={{ marginTop: 40 }}></div>\r\n\t\t\t\t</main>\r\n\t\t\t</Router>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Navigation = ({ intents, entities, permisos }) => {\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tconst [activeRoute, setActiveRoute] = useState(0);\r\n\tconst [allTrained, setAllTrained] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (intents.length > 0 && entities.length > 0) {\r\n\t\t\tif (\r\n\t\t\t\tintents.some((e) => {\r\n\t\t\t\t\tconst result = e.examples.some((e2) => {\r\n\t\t\t\t\t\tconst result2 = e2.trained === false;\r\n\t\t\t\t\t\treturn result2;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}) ||\r\n\t\t\t\tentities.some((e) => {\r\n\t\t\t\t\tconst result = e.subentities.some((e2) => {\r\n\t\t\t\t\t\tconst result2 = e2.examples.some((e3) => {\r\n\t\t\t\t\t\t\tconst result3 = e3.trained === false;\r\n\t\t\t\t\t\t\treturn result3;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn result2;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\tsetAllTrained(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetAllTrained(true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetAllTrained(false);\r\n\t\t}\r\n\t}, [intents, entities]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (location.pathname.includes('/scripts')) {\r\n\t\t\tpermisos.scripts && setActiveRoute(1);\r\n\t\t} else if (location.pathname.includes('/gramaticas')) {\r\n\t\t\tpermisos.gramaticas && setActiveRoute(2);\r\n\t\t} else if (location.pathname.includes('/training')) {\r\n\t\t\tpermisos.entrenamiento && setActiveRoute(3);\r\n\t\t} else if (location.pathname.includes('/reports')) {\r\n\t\t\tpermisos.reporteria && setActiveRoute(4);\r\n\t\t} else if (location.pathname.includes('/pruebas')) {\r\n\t\t\tpermisos.pruebas && setActiveRoute(5);\r\n\t\t} else if (location.pathname.includes('/users')) {\r\n\t\t\tpermisos.usuarios && setActiveRoute(6);\r\n\t\t} else {\r\n\t\t\tpermisos.manejoNodos && setActiveRoute(0);\r\n\t\t}\r\n\t}, [permisos, location.pathname]);\r\n\r\n\treturn (\r\n\t\t<ul className='navbar-nav'>\r\n\t\t\t<img src={LogoXira} className='LogoXira' alt='Logo_Xira' />\r\n\t\t\t{permisos.manejoNodos && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(0);\r\n\t\t\t\t\t\thistory.push('/');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 0 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 0 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tManejo de Nodos\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.scripts && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(1);\r\n\t\t\t\t\t\thistory.push('/scripts');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 1 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 1 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tScripts\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.gramaticas && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(2);\r\n\t\t\t\t\t\thistory.push('/gramaticas');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 2 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 2 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tGramáticas\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.entrenamiento && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName={allTrained ? 'navbar-link' : 'navbar-link blink_me'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(3);\r\n\t\t\t\t\t\thistory.push('/training');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 3 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 3 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tEntrenamiento\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.reporteria && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(4);\r\n\t\t\t\t\t\thistory.push('/reports');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 4 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 4 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tReportería\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.pruebas && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(5);\r\n\t\t\t\t\t\thistory.push('/pruebas');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 5 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 5 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPruebas\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t{permisos.usuarios && (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName='navbar-link'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetActiveRoute(6);\r\n\t\t\t\t\t\thistory.push('/users');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\topacity: activeRoute === 6 ? 1 : 0.5,\r\n\t\t\t\t\t\tfontWeight: activeRoute === 6 ? 'bold' : 'normal',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tUsuarios\r\n\t\t\t\t</li>\r\n\t\t\t)}\r\n\t\t\t<li\r\n\t\t\t\tclassName='navbar-link'\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsessionStorage.clear();\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tLogout\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n\r\n// administrador: {\r\n// \tvistas: {\r\n// \t\tmanejoNodos: true,\r\n// \t\tscripts: true,\r\n// \t\tgramaticas: true,\r\n// \t\tentrenamiento: true,\r\n// \t\tusuarios: true,\r\n// \t\tpruebas: true,\r\n// \t\treporteria: true,\r\n// \t},\r\n// \tvistaMDN: {\r\n// \t\tmodificarNodo: true,\r\n// \t\tcrearNodo: true,\r\n// \t\teliminarNodo: true,\r\n// \t\tmodificarAristas: true,\r\n// \t\tcrearArista: true,\r\n// \t\teliminarArista: true,\r\n// \t},\r\n// \tvistaScripts: {\r\n// \t\tmodificarScripts: true,\r\n// \t},\r\n// \tvistaGramaticas: {\r\n// \t\tcrearGramaticasDebiles: true,\r\n// \t\tmodificarGramaticasDebiles: true,\r\n// \t\teliminarGramaticasDebiles: true,\r\n// \t\tcrearGramaticasFuertes: true,\r\n// \t\tmodificarGramaticasFuertes: true,\r\n// \t\teliminarGramaticaFuertes: true,\r\n// \t},\r\n// \tvistaEntrenamiento: {\r\n// \t\tcrearEntidades: true,\r\n// \t\tmodificarEntidades: true,\r\n// \t\teliminarEntidades: true,\r\n// \t\tcrearIntenciones: true,\r\n// \t\tmodificarIntenciones: true,\r\n// \t\teliminarIntenciones: true,\r\n// \t\tentrenar: true,\r\n// \t},\r\n// \tvistaReporteria: {\r\n// \t\tdescargarReportes: true,\r\n// \t},\r\n// \tvistaPruebas: {\r\n// \t\tanalizarExpresion: true,\r\n// \t},\r\n// \tvistaUsuarios: {\r\n// \t\tcrearUsuarios: false,\r\n// \t\tmodificarUsuarios: true,\r\n// \t\teliminarUsuarios: true,\r\n// \t},\r\n// },\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}